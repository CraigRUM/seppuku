(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";function n(t,e,r){var n=r?t.rows:t.rows-1;if(e<0||e>n)throw new RangeError("Row index out of range")}function i(t,e,r){var n=r?t.columns:t.columns-1;if(e<0||e>n)throw new RangeError("Column index out of range")}function a(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function o(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function s(t,e,r){return{row:u(t,e),column:l(t,r)}}function u(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for row indices");if(e.some(function(e){return e<0||e>=t.rows}))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function l(t,e){if("object"!==typeof e)throw new TypeError("unexpected type for column indices");if(e.some(function(e){return e<0||e>=t.columns}))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function h(t,e,r,n,i){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(f("startRow",e),f("endRow",r),f("startColumn",n),f("endColumn",i),e>r||n>i||e<0||e>=t.rows||r<0||r>=t.rows||n<0||n>=t.columns||i<0||i>=t.columns)throw new RangeError("Submatrix indices are out of range")}function c(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0;n<t;n++)r.push(e);return r}function f(t,e){if("number"!==typeof e)throw new TypeError("".concat(t," must be a number"))}function d(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}r.d(e,"g",function(){return n}),r.d(e,"a",function(){return i}),r.d(e,"i",function(){return a}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return s}),r.d(e,"h",function(){return u}),r.d(e,"b",function(){return l}),r.d(e,"f",function(){return h}),r.d(e,"j",function(){return c}),r.d(e,"e",function(){return d})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(24);function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(n.a)(t,e)}},function(t,e,r){"use strict";var n=r(20),i=r(3),a=r(5),o=r(0),s=r(1),u=r(14);function l(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(u.a)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!Object(u.a)(r.output))throw new TypeError("output option must be an array if specified");e=r.output}else e=new Array(t.length);var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(u.a)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,i=e.toIndex,a=void 0===i?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[n],s=n+1;s<a;s++)t[s]<o&&(o=t[s]);return o}(t),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Object(u.a)(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var r=e.fromIndex,n=void 0===r?0:r,i=e.toIndex,a=void 0===i?t.length:i;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=n||a>t.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=t[n],s=n+1;s<a;s++)t[s]>o&&(o=t[s]);return o}(t);if(n===i)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=void 0===a?r.autoMinMax?n:0:a,s=r.max,l=void 0===s?r.autoMinMax?i:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var h=(l-o)/(i-n),c=0;c<t.length;c++)e[c]=(t[c]-n)*h+o;return e}var h=" ".repeat(2),c=" ".repeat(4);function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.maxRows,n=void 0===r?15:r,i=e.maxColumns,a=void 0===i?10:i,o=e.maxNumSize,s=void 0===o?8:o;return"".concat(t.constructor.name," {\n").concat(h,"[\n").concat(c).concat(function(t,e,r,n){for(var i=t.rows,a=t.columns,o=Math.min(i,e),s=Math.min(a,r),u=[],l=0;l<o;l++){for(var h=[],f=0;f<s;f++)h.push(d(t.get(l,f),n));u.push("".concat(h.join(" ")))}s!==a&&(u[u.length-1]+=" ... ".concat(a-r," more columns"));o!==i&&u.push("... ".concat(i-e," more rows"));return u.join("\n".concat(c))}(t,n,a,s),"\n").concat(h,"]\n").concat(h,"rows: ").concat(t.rows,"\n").concat(h,"columns: ").concat(t.columns,"\n}")}function d(t,e){var r=String(t);if(r.length<=e)return r.padEnd(e," ");var n=t.toPrecision(e-2);if(n.length<=e)return n;var i=t.toExponential(e-2),a=i.indexOf("e"),o=i.slice(a);return i.slice(0,e-o.length)+o}var p=r(2);r.d(e,"a",function(){return m}),r.d(e,"b",function(){return w});var m=function(){function t(){Object(o.a)(this,t)}return Object(s.a)(t,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if("function"!==typeof t)throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,i=!1;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);t++}return n}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,n=!0,i=!1;t<this.rows&&n;){for(e=0,i=!1;e<this.columns&&!1===i;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(i=!0,r=e):(n=!1,i=!0);for(var a=e+1;a<this.rows;a++)0!==this.get(t,a)&&(n=!1);t++}return n}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var n=e,i=e;i<t.rows;i++)t.get(i,r)>t.get(n,r)&&(n=i);if(0===t.get(n,r))r++;else{t.swapRows(e,n);for(var a=t.get(e,r),o=r;o<t.columns;o++)t.set(e,o,t.get(e,o)/a);for(var s=e+1;s<t.rows;s++){var u=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(var l=r+1;l<t.columns;l++)t.set(s,l,t.get(s,l)-t.get(e,l)*u)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,n=r-1;n>=0;)if(0===t.maxRow(n))n--;else{for(var i=0,a=!1;i<r&&!1===a;)1===t.get(n,i)?a=!0:i++;for(var o=0;o<n;o++)for(var s=t.get(o,i),u=i;u<e;u++){var l=t.get(o,u)-s*t.get(n,u);t.set(o,u,l)}n--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var e=t.rows,r=void 0===e?1:e,n=t.columns,i=void 0===n?1:n;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");for(var a=new w(this.rows*r,this.columns*i),o=0;o<r;o++)for(var s=0;s<i;s++)a.setSubMatrix(this,this.rows*o,this.columns*s);return a}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Object(p.g)(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return w.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Object(p.g)(this,t),e=Object(p.i)(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){Object(p.g)(this,t),Object(p.g)(this,e);for(var r=0;r<this.columns;r++){var n=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,n)}return this}},{key:"getColumn",value:function(t){Object(p.a)(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return w.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Object(p.a)(this,t),e=Object(p.c)(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){Object(p.a)(this,t),Object(p.a)(this,e);for(var r=0;r<this.rows;r++){var n=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,n)}return this}},{key:"addRowVector",value:function(t){t=Object(p.i)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=Object(p.i)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=Object(p.i)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=Object(p.i)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=Object(p.c)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Object(p.c)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Object(p.c)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Object(p.c)(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){Object(p.g)(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){Object(p.a)(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){Object(p.e)(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){Object(p.e)(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t&&(t=this.get(r,n),e[0]=r,e[1]=n);return e}},{key:"maxRow",value:function(t){if(Object(p.g)(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){Object(p.g)(this,t),Object(p.e)(this);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n),r[1]=n);return r}},{key:"minRow",value:function(t){if(Object(p.g)(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){Object(p.g)(this,t),Object(p.e)(this);for(var e=this.get(t,0),r=[t,0],n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n),r[1]=n);return r}},{key:"maxColumn",value:function(t){if(Object(p.a)(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){Object(p.a)(this,t),Object(p.e)(this);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t),r[0]=n);return r}},{key:"minColumn",value:function(t){if(Object(p.a)(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){Object(p.a)(this,t),Object(p.e)(this);for(var e=this.get(0,t),r=[0,t],n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t),r[0]=n);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",e=0;if("max"===t)return this.max();if("frobenius"===t){for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)e+=this.get(r,n)*this.get(r,n);return Math.sqrt(e)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(e){t.isMatrix(e)&&(e=e.to1DArray());var r=this.to1DArray();if(r.length!==e.length)throw new RangeError("vectors do not have the same size");for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[i];return n}},{key:"mmul",value:function(t){t=w.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.columns,i=new w(e,n),a=new Float64Array(r),o=0;o<n;o++){for(var s=0;s<r;s++)a[s]=t.get(s,o);for(var u=0;u<e;u++){for(var l=0,h=0;h<r;h++)l+=this.get(u,h)*a[h];i.set(u,o,l)}}return i}},{key:"strassen2x2",value:function(t){t=w.checkMatrix(t);var e=new w(2,2),r=this.get(0,0),n=t.get(0,0),i=this.get(0,1),a=t.get(0,1),o=this.get(1,0),s=t.get(1,0),u=this.get(1,1),l=t.get(1,1),h=(r+u)*(n+l),c=(o+u)*n,f=r*(a-l),d=u*(s-n),p=(r+i)*l,m=h+d-p+(i-u)*(s+l),g=f+p,v=c+d,y=h-c+f+(o-r)*(n+a);return e.set(0,0,m),e.set(0,1,g),e.set(1,0,v),e.set(1,1,y),e}},{key:"strassen3x3",value:function(t){t=w.checkMatrix(t);var e=new w(3,3),r=this.get(0,0),n=this.get(0,1),i=this.get(0,2),a=this.get(1,0),o=this.get(1,1),s=this.get(1,2),u=this.get(2,0),l=this.get(2,1),h=this.get(2,2),c=t.get(0,0),f=t.get(0,1),d=t.get(0,2),p=t.get(1,0),m=t.get(1,1),g=t.get(1,2),v=t.get(2,0),y=t.get(2,1),b=t.get(2,2),k=(r-a)*(-f+m),_=(-r+a+o)*(c-f+m),x=(a+o)*(-c+f),M=r*c,E=(-r+u+l)*(c-d+g),S=(-r+u)*(d-g),A=(u+l)*(-c+d),P=(-i+l+h)*(m+v-y),C=(i-h)*(m-y),O=i*v,D=(l+h)*(-v+y),I=(-i+o+s)*(g+v-b),T=(i-s)*(g-b),R=(o+s)*(-v+b),U=M+O+n*p,j=(r+n+i-a-o-l-h)*m+_+x+M+P+O+D,L=M+E+A+(r+n+i-o-s-u-l)*g+O+I+R,B=k+o*(-c+f+p-m-g-v+b)+_+M+O+I+T,N=k+_+x+M+s*y,F=O+I+T+R+a*d,z=M+E+S+l*(-c+d+p-m-g-v+y)+P+C+O,V=P+C+O+D+u*f,Y=M+E+S+A+h*b;return e.set(0,0,U),e.set(0,1,j),e.set(0,2,L),e.set(1,0,B),e.set(1,1,N),e.set(1,2,F),e.set(2,0,z),e.set(2,1,V),e.set(2,2,Y),e}},{key:"mmulStrassen",value:function(e){e=w.checkMatrix(e);var r=this.clone(),n=r.rows,i=r.columns,a=e.rows,o=e.columns;function s(e,r,n){var i=e.rows,a=e.columns;if(i===r&&a===n)return e;var o=t.zeros(r,n);return o=o.setSubMatrix(e,0,0)}i!==a&&console.warn("Multiplying ".concat(n," x ").concat(i," and ").concat(a," x ").concat(o," matrix: dimensions do not match."));var u=Math.max(n,a),l=Math.max(i,o);return function e(r,n,i,a){if(i<=512||a<=512)return r.mmul(n);i%2===1&&a%2===1?(r=s(r,i+1,a+1),n=s(n,i+1,a+1)):i%2===1?(r=s(r,i+1,a),n=s(n,i+1,a)):a%2===1&&(r=s(r,i,a+1),n=s(n,i,a+1));var o=parseInt(r.rows/2,10),u=parseInt(r.columns/2,10),l=r.subMatrix(0,o-1,0,u-1),h=n.subMatrix(0,o-1,0,u-1),c=r.subMatrix(0,o-1,u,r.columns-1),f=n.subMatrix(0,o-1,u,n.columns-1),d=r.subMatrix(o,r.rows-1,0,u-1),p=n.subMatrix(o,n.rows-1,0,u-1),m=r.subMatrix(o,r.rows-1,u,r.columns-1),g=n.subMatrix(o,n.rows-1,u,n.columns-1),v=e(t.add(l,m),t.add(h,g),o,u),y=e(t.add(d,m),h,o,u),w=e(l,t.sub(f,g),o,u),b=e(m,t.sub(p,h),o,u),k=e(t.add(l,c),g,o,u),_=e(t.sub(d,l),t.add(h,f),o,u),x=e(t.sub(c,m),t.add(p,g),o,u),M=t.add(v,b);M.sub(k),M.add(x);var E=t.add(w,k),S=t.add(y,b),A=t.sub(v,y);A.add(w),A.add(_);var P=t.zeros(2*M.rows,2*M.columns);return(P=(P=(P=(P=P.setSubMatrix(M,0,0)).setSubMatrix(E,M.rows,0)).setSubMatrix(S,0,M.columns)).setSubMatrix(A,M.rows,M.columns)).subMatrix(0,i-1,0,a-1)}(r=s(r,u,l),e=s(e,u,l),u,l)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,i=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(r>=i)throw new RangeError("min must be smaller than max");for(var a=new w(this.rows,this.columns),o=0;o<this.rows;o++){var s=this.getRow(o);s.length>0&&l(s,{min:r,max:i,output:s}),a.setRow(o,s)}return a}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==typeof t)throw new TypeError("options must be an object");var e=t.min,r=void 0===e?0:e,n=t.max,i=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(r>=i)throw new RangeError("min must be smaller than max");for(var a=new w(this.rows,this.columns),o=0;o<this.columns;o++){var s=this.getColumn(o);s.length&&l(s,{min:r,max:i,output:s}),a.setColumn(o,s)}return a}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var n=this.get(e,r),i=this.get(e,this.columns-1-r);this.set(e,r,i),this.set(e,this.columns-1-r,n)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var n=this.get(r,e),i=this.get(this.rows-1-r,e);this.set(r,e,i),this.set(this.rows-1-r,e,n)}return this}},{key:"kroneckerProduct",value:function(t){t=w.checkMatrix(t);for(var e=this.rows,r=this.columns,n=t.rows,i=t.columns,a=new w(e*n,r*i),o=0;o<e;o++)for(var s=0;s<r;s++)for(var u=0;u<n;u++)for(var l=0;l<i;l++)a.set(n*o+u,i*s+l,this.get(o,s)*t.get(u,l));return a}},{key:"kroneckerSum",value:function(t){if(t=w.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,r=t.rows,n=this.kroneckerProduct(w.eye(r,r)),i=w.eye(e,e).kroneckerProduct(t);return n.add(i)}},{key:"transpose",value:function(){for(var t=new w(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,n){Object(p.f)(this,t,e,r,n);for(var i=new w(e-t+1,n-r+1),a=t;a<=e;a++)for(var o=r;o<=n;o++)i.set(a-t,o-r,this.get(a,o));return i}},{key:"subMatrixRow",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new w(t.length,r-e+1),i=0;i<t.length;i++)for(var a=e;a<=r;a++){if(t[i]<0||t[i]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[i]));n.set(i,a-e,this.get(t[i],a))}return n}},{key:"subMatrixColumn",value:function(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new w(r-e+1,t.length),i=0;i<t.length;i++)for(var a=e;a<=r;a++){if(t[i]<0||t[i]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[i]));n.set(a-e,i,this.get(a,t[i]))}return n}},{key:"setSubMatrix",value:function(t,e,r){if((t=w.checkMatrix(t)).isEmpty())return this;var n=e+t.rows-1,i=r+t.columns-1;Object(p.f)(this,e,n,r,i);for(var a=0;a<t.rows;a++)for(var o=0;o<t.columns;o++)this.set(e+a,r+o,t.get(a,o));return this}},{key:"selection",value:function(t,e){for(var r=Object(p.d)(this,t,e),n=new w(t.length,e.length),i=0;i<r.row.length;i++)for(var a=r.row[i],o=0;o<r.column.length;o++){var s=r.column[o];n.set(i,o,this.get(a,s))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new w(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var e=Object(p.j)(t.rows),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]+=t.get(r,n);return e}(this);case"column":return function(t){for(var e=Object(p.j)(t.columns),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]+=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=0,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e+=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var e=Object(p.j)(t.rows,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[r]*=t.get(r,n);return e}(this);case"column":return function(t){for(var e=Object(p.j)(t.columns,1),r=0;r<t.rows;++r)for(var n=0;n<t.columns;++n)e[n]*=t.get(r,n);return e}(this);case void 0:return function(t){for(var e=1,r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)e*=t.get(r,n);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e;case"column":for(var n=0;n<this.columns;n++)e[n]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");var r=e,n=r.unbiased,i=void 0===n||n,a=r.mean,o=void 0===a?this.mean(t):a;if("boolean"!==typeof i)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(o))throw new TypeError("mean must be an array");return function(t,e,r){for(var n=t.rows,i=t.columns,a=[],o=0;o<n;o++){for(var s=0,u=0,l=0,h=0;h<i;h++)s+=l=t.get(o,h)-r[o],u+=l*l;e?a.push((u-s*s/i)/(i-1)):a.push((u-s*s/i)/i)}return a}(this,i,o);case"column":if(!Array.isArray(o))throw new TypeError("mean must be an array");return function(t,e,r){for(var n=t.rows,i=t.columns,a=[],o=0;o<i;o++){for(var s=0,u=0,l=0,h=0;h<n;h++)s+=l=t.get(h,o)-r[o],u+=l*l;e?a.push((u-s*s/n)/(n-1)):a.push((u-s*s/n)/n)}return a}(this,i,o);case void 0:if("number"!==typeof o)throw new TypeError("mean must be a number");return function(t,e,r){for(var n=t.rows,i=t.columns,a=n*i,o=0,s=0,u=0,l=0;l<n;l++)for(var h=0;h<i;h++)o+=u=t.get(l,h)-r,s+=u*u;return e?(s-o*o/a)/(a-1):(s-o*o/a)/a}(this,i,o);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){"object"===typeof t&&(e=t,t=void 0);var r=this.variance(t,e);if(void 0===t)return Math.sqrt(r);for(var n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");var r=e.center,n=void 0===r?this.mean(t):r;switch(t){case"row":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[r])}(this,n),this;case"column":if(!Array.isArray(n))throw new TypeError("center must be an array");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e[n])}(this,n),this;case void 0:if("number"!==typeof n)throw new TypeError("center must be a number");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)-e)}(this,n),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===typeof t&&(e=t,t=void 0),"object"!==typeof e)throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){for(var e=[],r=0;r<t.rows;r++){for(var n=0,i=0;i<t.columns;i++)n+=Math.pow(t.get(r,i),2)/(t.columns-1);e.push(Math.sqrt(n))}return e}(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[r])}(this,r),this;case"column":if(void 0===r)r=function(t){for(var e=[],r=0;r<t.columns;r++){for(var n=0,i=0;i<t.rows;i++)n+=Math.pow(t.get(i,r),2)/(t.rows-1);e.push(Math.sqrt(n))}return e}(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e[n])}(this,r),this;case void 0:if(void 0===r)r=function(t){for(var e=t.size-1,r=0,n=0;n<t.columns;n++)for(var i=0;i<t.rows;i++)r+=Math.pow(t.get(i,n),2)/e;return Math.sqrt(r)}(this);else if("number"!==typeof r)throw new TypeError("scale must be a number");return function(t,e){for(var r=0;r<t.rows;r++)for(var n=0;n<t.columns;n++)t.set(r,n,t.get(r,n)/e)}(this,r),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return f(this,t)}}],[{key:"from1DArray",value:function(t,e,r){if(t*e!==r.length)throw new RangeError("data length does not match given dimensions");for(var n=new w(t,e),i=0;i<t;i++)for(var a=0;a<e;a++)n.set(i,a,r[i*e+a]);return n}},{key:"rowVector",value:function(t){for(var e=new w(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new w(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new w(t,e)}},{key:"ones",value:function(t,e){return new w(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof r)throw new TypeError("options must be an object");for(var n=r.random,i=void 0===n?Math.random:n,a=new w(t,e),o=0;o<t;o++)for(var s=0;s<e;s++)a.set(o,s,i());return a}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==typeof r)throw new TypeError("options must be an object");var n=r.min,i=void 0===n?0:n,a=r.max,o=void 0===a?1e3:a,s=r.random,u=void 0===s?Math.random:s;if(!Number.isInteger(i))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(i>=o)throw new RangeError("min must be smaller than max");for(var l=o-i,h=new w(t,e),c=0;c<t;c++)for(var f=0;f<e;f++){var d=i+Math.round(u()*l);h.set(c,f,d)}return h}},{key:"eye",value:function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);for(var n=Math.min(t,e),i=this.zeros(t,e),a=0;a<n;a++)i.set(a,a,r);return i}},{key:"diag",value:function(t,e,r){var n=t.length;void 0===e&&(e=n),void 0===r&&(r=e);for(var i=Math.min(n,e,r),a=this.zeros(e,r),o=0;o<i;o++)a.set(o,o,t[o]);return a}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new w(r,n),a=0;a<r;a++)for(var o=0;o<n;o++)i.set(a,o,Math.min(t.get(a,o),e.get(a,o)));return i}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,n=t.columns,i=new this(r,n),a=0;a<r;a++)for(var o=0;o<n;o++)i.set(a,o,Math.max(t.get(a,o),e.get(a,o)));return i}},{key:"checkMatrix",value:function(e){return t.isMatrix(e)?e:new w(e)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function g(t,e){return t-e}m.prototype.klass="Matrix","undefined"!==typeof Symbol&&(m.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return f(this)}),m.random=m.rand,m.randomInt=m.randInt,m.diagonal=m.diag,m.prototype.diagonal=m.prototype.diag,m.identity=m.eye,m.prototype.negate=m.prototype.neg,m.prototype.tensorProduct=m.prototype.kroneckerProduct;var v,y,w=function(t){Object(i.a)(r,t);var e=Object(a.a)(r);function r(t,i){var a;if(Object(o.a)(this,r),a=e.call(this),r.isMatrix(t))return Object(n.a)(a,t.clone());if(Number.isInteger(t)&&t>=0){if(a.data=[],!(Number.isInteger(i)&&i>=0))throw new TypeError("nColumns must be a positive integer");for(var s=0;s<t;s++)a.data.push(new Float64Array(i))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");var u=t;if("number"!==typeof(i=(t=u.length)?u[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<t;l++){if(u[l].length!==i)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(u[l]))}}return a.rows=t,a.columns=i,a}return Object(s.a)(r,[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}},{key:"removeRow",value:function(t){return Object(p.g)(this,t),this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,e){return void 0===e&&(e=t,t=this.rows),Object(p.g)(this,t,!0),e=Float64Array.from(Object(p.i)(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:"removeColumn",value:function(t){Object(p.a)(this,t);for(var e=0;e<this.rows;e++){for(var r=new Float64Array(this.columns-1),n=0;n<t;n++)r[n]=this.data[e][n];for(var i=t+1;i<this.columns;i++)r[i-1]=this.data[e][i];this.data[e]=r}return this.columns-=1,this}},{key:"addColumn",value:function(t,e){"undefined"===typeof e&&(e=t,t=this.columns),Object(p.a)(this,t,!0),e=Object(p.c)(this,e);for(var r=0;r<this.rows;r++){for(var n=new Float64Array(this.columns+1),i=0;i<t;i++)n[i]=this.data[r][i];for(n[i++]=e[r];i<this.columns+1;i++)n[i]=this.data[r][i-1];this.data[r]=n}return this.columns+=1,this}}]),r}(m);y=w,(v=m).prototype.add=function(t){return"number"===typeof t?this.addS(t):this.addM(t)},v.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t);return this},v.prototype.addM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},v.add=function(t,e){return new y(t).add(e)},v.prototype.sub=function(t){return"number"===typeof t?this.subS(t):this.subM(t)},v.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t);return this},v.prototype.subM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},v.sub=function(t,e){return new y(t).sub(e)},v.prototype.subtract=v.prototype.sub,v.prototype.subtractS=v.prototype.subS,v.prototype.subtractM=v.prototype.subM,v.subtract=v.sub,v.prototype.mul=function(t){return"number"===typeof t?this.mulS(t):this.mulM(t)},v.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this},v.prototype.mulM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},v.mul=function(t,e){return new y(t).mul(e)},v.prototype.multiply=v.prototype.mul,v.prototype.multiplyS=v.prototype.mulS,v.prototype.multiplyM=v.prototype.mulM,v.multiply=v.mul,v.prototype.div=function(t){return"number"===typeof t?this.divS(t):this.divM(t)},v.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t);return this},v.prototype.divM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},v.div=function(t,e){return new y(t).div(e)},v.prototype.divide=v.prototype.div,v.prototype.divideS=v.prototype.divS,v.prototype.divideM=v.prototype.divM,v.divide=v.div,v.prototype.mod=function(t){return"number"===typeof t?this.modS(t):this.modM(t)},v.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t);return this},v.prototype.modM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},v.mod=function(t,e){return new y(t).mod(e)},v.prototype.modulus=v.prototype.mod,v.prototype.modulusS=v.prototype.modS,v.prototype.modulusM=v.prototype.modM,v.modulus=v.mod,v.prototype.and=function(t){return"number"===typeof t?this.andS(t):this.andM(t)},v.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t);return this},v.prototype.andM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},v.and=function(t,e){return new y(t).and(e)},v.prototype.or=function(t){return"number"===typeof t?this.orS(t):this.orM(t)},v.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t);return this},v.prototype.orM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},v.or=function(t,e){return new y(t).or(e)},v.prototype.xor=function(t){return"number"===typeof t?this.xorS(t):this.xorM(t)},v.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t);return this},v.prototype.xorM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},v.xor=function(t,e){return new y(t).xor(e)},v.prototype.leftShift=function(t){return"number"===typeof t?this.leftShiftS(t):this.leftShiftM(t)},v.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t);return this},v.prototype.leftShiftM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},v.leftShift=function(t,e){return new y(t).leftShift(e)},v.prototype.signPropagatingRightShift=function(t){return"number"===typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},v.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t);return this},v.prototype.signPropagatingRightShiftM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},v.signPropagatingRightShift=function(t,e){return new y(t).signPropagatingRightShift(e)},v.prototype.rightShift=function(t){return"number"===typeof t?this.rightShiftS(t):this.rightShiftM(t)},v.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t);return this},v.prototype.rightShiftM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},v.rightShift=function(t,e){return new y(t).rightShift(e)},v.prototype.zeroFillRightShift=v.prototype.rightShift,v.prototype.zeroFillRightShiftS=v.prototype.rightShiftS,v.prototype.zeroFillRightShiftM=v.prototype.rightShiftM,v.zeroFillRightShift=v.rightShift,v.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},v.not=function(t){return new y(t).not()},v.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},v.abs=function(t){return new y(t).abs()},v.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},v.acos=function(t){return new y(t).acos()},v.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},v.acosh=function(t){return new y(t).acosh()},v.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},v.asin=function(t){return new y(t).asin()},v.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},v.asinh=function(t){return new y(t).asinh()},v.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},v.atan=function(t){return new y(t).atan()},v.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},v.atanh=function(t){return new y(t).atanh()},v.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},v.cbrt=function(t){return new y(t).cbrt()},v.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},v.ceil=function(t){return new y(t).ceil()},v.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},v.clz32=function(t){return new y(t).clz32()},v.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},v.cos=function(t){return new y(t).cos()},v.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},v.cosh=function(t){return new y(t).cosh()},v.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},v.exp=function(t){return new y(t).exp()},v.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},v.expm1=function(t){return new y(t).expm1()},v.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},v.floor=function(t){return new y(t).floor()},v.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},v.fround=function(t){return new y(t).fround()},v.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},v.log=function(t){return new y(t).log()},v.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},v.log1p=function(t){return new y(t).log1p()},v.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},v.log10=function(t){return new y(t).log10()},v.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},v.log2=function(t){return new y(t).log2()},v.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},v.round=function(t){return new y(t).round()},v.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},v.sign=function(t){return new y(t).sign()},v.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},v.sin=function(t){return new y(t).sin()},v.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},v.sinh=function(t){return new y(t).sinh()},v.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},v.sqrt=function(t){return new y(t).sqrt()},v.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},v.tan=function(t){return new y(t).tan()},v.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},v.tanh=function(t){return new y(t).tanh()},v.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},v.trunc=function(t){return new y(t).trunc()},v.pow=function(t,e){return new y(t).pow(e)},v.prototype.pow=function(t){return"number"===typeof t?this.powS(t):this.powM(t)},v.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},v.prototype.powM=function(t){if(t=y.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(23),i=r(29),a=r(20);function o(t){return function(){var e,r=Object(n.a)(t);if(Object(i.a)()){var o=Object(n.a)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Object(a.a)(this,e)}}},function(t,e,r){"use strict";t.exports=r(74)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),i=r(1),a=r(3),o=r(5),s=function(t){Object(a.a)(r,t);var e=Object(o.a)(r);function r(t){var i;return Object(n.a)(this,r),(i=e.call(this)).data=t,i.rows=t.length,i.columns=t[0].length,i}return Object(i.a)(r,[{key:"set",value:function(t,e,r){return this.data[t][e]=r,this}},{key:"get",value:function(t,e){return this.data[t][e]}}]),r}(r(4).a)},function(t,e,r){"use strict";var n=r(22);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(u){i=!0,a=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,"a",function(){return i})},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){t.exports=function(t,e){t=t||0;for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r}},function(t,e,r){"use strict";var n=r(26);var i=r(22);function a(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,"a",function(){return a})},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(1),i=r(0),a=r(3),o=r(5),s=function(t){Object(a.a)(r,t);var e=Object(o.a)(r);function r(t,n,a){var o;return Object(i.a)(this,r),(o=e.call(this)).matrix=t,o.rows=n,o.columns=a,o}return Object(n.a)(r)}(r(4).a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=Object.prototype.toString;function i(t){return n.call(t).endsWith("Array]")}},function(t,e,r){"use strict";function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){var r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(0),i=r(1),a=r(4),o=r(7),s=r(16),u=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(n.a)(this,t),(e=o.a.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");var i,u=e.rows,l=e.columns,h=r.computeLeftSingularVectors,c=void 0===h||h,f=r.computeRightSingularVectors,d=void 0===f||f,p=r.autoTranspose,m=void 0!==p&&p,g=Boolean(c),v=Boolean(d),y=!1;if(u<l)if(m){u=(i=e.transpose()).rows,l=i.columns,y=!0;var w=g;g=v,v=w}else i=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else i=e.clone();for(var b=Math.min(u,l),k=Math.min(u+1,l),_=new Float64Array(k),x=new a.b(u,b),M=new a.b(l,l),E=new Float64Array(l),S=new Float64Array(u),A=new Float64Array(k),P=0;P<k;P++)A[P]=P;for(var C=Math.min(u-1,l),O=Math.max(0,Math.min(l-2,u)),D=Math.max(C,O),I=0;I<D;I++){if(I<C){_[I]=0;for(var T=I;T<u;T++)_[I]=Object(s.a)(_[I],i.get(T,I));if(0!==_[I]){i.get(I,I)<0&&(_[I]=-_[I]);for(var R=I;R<u;R++)i.set(R,I,i.get(R,I)/_[I]);i.set(I,I,i.get(I,I)+1)}_[I]=-_[I]}for(var U=I+1;U<l;U++){if(I<C&&0!==_[I]){for(var j=0,L=I;L<u;L++)j+=i.get(L,I)*i.get(L,U);j=-j/i.get(I,I);for(var B=I;B<u;B++)i.set(B,U,i.get(B,U)+j*i.get(B,I))}E[U]=i.get(I,U)}if(g&&I<C)for(var N=I;N<u;N++)x.set(N,I,i.get(N,I));if(I<O){E[I]=0;for(var F=I+1;F<l;F++)E[I]=Object(s.a)(E[I],E[F]);if(0!==E[I]){E[I+1]<0&&(E[I]=0-E[I]);for(var z=I+1;z<l;z++)E[z]/=E[I];E[I+1]+=1}if(E[I]=-E[I],I+1<u&&0!==E[I]){for(var V=I+1;V<u;V++)S[V]=0;for(var Y=I+1;Y<u;Y++)for(var X=I+1;X<l;X++)S[Y]+=E[X]*i.get(Y,X);for(var q=I+1;q<l;q++)for(var H=-E[q]/E[I+1],G=I+1;G<u;G++)i.set(G,q,i.get(G,q)+H*S[G])}if(v)for(var W=I+1;W<l;W++)M.set(W,I,E[W])}}var K=Math.min(l,u+1);if(C<l&&(_[C]=i.get(C,C)),u<K&&(_[K-1]=0),O+1<K&&(E[O]=i.get(O,K-1)),E[K-1]=0,g){for(var Z=C;Z<b;Z++){for(var Q=0;Q<u;Q++)x.set(Q,Z,0);x.set(Z,Z,1)}for(var $=C-1;$>=0;$--)if(0!==_[$]){for(var J=$+1;J<b;J++){for(var tt=0,et=$;et<u;et++)tt+=x.get(et,$)*x.get(et,J);tt=-tt/x.get($,$);for(var rt=$;rt<u;rt++)x.set(rt,J,x.get(rt,J)+tt*x.get(rt,$))}for(var nt=$;nt<u;nt++)x.set(nt,$,-x.get(nt,$));x.set($,$,1+x.get($,$));for(var it=0;it<$-1;it++)x.set(it,$,0)}else{for(var at=0;at<u;at++)x.set(at,$,0);x.set($,$,1)}}if(v)for(var ot=l-1;ot>=0;ot--){if(ot<O&&0!==E[ot])for(var st=ot+1;st<l;st++){for(var ut=0,lt=ot+1;lt<l;lt++)ut+=M.get(lt,ot)*M.get(lt,st);ut=-ut/M.get(ot+1,ot);for(var ht=ot+1;ht<l;ht++)M.set(ht,st,M.get(ht,st)+ut*M.get(ht,ot))}for(var ct=0;ct<l;ct++)M.set(ct,ot,0);M.set(ot,ot,1)}for(var ft=K-1,dt=Number.EPSILON;K>0;){var pt=void 0,mt=void 0;for(pt=K-2;pt>=-1&&-1!==pt;pt--){var gt=Number.MIN_VALUE+dt*Math.abs(_[pt]+Math.abs(_[pt+1]));if(Math.abs(E[pt])<=gt||Number.isNaN(E[pt])){E[pt]=0;break}}if(pt===K-2)mt=4;else{var vt=void 0;for(vt=K-1;vt>=pt&&vt!==pt;vt--){var yt=(vt!==K?Math.abs(E[vt]):0)+(vt!==pt+1?Math.abs(E[vt-1]):0);if(Math.abs(_[vt])<=dt*yt){_[vt]=0;break}}vt===pt?mt=3:vt===K-1?mt=1:(mt=2,pt=vt)}switch(pt++,mt){case 1:var wt=E[K-2];E[K-2]=0;for(var bt=K-2;bt>=pt;bt--){var kt=Object(s.a)(_[bt],wt),_t=_[bt]/kt,xt=wt/kt;if(_[bt]=kt,bt!==pt&&(wt=-xt*E[bt-1],E[bt-1]=_t*E[bt-1]),v)for(var Mt=0;Mt<l;Mt++)kt=_t*M.get(Mt,bt)+xt*M.get(Mt,K-1),M.set(Mt,K-1,-xt*M.get(Mt,bt)+_t*M.get(Mt,K-1)),M.set(Mt,bt,kt)}break;case 2:var Et=E[pt-1];E[pt-1]=0;for(var St=pt;St<K;St++){var At=Object(s.a)(_[St],Et),Pt=_[St]/At,Ct=Et/At;if(_[St]=At,Et=-Ct*E[St],E[St]=Pt*E[St],g)for(var Ot=0;Ot<u;Ot++)At=Pt*x.get(Ot,St)+Ct*x.get(Ot,pt-1),x.set(Ot,pt-1,-Ct*x.get(Ot,St)+Pt*x.get(Ot,pt-1)),x.set(Ot,St,At)}break;case 3:var Dt=Math.max(Math.abs(_[K-1]),Math.abs(_[K-2]),Math.abs(E[K-2]),Math.abs(_[pt]),Math.abs(E[pt])),It=_[K-1]/Dt,Tt=_[K-2]/Dt,Rt=E[K-2]/Dt,Ut=_[pt]/Dt,jt=E[pt]/Dt,Lt=((Tt+It)*(Tt-It)+Rt*Rt)/2,Bt=It*Rt*(It*Rt),Nt=0;0===Lt&&0===Bt||(Nt=Bt/(Lt+(Nt=Lt<0?0-Math.sqrt(Lt*Lt+Bt):Math.sqrt(Lt*Lt+Bt))));for(var Ft=(Ut+It)*(Ut-It)+Nt,zt=Ut*jt,Vt=pt;Vt<K-1;Vt++){var Yt=Object(s.a)(Ft,zt);0===Yt&&(Yt=Number.MIN_VALUE);var Xt=Ft/Yt,qt=zt/Yt;if(Vt!==pt&&(E[Vt-1]=Yt),Ft=Xt*_[Vt]+qt*E[Vt],E[Vt]=Xt*E[Vt]-qt*_[Vt],zt=qt*_[Vt+1],_[Vt+1]=Xt*_[Vt+1],v)for(var Ht=0;Ht<l;Ht++)Yt=Xt*M.get(Ht,Vt)+qt*M.get(Ht,Vt+1),M.set(Ht,Vt+1,-qt*M.get(Ht,Vt)+Xt*M.get(Ht,Vt+1)),M.set(Ht,Vt,Yt);if(0===(Yt=Object(s.a)(Ft,zt))&&(Yt=Number.MIN_VALUE),Xt=Ft/Yt,qt=zt/Yt,_[Vt]=Yt,Ft=Xt*E[Vt]+qt*_[Vt+1],_[Vt+1]=-qt*E[Vt]+Xt*_[Vt+1],zt=qt*E[Vt+1],E[Vt+1]=Xt*E[Vt+1],g&&Vt<u-1)for(var Gt=0;Gt<u;Gt++)Yt=Xt*x.get(Gt,Vt)+qt*x.get(Gt,Vt+1),x.set(Gt,Vt+1,-qt*x.get(Gt,Vt)+Xt*x.get(Gt,Vt+1)),x.set(Gt,Vt,Yt)}E[K-2]=Ft,1;break;case 4:if(_[pt]<=0&&(_[pt]=_[pt]<0?-_[pt]:0,v))for(var Wt=0;Wt<=ft;Wt++)M.set(Wt,pt,-M.get(Wt,pt));for(;pt<ft&&!(_[pt]>=_[pt+1]);){var Kt=_[pt];if(_[pt]=_[pt+1],_[pt+1]=Kt,v&&pt<l-1)for(var Zt=0;Zt<l;Zt++)Kt=M.get(Zt,pt+1),M.set(Zt,pt+1,M.get(Zt,pt)),M.set(Zt,pt,Kt);if(g&&pt<u-1)for(var Qt=0;Qt<u;Qt++)Kt=x.get(Qt,pt+1),x.set(Qt,pt+1,x.get(Qt,pt)),x.set(Qt,pt,Kt);pt++}0,K--}}if(y){var $t=M;M=x,x=$t}this.m=u,this.n=l,this.s=_,this.U=x,this.V=M}return Object(i.a)(t,[{key:"solve",value:function(t){for(var e=t,r=this.threshold,n=this.s.length,i=a.b.zeros(n,n),o=0;o<n;o++)Math.abs(this.s[o])<=r?i.set(o,o,0):i.set(o,o,1/this.s[o]);for(var s=this.U,u=this.rightSingularVectors,l=u.mmul(i),h=u.rows,c=s.rows,f=a.b.zeros(h,c),d=0;d<h;d++)for(var p=0;p<c;p++){for(var m=0,g=0;g<n;g++)m+=l.get(d,g)*s.get(p,g);f.set(d,p,m)}return f.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(a.b.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,n=t.columns,i=new a.b(r,this.s.length),o=0;o<r;o++)for(var s=0;s<n;s++)Math.abs(this.s[s])>e&&i.set(o,s,t.get(o,s)/this.s[s]);for(var u=this.U,l=u.rows,h=u.columns,c=new a.b(r,l),f=0;f<r;f++)for(var d=0;d<l;d++){for(var p=0,m=0;m<h;m++)p+=i.get(f,m)*u.get(d,m);c.set(f,d,p)}return c}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,n=0,i=r.length;n<i;n++)r[n]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return a.b.diag(this.s)}}]),t}()},function(t,e,r){"use strict";r.r(e);var n=r(4),i=r(0),a=r(1),o=r(3),s=r(5),u=r(2),l=r(13),h=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n){var a;return Object(i.a)(this,r),Object(u.a)(t,n),(a=e.call(this,t,t.rows,1)).column=n,a}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(t,this.column,r),this}},{key:"get",value:function(t){return this.matrix.get(t,this.column)}}]),r}(l.a),c=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n){var a;return Object(i.a)(this,r),n=Object(u.b)(t,n),(a=e.call(this,t,t.rows,n.length)).columnIndices=n,a}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(t,this.columnIndices[e],r),this}},{key:"get",value:function(t,e){return this.matrix.get(t,this.columnIndices[e])}}]),r}(l.a),f=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t,t.rows,t.columns)}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(t,this.columns-e-1,r),this}},{key:"get",value:function(t,e){return this.matrix.get(t,this.columns-e-1)}}]),r}(l.a),d=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){return Object(i.a)(this,r),e.call(this,t,t.rows,t.columns)}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(this.rows-t-1,e,r),this}},{key:"get",value:function(t,e){return this.matrix.get(this.rows-t-1,e)}}]),r}(l.a),p=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n){var a;return Object(i.a)(this,r),Object(u.g)(t,n),(a=e.call(this,t,1,t.columns)).row=n,a}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(this.row,e,r),this}},{key:"get",value:function(t,e){return this.matrix.get(this.row,e)}}]),r}(l.a),m=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n){var a;return Object(i.a)(this,r),n=Object(u.h)(t,n),(a=e.call(this,t,n.length,t.columns)).rowIndices=n,a}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}},{key:"get",value:function(t,e){return this.matrix.get(this.rowIndices[t],e)}}]),r}(l.a),g=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n,a){var o;Object(i.a)(this,r);var s=Object(u.d)(t,n,a);return(o=e.call(this,t,s.row.length,s.column.length)).rowIndices=s.row,o.columnIndices=s.column,o}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(this.rowIndices[t],this.columnIndices[e],r),this}},{key:"get",value:function(t,e){return this.matrix.get(this.rowIndices[t],this.columnIndices[e])}}]),r}(l.a),v=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t,n,a,o,s){var l;return Object(i.a)(this,r),Object(u.f)(t,n,a,o,s),(l=e.call(this,t,a-n+1,s-o+1)).startRow=n,l.startColumn=o,l}return Object(a.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(this.startRow+t,this.startColumn+e,r),this}},{key:"get",value:function(t,e){return this.matrix.get(this.startRow+t,this.startColumn+e)}}]),r}(l.a),y=r(53),w=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,r);var o=a.rows,s=void 0===o?1:o;if(t.length%s!==0)throw new Error("the data length is not divisible by the number of rows");return(n=e.call(this)).rows=s,n.columns=t.length/s,n.data=t,n}return Object(a.a)(r,[{key:"set",value:function(t,e,r){var n=this._calculateIndex(t,e);return this.data[n]=r,this}},{key:"get",value:function(t,e){var r=this._calculateIndex(t,e);return this.data[r]}},{key:"_calculateIndex",value:function(t,e){return t*this.columns+e}}]),r}(n.a),b=r(7);function k(t,e){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new b.a(t):new w(t,e);throw new Error("the argument is not an array")}var _=r(36),x=r(19);function M(t){var e,r,i,a,o,s;if((t=n.b.checkMatrix(t)).isSquare())return 0===t.columns?1:2===t.columns?(e=t.get(0,0),r=t.get(0,1),i=t.get(1,0),e*t.get(1,1)-r*i):3===t.columns?(a=new g(t,[1,2],[1,2]),o=new g(t,[1,2],[0,2]),s=new g(t,[1,2],[0,1]),e=t.get(0,0),r=t.get(0,1),i=t.get(0,2),e*M(a)-r*M(o)+i*M(s)):new x.a(t).determinant;throw Error("determinant can only be calculated for a square matrix")}var E=r(17);function S(t,e){for(var r=[],n=0;n<t;n++)n!==e&&r.push(n);return r}function A(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-9;if(t>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-9))return new Array(e.rows+1).fill(0);for(var i=e.addRow(r,[0]),a=0;a<i.rows;a++)Math.abs(i.get(a,0))<n&&i.set(a,0,0);return i.to1DArray()}function P(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.thresholdValue,i=void 0===r?1e-9:r,a=e.thresholdError,o=void 0===a?1e-9:a,s=(t=n.b.checkMatrix(t)).rows,u=new n.b(s,s),l=0;l<s;l++){var h=n.b.columnVector(t.getRow(l)),c=t.subMatrixRow(S(s,l)).transpose(),f=new E.a(c).solve(h),d=n.b.sub(h,c.mmul(f)).abs().max();u.setRow(l,A(d,f,l,i,o))}return u}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.EPSILON;if((t=n.b.checkMatrix(t)).isEmpty())return t.transpose();for(var r=new E.a(t,{autoTranspose:!0}),i=r.leftSingularVectors,a=r.rightSingularVectors,o=r.diagonal,s=0;s<o.length;s++)Math.abs(o[s])>e?o[s]=1/o[s]:o[s]=0;return a.mmul(n.b.diag(o).mmul(i.transpose()))}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new n.b(t);var i=!1;if("object"!==typeof e||n.b.isMatrix(e)||Array.isArray(e)?e=new n.b(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");var a=r.center;(void 0===a||a)&&(t=t.center("column"),i||(e=e.center("column")));for(var o=t.transpose().mmul(e),s=0;s<o.rows;s++)for(var u=0;u<o.columns;u++)o.set(s,u,o.get(s,u)*(1/(t.rows-1)));return o}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=new n.b(t);var i=!1;if("object"!==typeof e||n.b.isMatrix(e)||Array.isArray(e)?e=new n.b(e):(r=e,e=t,i=!0),t.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");var a=r,o=a.center,s=void 0===o||o,u=a.scale,l=void 0===u||u;s&&(t.center("column"),i||e.center("column")),l&&(t.scale("column"),i||e.scale("column"));for(var h=t.standardDeviation("column",{unbiased:!0}),c=i?h:e.standardDeviation("column",{unbiased:!0}),f=t.transpose().mmul(e),d=0;d<f.rows;d++)for(var p=0;p<f.columns;p++)f.set(d,p,f.get(d,p)*(1/(h[d]*c[p]))*(1/(t.rows-1)));return f}var I=r(16),T=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t);var a=r.assumeSymmetric,o=void 0!==a&&a;if(!(e=b.a.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");var s,u,l=e.columns,h=new n.b(l,l),c=new Float64Array(l),f=new Float64Array(l),d=e;if(!!o||e.isSymmetric()){for(s=0;s<l;s++)for(u=0;u<l;u++)h.set(s,u,d.get(s,u));!function(t,e,r,n){var i,a,o,s,u,l,h,c;for(u=0;u<t;u++)r[u]=n.get(t-1,u);for(s=t-1;s>0;s--){for(c=0,o=0,l=0;l<s;l++)c+=Math.abs(r[l]);if(0===c)for(e[s]=r[s-1],u=0;u<s;u++)r[u]=n.get(s-1,u),n.set(s,u,0),n.set(u,s,0);else{for(l=0;l<s;l++)r[l]/=c,o+=r[l]*r[l];for(i=r[s-1],a=Math.sqrt(o),i>0&&(a=-a),e[s]=c*a,o-=i*a,r[s-1]=i-a,u=0;u<s;u++)e[u]=0;for(u=0;u<s;u++){for(i=r[u],n.set(u,s,i),a=e[u]+n.get(u,u)*i,l=u+1;l<=s-1;l++)a+=n.get(l,u)*r[l],e[l]+=n.get(l,u)*i;e[u]=a}for(i=0,u=0;u<s;u++)e[u]/=o,i+=e[u]*r[u];for(h=i/(o+o),u=0;u<s;u++)e[u]-=h*r[u];for(u=0;u<s;u++){for(i=r[u],a=e[u],l=u;l<=s-1;l++)n.set(l,u,n.get(l,u)-(i*e[l]+a*r[l]));r[u]=n.get(s-1,u),n.set(s,u,0)}}r[s]=o}for(s=0;s<t-1;s++){if(n.set(t-1,s,n.get(s,s)),n.set(s,s,1),0!==(o=r[s+1])){for(l=0;l<=s;l++)r[l]=n.get(l,s+1)/o;for(u=0;u<=s;u++){for(a=0,l=0;l<=s;l++)a+=n.get(l,s+1)*n.get(l,u);for(l=0;l<=s;l++)n.set(l,u,n.get(l,u)-a*r[l])}}for(l=0;l<=s;l++)n.set(l,s+1,0)}for(u=0;u<t;u++)r[u]=n.get(t-1,u),n.set(t-1,u,0);n.set(t-1,t-1,1),e[0]=0}(l,f,c,h),function(t,e,r,n){var i,a,o,s,u,l,h,c,f,d,p,m,g,v,y,w;for(o=1;o<t;o++)e[o-1]=e[o];e[t-1]=0;var b=0,k=0,_=Number.EPSILON;for(l=0;l<t;l++){for(k=Math.max(k,Math.abs(r[l])+Math.abs(e[l])),h=l;h<t&&!(Math.abs(e[h])<=_*k);)h++;if(h>l){0;do{for(1,i=r[l],c=(r[l+1]-i)/(2*e[l]),f=Object(I.a)(c,1),c<0&&(f=-f),r[l]=e[l]/(c+f),r[l+1]=e[l]*(c+f),d=r[l+1],a=i-r[l],o=l+2;o<t;o++)r[o]-=a;for(b+=a,c=r[h],m=p=1,g=p,v=e[l+1],y=0,w=0,o=h-1;o>=l;o--)for(g=m,m=p,w=y,i=p*e[o],a=p*c,f=Object(I.a)(c,e[o]),e[o+1]=y*f,y=e[o]/f,c=(p=c/f)*r[o]-y*i,r[o+1]=a+y*(p*i+y*r[o]),u=0;u<t;u++)a=n.get(u,o+1),n.set(u,o+1,y*n.get(u,o)+p*a),n.set(u,o,p*n.get(u,o)-y*a);c=-y*w*g*v*e[l]/d,e[l]=y*c,r[l]=p*c}while(Math.abs(e[l])>_*k)}r[l]=r[l]+b,e[l]=0}for(o=0;o<t-1;o++){for(u=o,c=r[o],s=o+1;s<t;s++)r[s]<c&&(u=s,c=r[s]);if(u!==o)for(r[u]=r[o],r[o]=c,s=0;s<t;s++)c=n.get(s,o),n.set(s,o,n.get(s,u)),n.set(s,u,c)}}(l,f,c,h)}else{var p=new n.b(l,l),m=new Float64Array(l);for(u=0;u<l;u++)for(s=0;s<l;s++)p.set(s,u,d.get(s,u));!function(t,e,r,n){var i,a,o,s,u,l,h,c=t-1;for(l=1;l<=c-1;l++){for(h=0,s=l;s<=c;s++)h+=Math.abs(e.get(s,l-1));if(0!==h){for(o=0,s=c;s>=l;s--)r[s]=e.get(s,l-1)/h,o+=r[s]*r[s];for(a=Math.sqrt(o),r[l]>0&&(a=-a),o-=r[l]*a,r[l]=r[l]-a,u=l;u<t;u++){for(i=0,s=c;s>=l;s--)i+=r[s]*e.get(s,u);for(i/=o,s=l;s<=c;s++)e.set(s,u,e.get(s,u)-i*r[s])}for(s=0;s<=c;s++){for(i=0,u=c;u>=l;u--)i+=r[u]*e.get(s,u);for(i/=o,u=l;u<=c;u++)e.set(s,u,e.get(s,u)-i*r[u])}r[l]=h*r[l],e.set(l,l-1,h*a)}}for(s=0;s<t;s++)for(u=0;u<t;u++)n.set(s,u,s===u?1:0);for(l=c-1;l>=1;l--)if(0!==e.get(l,l-1)){for(s=l+1;s<=c;s++)r[s]=e.get(s,l-1);for(u=l;u<=c;u++){for(a=0,s=l;s<=c;s++)a+=r[s]*n.get(s,u);for(a=a/r[l]/e.get(l,l-1),s=l;s<=c;s++)n.set(s,u,n.get(s,u)+a*r[s])}}}(l,p,m,h),function(t,e,r,n,i){var a,o,s,u,l,h,c,f,d,p,m,g,v,y,w,b=t-1,k=t-1,_=Number.EPSILON,x=0,M=0,E=0,S=0,A=0,P=0,C=0,O=0;for(a=0;a<t;a++)for((a<0||a>k)&&(r[a]=i.get(a,a),e[a]=0),o=Math.max(a-1,0);o<t;o++)M+=Math.abs(i.get(a,o));for(;b>=0;){for(u=b;u>0&&(0===(P=Math.abs(i.get(u-1,u-1))+Math.abs(i.get(u,u)))&&(P=M),!(Math.abs(i.get(u,u-1))<_*P));)u--;if(u===b)i.set(b,b,i.get(b,b)+x),r[b]=i.get(b,b),e[b]=0,b--,O=0;else if(u===b-1){if(c=i.get(b,b-1)*i.get(b-1,b),E=(i.get(b-1,b-1)-i.get(b,b))/2,S=E*E+c,C=Math.sqrt(Math.abs(S)),i.set(b,b,i.get(b,b)+x),i.set(b-1,b-1,i.get(b-1,b-1)+x),f=i.get(b,b),S>=0){for(C=E>=0?E+C:E-C,r[b-1]=f+C,r[b]=r[b-1],0!==C&&(r[b]=f-c/C),e[b-1]=0,e[b]=0,f=i.get(b,b-1),P=Math.abs(f)+Math.abs(C),E=f/P,S=C/P,A=Math.sqrt(E*E+S*S),E/=A,S/=A,o=b-1;o<t;o++)C=i.get(b-1,o),i.set(b-1,o,S*C+E*i.get(b,o)),i.set(b,o,S*i.get(b,o)-E*C);for(a=0;a<=b;a++)C=i.get(a,b-1),i.set(a,b-1,S*C+E*i.get(a,b)),i.set(a,b,S*i.get(a,b)-E*C);for(a=0;a<=k;a++)C=n.get(a,b-1),n.set(a,b-1,S*C+E*n.get(a,b)),n.set(a,b,S*n.get(a,b)-E*C)}else r[b-1]=f+E,r[b]=f+E,e[b-1]=C,e[b]=-C;b-=2,O=0}else{if(f=i.get(b,b),d=0,c=0,u<b&&(d=i.get(b-1,b-1),c=i.get(b,b-1)*i.get(b-1,b)),10===O){for(x+=f,a=0;a<=b;a++)i.set(a,a,i.get(a,a)-f);P=Math.abs(i.get(b,b-1))+Math.abs(i.get(b-1,b-2)),f=d=.75*P,c=-.4375*P*P}if(30===O&&(P=(P=(d-f)/2)*P+c)>0){for(P=Math.sqrt(P),d<f&&(P=-P),P=f-c/((d-f)/2+P),a=0;a<=b;a++)i.set(a,a,i.get(a,a)-P);x+=P,f=d=c=.964}for(O+=1,l=b-2;l>=u&&(C=i.get(l,l),E=((A=f-C)*(P=d-C)-c)/i.get(l+1,l)+i.get(l,l+1),S=i.get(l+1,l+1)-C-A-P,A=i.get(l+2,l+1),P=Math.abs(E)+Math.abs(S)+Math.abs(A),E/=P,S/=P,A/=P,l!==u)&&!(Math.abs(i.get(l,l-1))*(Math.abs(S)+Math.abs(A))<_*(Math.abs(E)*(Math.abs(i.get(l-1,l-1))+Math.abs(C)+Math.abs(i.get(l+1,l+1)))));)l--;for(a=l+2;a<=b;a++)i.set(a,a-2,0),a>l+2&&i.set(a,a-3,0);for(s=l;s<=b-1&&(y=s!==b-1,s!==l&&(E=i.get(s,s-1),S=i.get(s+1,s-1),A=y?i.get(s+2,s-1):0,0!==(f=Math.abs(E)+Math.abs(S)+Math.abs(A))&&(E/=f,S/=f,A/=f)),0!==f);s++)if(P=Math.sqrt(E*E+S*S+A*A),E<0&&(P=-P),0!==P){for(s!==l?i.set(s,s-1,-P*f):u!==l&&i.set(s,s-1,-i.get(s,s-1)),f=(E+=P)/P,d=S/P,C=A/P,S/=E,A/=E,o=s;o<t;o++)E=i.get(s,o)+S*i.get(s+1,o),y&&(E+=A*i.get(s+2,o),i.set(s+2,o,i.get(s+2,o)-E*C)),i.set(s,o,i.get(s,o)-E*f),i.set(s+1,o,i.get(s+1,o)-E*d);for(a=0;a<=Math.min(b,s+3);a++)E=f*i.get(a,s)+d*i.get(a,s+1),y&&(E+=C*i.get(a,s+2),i.set(a,s+2,i.get(a,s+2)-E*A)),i.set(a,s,i.get(a,s)-E),i.set(a,s+1,i.get(a,s+1)-E*S);for(a=0;a<=k;a++)E=f*n.get(a,s)+d*n.get(a,s+1),y&&(E+=C*n.get(a,s+2),n.set(a,s+2,n.get(a,s+2)-E*A)),n.set(a,s,n.get(a,s)-E),n.set(a,s+1,n.get(a,s+1)-E*S)}}}if(0===M)return;for(b=t-1;b>=0;b--)if(E=r[b],0===(S=e[b]))for(u=b,i.set(b,b,1),a=b-1;a>=0;a--){for(c=i.get(a,a)-E,A=0,o=u;o<=b;o++)A+=i.get(a,o)*i.get(o,b);if(e[a]<0)C=c,P=A;else if(u=a,0===e[a]?i.set(a,b,0!==c?-A/c:-A/(_*M)):(f=i.get(a,a+1),d=i.get(a+1,a),S=(r[a]-E)*(r[a]-E)+e[a]*e[a],h=(f*P-C*A)/S,i.set(a,b,h),i.set(a+1,b,Math.abs(f)>Math.abs(C)?(-A-c*h)/f:(-P-d*h)/C)),h=Math.abs(i.get(a,b)),_*h*h>1)for(o=a;o<=b;o++)i.set(o,b,i.get(o,b)/h)}else if(S<0)for(u=b-1,Math.abs(i.get(b,b-1))>Math.abs(i.get(b-1,b))?(i.set(b-1,b-1,S/i.get(b,b-1)),i.set(b-1,b,-(i.get(b,b)-E)/i.get(b,b-1))):(w=R(0,-i.get(b-1,b),i.get(b-1,b-1)-E,S),i.set(b-1,b-1,w[0]),i.set(b-1,b,w[1])),i.set(b,b-1,0),i.set(b,b,1),a=b-2;a>=0;a--){for(p=0,m=0,o=u;o<=b;o++)p+=i.get(a,o)*i.get(o,b-1),m+=i.get(a,o)*i.get(o,b);if(c=i.get(a,a)-E,e[a]<0)C=c,A=p,P=m;else if(u=a,0===e[a]?(w=R(-p,-m,c,S),i.set(a,b-1,w[0]),i.set(a,b,w[1])):(f=i.get(a,a+1),d=i.get(a+1,a),g=(r[a]-E)*(r[a]-E)+e[a]*e[a]-S*S,v=2*(r[a]-E)*S,0===g&&0===v&&(g=_*M*(Math.abs(c)+Math.abs(S)+Math.abs(f)+Math.abs(d)+Math.abs(C))),w=R(f*A-C*p+S*m,f*P-C*m-S*p,g,v),i.set(a,b-1,w[0]),i.set(a,b,w[1]),Math.abs(f)>Math.abs(C)+Math.abs(S)?(i.set(a+1,b-1,(-p-c*i.get(a,b-1)+S*i.get(a,b))/f),i.set(a+1,b,(-m-c*i.get(a,b)-S*i.get(a,b-1))/f)):(w=R(-A-d*i.get(a,b-1),-P-d*i.get(a,b),C,S),i.set(a+1,b-1,w[0]),i.set(a+1,b,w[1]))),h=Math.max(Math.abs(i.get(a,b-1)),Math.abs(i.get(a,b))),_*h*h>1)for(o=a;o<=b;o++)i.set(o,b-1,i.get(o,b-1)/h),i.set(o,b,i.get(o,b)/h)}for(a=0;a<t;a++)if(a<0||a>k)for(o=a;o<t;o++)n.set(a,o,i.get(a,o));for(o=t-1;o>=0;o--)for(a=0;a<=k;a++){for(C=0,s=0;s<=Math.min(o,k);s++)C+=n.get(a,s)*i.get(s,o);n.set(a,o,C)}}(l,f,c,h,p)}this.n=l,this.e=f,this.d=c,this.V=h}return Object(a.a)(t,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var t,e,r=this.n,i=this.e,a=this.d,o=new n.b(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)o.set(t,e,0);o.set(t,t,a[t]),i[t]>0?o.set(t,t+1,i[t]):i[t]<0&&o.set(t,t-1,i[t])}return o}}]),t}();function R(t,e,r,n){var i,a;return Math.abs(r)>Math.abs(n)?[(t+(i=n/r)*e)/(a=r+i*n),(e-i*t)/a]:[((i=r/n)*t+e)/(a=n+i*r),(i*e-t)/a]}var U=function(){function t(e){if(Object(i.a)(this,t),!(e=b.a.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");var r,a,o,s=e,u=s.rows,l=new n.b(u,u),h=!0;for(a=0;a<u;a++){var c=0;for(o=0;o<a;o++){var f=0;for(r=0;r<o;r++)f+=l.get(o,r)*l.get(a,r);f=(s.get(a,o)-f)/l.get(o,o),l.set(a,o,f),c+=f*f}for(h&=(c=s.get(a,a)-c)>0,l.set(a,a,Math.sqrt(Math.max(c,0))),o=a+1;o<u;o++)l.set(a,o,0)}this.L=l,this.positiveDefinite=Boolean(h)}return Object(a.a)(t,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(t){t=b.a.checkMatrix(t);var e=this.L,r=e.rows;if(t.rows!==r)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");var n,i,a,o=t.columns,s=t.clone();for(a=0;a<r;a++)for(i=0;i<o;i++){for(n=0;n<a;n++)s.set(a,i,s.get(a,i)-s.get(n,i)*e.get(a,n));s.set(a,i,s.get(a,i)/e.get(a,a))}for(a=r-1;a>=0;a--)for(i=0;i<o;i++){for(n=a+1;n<r;n++)s.set(a,i,s.get(a,i)-s.get(n,i)*e.get(n,a));s.set(a,i,s.get(a,i)/e.get(a,a))}return s}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),t}(),j=r(25),L=Object(a.a)(function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t),e=b.a.checkMatrix(e);var a,o=r.Y,s=r.scaleScores,u=void 0!==s&&s,l=r.maxIterations,h=void 0===l?1e3:l,c=r.terminationCriteria,f=void 0===c?1e-10:c;if(o){if((o=Array.isArray(o)&&"number"===typeof o[0]?n.b.columnVector(o):b.a.checkMatrix(o)).rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=o.getColumnVector(0)}else a=e.getColumnVector(0);for(var d,p,m,g,v=1,y=0;y<h&&v>f;y++)m=(m=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0))).div(m.norm()),d=e.mmul(m).div(m.transpose().mmul(m).get(0,0)),y>0&&(v=d.clone().sub(g).pow(2).sum()),g=d.clone(),o?(p=(p=o.transpose().mmul(d).div(d.transpose().mmul(d).get(0,0))).div(p.norm()),a=o.mmul(p).div(p.transpose().mmul(p).get(0,0))):a=d;if(o){var w=e.transpose().mmul(d).div(d.transpose().mmul(d).get(0,0));w=w.div(w.norm());var k=e.clone().sub(d.clone().mmul(w.transpose())),_=a.transpose().mmul(d).div(d.transpose().mmul(d).get(0,0)),x=o.clone().sub(d.clone().mulS(_.get(0,0)).mmul(p.transpose()));this.t=d,this.p=w.transpose(),this.w=m.transpose(),this.q=p,this.u=a,this.s=d.transpose().mmul(d),this.xResidual=k,this.yResidual=x,this.betas=_}else this.w=m.transpose(),this.s=d.transpose().mmul(d).sqrt(),this.t=u?d.clone().div(this.s.get(0,0)):d,this.xResidual=e.sub(d.mmul(m.transpose()))});r.d(e,"AbstractMatrix",function(){return n.a}),r.d(e,"default",function(){return n.b}),r.d(e,"Matrix",function(){return n.b}),r.d(e,"MatrixColumnView",function(){return h}),r.d(e,"MatrixColumnSelectionView",function(){return c}),r.d(e,"MatrixFlipColumnView",function(){return f}),r.d(e,"MatrixFlipRowView",function(){return d}),r.d(e,"MatrixRowView",function(){return p}),r.d(e,"MatrixRowSelectionView",function(){return m}),r.d(e,"MatrixSelectionView",function(){return g}),r.d(e,"MatrixSubView",function(){return v}),r.d(e,"MatrixTransposeView",function(){return y.a}),r.d(e,"wrap",function(){return k}),r.d(e,"WrapperMatrix1D",function(){return w}),r.d(e,"WrapperMatrix2D",function(){return b.a}),r.d(e,"solve",function(){return _.b}),r.d(e,"inverse",function(){return _.a}),r.d(e,"determinant",function(){return M}),r.d(e,"linearDependencies",function(){return P}),r.d(e,"pseudoInverse",function(){return C}),r.d(e,"covariance",function(){return O}),r.d(e,"correlation",function(){return D}),r.d(e,"SingularValueDecomposition",function(){return E.a}),r.d(e,"SVD",function(){return E.a}),r.d(e,"EigenvalueDecomposition",function(){return T}),r.d(e,"EVD",function(){return T}),r.d(e,"CholeskyDecomposition",function(){return U}),r.d(e,"CHO",function(){return U}),r.d(e,"LuDecomposition",function(){return x.a}),r.d(e,"LU",function(){return x.a}),r.d(e,"QrDecomposition",function(){return j.a}),r.d(e,"QR",function(){return j.a}),r.d(e,"Nipals",function(){return L}),r.d(e,"NIPALS",function(){return L})},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),i=r(1),a=r(4),o=r(7),s=function(){function t(e){Object(n.a)(this,t);var r,i,a,s,u,l,h,c,f,d=(e=o.a.checkMatrix(e)).clone(),p=d.rows,m=d.columns,g=new Float64Array(p),v=1;for(r=0;r<p;r++)g[r]=r;for(c=new Float64Array(p),i=0;i<m;i++){for(r=0;r<p;r++)c[r]=d.get(r,i);for(r=0;r<p;r++){for(f=Math.min(r,i),u=0,a=0;a<f;a++)u+=d.get(r,a)*c[a];c[r]-=u,d.set(r,i,c[r])}for(s=i,r=i+1;r<p;r++)Math.abs(c[r])>Math.abs(c[s])&&(s=r);if(s!==i){for(a=0;a<m;a++)l=d.get(s,a),d.set(s,a,d.get(i,a)),d.set(i,a,l);h=g[s],g[s]=g[i],g[i]=h,v=-v}if(i<p&&0!==d.get(i,i))for(r=i+1;r<p;r++)d.set(r,i,d.get(r,i)/d.get(i,i))}this.LU=d,this.pivotVector=g,this.pivotSign=v}return Object(i.a)(t,[{key:"isSingular",value:function(){for(var t=this.LU,e=t.columns,r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}},{key:"solve",value:function(t){t=a.b.checkMatrix(t);var e=this.LU;if(e.rows!==t.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var r,n,i,o=t.columns,s=t.subMatrixRow(this.pivotVector,0,o-1),u=e.columns;for(i=0;i<u;i++)for(r=i+1;r<u;r++)for(n=0;n<o;n++)s.set(r,n,s.get(r,n)-s.get(i,n)*e.get(r,i));for(i=u-1;i>=0;i--){for(n=0;n<o;n++)s.set(i,n,s.get(i,n)/e.get(i,i));for(r=0;r<i;r++)for(n=0;n<o;n++)s.set(r,n,s.get(r,n)-s.get(i,n)*e.get(r,i))}return s}},{key:"determinant",get:function(){var t=this.LU;if(!t.isSquare())throw new Error("Matrix must be square");for(var e=this.pivotSign,r=t.columns,n=0;n<r;n++)e*=t.get(n,n);return e}},{key:"lowerTriangularMatrix",get:function(){for(var t=this.LU,e=t.rows,r=t.columns,n=new a.b(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)i>o?n.set(i,o,t.get(i,o)):i===o?n.set(i,o,1):n.set(i,o,0);return n}},{key:"upperTriangularMatrix",get:function(){for(var t=this.LU,e=t.rows,r=t.columns,n=new a.b(e,r),i=0;i<e;i++)for(var o=0;o<r;o++)i<=o?n.set(i,o,t.get(i,o)):n.set(i,o,0);return n}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var n=r(28),i=r(15);function a(t,e){return!e||"object"!==Object(n.a)(e)&&"function"!==typeof e?Object(i.a)(t):e}},function(t,e,r){"use strict";function n(t,e){for(var r=0,n=0;n<t.length;n++)r+=(t[n]-e[n])*(t[n]-e[n]);return r}function i(t,e){return Math.sqrt(n(t,e))}r.r(e),r.d(e,"squaredEuclidean",function(){return n}),r.d(e,"euclidean",function(){return i})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var n=r(26);function i(t,e){if(t){if("string"===typeof t)return Object(n.a)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(t,e):void 0}}},function(t,e,r){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var n=r(0),i=r(1),a=r(4),o=r(7),s=r(16),u=function(){function t(e){Object(n.a)(this,t);var r,i,a,u,l=(e=o.a.checkMatrix(e)).clone(),h=e.rows,c=e.columns,f=new Float64Array(c);for(a=0;a<c;a++){var d=0;for(r=a;r<h;r++)d=Object(s.a)(d,l.get(r,a));if(0!==d){for(l.get(a,a)<0&&(d=-d),r=a;r<h;r++)l.set(r,a,l.get(r,a)/d);for(l.set(a,a,l.get(a,a)+1),i=a+1;i<c;i++){for(u=0,r=a;r<h;r++)u+=l.get(r,a)*l.get(r,i);for(u=-u/l.get(a,a),r=a;r<h;r++)l.set(r,i,l.get(r,i)+u*l.get(r,a))}}f[a]=-d}this.QR=l,this.Rdiag=f}return Object(i.a)(t,[{key:"solve",value:function(t){t=a.b.checkMatrix(t);var e=this.QR,r=e.rows;if(t.rows!==r)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var n,i,o,s,u=t.columns,l=t.clone(),h=e.columns;for(o=0;o<h;o++)for(i=0;i<u;i++){for(s=0,n=o;n<r;n++)s+=e.get(n,o)*l.get(n,i);for(s=-s/e.get(o,o),n=o;n<r;n++)l.set(n,i,l.get(n,i)+s*e.get(n,o))}for(o=h-1;o>=0;o--){for(i=0;i<u;i++)l.set(o,i,l.get(o,i)/this.Rdiag[o]);for(n=0;n<o;n++)for(i=0;i<u;i++)l.set(n,i,l.get(n,i)-l.get(o,i)*e.get(n,o))}return l.subMatrix(0,h-1,0,u-1)}},{key:"isFullRank",value:function(){for(var t=this.QR.columns,e=0;e<t;e++)if(0===this.Rdiag[e])return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var t,e,r=this.QR,n=r.columns,i=new a.b(n,n);for(t=0;t<n;t++)for(e=0;e<n;e++)t<e?i.set(t,e,r.get(t,e)):t===e?i.set(t,e,this.Rdiag[t]):i.set(t,e,0);return i}},{key:"orthogonalMatrix",get:function(){var t,e,r,n,i=this.QR,o=i.rows,s=i.columns,u=new a.b(o,s);for(r=s-1;r>=0;r--){for(t=0;t<o;t++)u.set(t,r,0);for(u.set(r,r,1),e=r;e<s;e++)if(0!==i.get(r,r)){for(n=0,t=r;t<o;t++)n+=i.get(t,r)*u.get(t,e);for(n=-n/i.get(r,r),t=r;t<o;t++)u.set(t,e,u.get(t,e)+n*i.get(t,r))}}return u}}]),t}()},function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";(function(t){var n=r(82),i=r(83),a=r(84);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,r);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):"string"===typeof e?function(t,e,r){"string"===typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(n=e.length)!==n?s(t,0):f(t,e);if("Buffer"===e.type&&a(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var a,o=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var h=-1;for(a=r;a<s;a++)if(l(t,a)===l(e,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===u)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var c=!0,f=0;f<u;f++)if(l(t,a+f)!==l(e,f)){c=!1;break}if(c)return a}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function w(t,e,r,n){return V(F(e,t.length-r),t,r,n)}function b(t,e,r,n){return V(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function k(t,e,r,n){return b(t,e,r,n)}function _(t,e,r,n){return V(z(e),t,r,n)}function x(t,e,r,n){return V(function(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function M(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a,o,s,u,l=t[i],h=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=r)switch(c){case 1:l<128&&(h=l);break;case 2:128===(192&(a=t[i+1]))&&(u=(31&l)<<6|63&a)>127&&(h=u);break;case 3:a=t[i+1],o=t[i+2],128===(192&a)&&128===(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return l(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return h(e),e<=0?s(t,e):void 0!==r?"string"===typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return c(null,t)},u.allocUnsafeSlow=function(t){return c(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var o=t[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),s=Math.min(a,o),l=this.slice(n,i),h=t.slice(e,r),c=0;c<s;++c)if(l[c]!==h[c]){a=l[c],o=h[c];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"===typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return k(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=N(t[a]);return i}function O(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function D(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,r,n,i,a){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function T(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function U(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,a){return a||U(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,a){return a||U(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||D(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*e)),a},u.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||I(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);I(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,a=n-r;if(this===t&&r<e&&e<n)for(i=a-1;i>=0;--i)t[i+e]=this[i+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+a),e);return a},u.prototype.fill=function(t,e,r,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var a;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"===typeof t)for(a=e;a<r;++a)this[a]=t;else{var o=u.isBuffer(t)?t:F(new u(t,n).toString()),s=o.length;for(a=0;a<r-e;++a)this[a+e]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function V(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(44))},function(t,e,r){"use strict";function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}r.d(e,"a",function(){return n})},function(t,e,r){var n=r(89),i=r(90);t.exports={encode:n,decode:i}},function(t,e,r){var n=Object.prototype.hasOwnProperty;t.exports=e=function(t,e){return n.call(e,t)},e.version=r(93).version},function(t,e,r){!function(){function e(t){for(var e=0,i=t.length-1,a=void 0,o=void 0,s=void 0,u=n(e,i);;){if(i<=e)return t[u];if(i==e+1)return t[e]>t[i]&&r(t,e,i),t[u];for(t[a=n(e,i)]>t[i]&&r(t,a,i),t[e]>t[i]&&r(t,e,i),t[a]>t[e]&&r(t,a,e),r(t,a,e+1),o=e+1,s=i;;){do{o++}while(t[e]>t[o]);do{s--}while(t[s]>t[e]);if(s<o)break;r(t,o,s)}r(t,e,s),s<=u&&(e=o),s>=u&&(i=s-1)}}var r=function(t,e,r){var n;return n=[t[r],t[e]],t[e]=n[0],t[r]=n[1],n},n=function(t,e){return~~((t+e)/2)};t.exports?t.exports=e:window.median=e}()},function(t,e,r){var n=r(117);t.exports=Number.isInteger||function(t){return"number"===typeof t&&n(t)&&Math.floor(t)===t}},,function(t,e,r){"use strict";e.encode=r(80)},function(t,e,r){"use strict";r.d(e,"a",function(){return u}),r.d(e,"b",function(){return l});var n=r(19),i=r(25),a=r(17),o=r(4),s=r(7);function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=s.a.checkMatrix(t),e?new a.a(t).inverse():l(t,o.b.eye(t.rows))}function l(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=s.a.checkMatrix(t),e=s.a.checkMatrix(e),r?new a.a(t).solve(e):t.isSquare()?new n.a(t).solve(e):new i.a(t).solve(e)}},function(t,e,r){var n=r(115).FFTUtils;function i(t){var e,r,n=t;if("number"!=typeof t[0]){e=t.length,r=t[0].length,n=new Array(e*r);for(var i=0;i<e;i++)for(var a=0;a<r;a++)n[i*r+a]=t[i][a]}else{var o=Math.sqrt(t.length);Number.isInteger(o)&&(e=o,r=o)}return{data:n,rows:e,cols:r}}t.exports={fft:function(t,e,r){var a,o,s=i(t),u=s.data,l=Object.assign({normalize:!1,divisor:1,rows:s.rows,cols:s.cols},r);if(!l.rows||!l.cols)throw new Error("Invalid number of rows or columns "+a+" "+o);a=l.rows,o=l.cols;var h,c,f=l.divisor,d=e.length,p=e[0].length;if(l.normalize)for(f=0,h=0;h<d;h++)for(c=0;c<p;c++)f+=e[h][c];if(0===f)throw new RangeError("convolution: The divisor is equal to zero");var m=n.toRadix2(u,a,o),g=n.convolute(m.data,e,m.rows,m.cols);if(g=n.crop(g,m.rows,m.cols,a,o),0!=f&&1!=f)for(h=0;h<g.length;h++)g[h]/=f;return g},direct:function(t,e,r){var n,a,o=i(t),s=o.data,u=Object.assign({normalize:!1,divisor:1,rows:o.rows,cols:o.cols},r);if(!u.rows||!u.cols)throw new Error("Invalid number of rows or columns "+n+" "+a);n=u.rows,a=u.cols;var l,h,c,f,d,p,m=u.divisor,g=e.length,v=e[0].length;if(u.normalize)for(m=0,l=0;l<g;l++)for(h=0;h<v;h++)m+=e[l][h];if(0===m)throw new RangeError("convolution: The divisor is equal to zero");var y=new Array(n*a),w=Math.floor(g/2),b=Math.floor(v/2);for(f=0;f<n;f++)for(c=0;c<a;c++){for(d=0,h=0;h<g;h++)for(l=0;l<v;l++)p=e[g-h-1][v-l-1],d+=s[(f+h-w+n)%n*a+(c+l-b+a)%a]*p;y[f*a+c]=d/m}return y},kernelFactory:{LoG:function(t,e,r){var n=1e3;r&&r.factor&&(n=r.factor);var i,a,o,s,u=new Array(e);n*=-1;var l=(e-1)/2,h=2*t*t;for(i=0;i<e;i++)for(u[i]=new Array(e),s=(i-l)*(i-l),a=0;a<e;a++)o=-((a-l)*(a-l)+s)/h,u[i][a]=Math.round(n*(1+o)*Math.exp(o));return u}},matrix2Array:i}},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(18),o=a.Matrix,s=a.MatrixTransposeView,u=r(118),l=r(119),h=r(120),c=r(121),f=r(122),d=r(123),p=r(124),m={gaussian:u,rbf:u,polynomial:l,poly:l,anova:c,cauchy:f,exponential:d,histogram:p,min:p,laplacian:r(125),multiquadratic:r(126),rational:r(127),sigmoid:h,mlp:h},g=function(){function t(e,r){if(n(this,t),this.kernelType=e,"linear"!==e)if("string"===typeof e){e=e.toLowerCase();var i=m[e];if(!i)throw new Error("unsupported kernel type: ".concat(e));this.kernelFunction=new i(r)}else{if("object"!==typeof e||"function"!==typeof e.compute)throw new TypeError("first argument must be a valid kernel type or instance");this.kernelFunction=e}}return i(t,[{key:"compute",value:function(t,e){if(t=o.checkMatrix(t),e=void 0===e?t:o.checkMatrix(e),"linear"===this.kernelType)return t.mmul(new s(e));var r=new o(t.rows,e.rows);if(t===e)for(var n=0;n<t.rows;n++)for(var i=n;i<t.rows;i++){var a=this.kernelFunction.compute(t.getRow(n),t.getRow(i));r.set(n,i,a),r.set(i,n,a)}else for(var u=0;u<t.rows;u++)for(var l=0;l<e.rows;l++)r.set(u,l,this.kernelFunction.compute(t.getRow(u),e.getRow(l)));return r}}]),t}();t.exports=g},function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(this,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,r){t.exports=function(t,e){for(var r=e[0],i=e[1],a=t.length,o=1,s=a,u=0,l=a-1;u<s;l=u++){var h=t[u],c=t[l],f=h[1],d=c[1];if(d<f){if(d<i&&i<f){var p=n(h,c,e);if(0===p)return 0;o^=0<p|0}else if(i===f){var m=t[(u+1)%a],g=m[1];if(f<g){var p=n(h,c,e);if(0===p)return 0;o^=0<p|0}}}else if(f<d){if(f<i&&i<d){var p=n(h,c,e);if(0===p)return 0;o^=p<0|0}else if(i===f){var m=t[(u+1)%a],g=m[1];if(g<f){var p=n(h,c,e);if(0===p)return 0;o^=p<0|0}}}else if(i===f){var v=Math.min(h[0],c[0]),y=Math.max(h[0],c[0]);if(0===u){for(;l>0;){var w=(l+a-1)%a,b=t[w];if(b[1]!==i)break;var k=b[0];v=Math.min(v,k),y=Math.max(y,k),l=w}if(0===l)return v<=r&&r<=y?0:1;s=l+1}for(var _=t[(l+a-1)%a][1];u+1<s;){var b=t[u+1];if(b[1]!==i)break;var k=b[0];v=Math.min(v,k),y=Math.max(y,k),u+=1}if(v<=r&&r<=y)return 0;var x=t[(u+1)%a][1];r<v&&_<i!==x<i&&(o^=1)}}return 2*o-1};var n=r(128)},function(t,e,r){var n;t.exports=function t(e,r,i){function a(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!u&&l)return n(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return a(r||t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){var n,i,a,o,s,u={}.hasOwnProperty;n=t("./PriorityQueue/AbstractPriorityQueue"),i=t("./PriorityQueue/ArrayStrategy"),o=t("./PriorityQueue/BinaryHeapStrategy"),a=t("./PriorityQueue/BHeapStrategy"),(s=function(t){function e(t){t||(t={}),t.strategy||(t.strategy=o),t.comparator||(t.comparator=function(t,e){return(t||0)-(e||0)}),e.__super__.constructor.call(this,t)}return function(t,e){for(var r in e)u.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e}(n)).ArrayStrategy=i,s.BinaryHeapStrategy=o,s.BHeapStrategy=a,e.exports=s},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(t,e,r){e.exports=function(){function t(t){var e;if(null==(null!=t?t.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=t?t.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new t.strategy(t),this.length=(null!=t&&null!=(e=t.initialValues)?e.length:void 0)||0}return t.prototype.queue=function(t){this.length++,this.priv.queue(t)},t.prototype.dequeue=function(t){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},t.prototype.peek=function(t){if(!this.length)throw"Empty queue";return this.priv.peek()},t.prototype.clear=function(){return this.length=0,this.priv.clear()},t}()},{}],3:[function(t,e,r){var n;n=function(t,e,r){var n,i,a;for(i=0,n=t.length;i<n;)r(t[a=i+n>>>1],e)>=0?i=a+1:n=a;return i},e.exports=function(){function t(t){var e;this.options=t,this.comparator=this.options.comparator,this.data=(null!=(e=this.options.initialValues)?e.slice(0):void 0)||[],this.data.sort(this.comparator).reverse()}return t.prototype.queue=function(t){var e;e=n(this.data,t,this.comparator),this.data.splice(e,0,t)},t.prototype.dequeue=function(){return this.data.pop()},t.prototype.peek=function(){return this.data[this.data.length-1]},t.prototype.clear=function(){this.data.length=0},t}()},{}],4:[function(t,e,r){e.exports=function(){function t(t){var e,r,n,i,a,o,s,u;for(this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.pageSize=(null!=t?t.pageSize:void 0)||512,this.length=0,s=0;1<<s<this.pageSize;)s+=1;if(1<<s!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=s,this._emptyMemoryPageTemplate=e=[],r=0,a=this.pageSize;0<=a?r<a:r>a;0<=a?++r:--r)e.push(null);if(this._memory=[],this._mask=this.pageSize-1,t.initialValues)for(o=t.initialValues,n=0,i=o.length;n<i;n++)u=o[n],this.queue(u)}return t.prototype.queue=function(t){this.length+=1,this._write(this.length,t),this._bubbleUp(this.length,t)},t.prototype.dequeue=function(){var t,e;return t=this._read(1),e=this._read(this.length),this.length-=1,this.length>0&&(this._write(1,e),this._bubbleDown(1,e)),t},t.prototype.peek=function(){return this._read(1)},t.prototype.clear=function(){this.length=0,this._memory.length=0},t.prototype._write=function(t,e){var r;for(r=t>>this._shift;r>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[r][t&this._mask]=e},t.prototype._read=function(t){return this._memory[t>>this._shift][t&this._mask]},t.prototype._bubbleUp=function(t,e){var r,n,i,a;for(r=this.comparator;t>1&&(n=t&this._mask,t<this.pageSize||n>3?i=t&~this._mask|n>>1:n<2?(i=t-this.pageSize>>this._shift,i+=i&~(this._mask>>1),i|=this.pageSize>>1):i=t-2,a=this._read(i),!(r(a,e)<0));)this._write(i,e),this._write(t,a),t=i},t.prototype._bubbleDown=function(t,e){var r,n,i,a,o;for(o=this.comparator;t<this.length;)if(t>this._mask&&!(t&this._mask-1)?r=n=t+2:t&this.pageSize>>1?(r=(t&~this._mask)>>1,r=1+(r|=t&this._mask>>1)<<this._shift,n=r+1):(r=t+(t&this._mask),n=r+1),r!==n&&n<=this.length)if(i=this._read(r),a=this._read(n),o(i,e)<0&&o(i,a)<=0)this._write(r,e),this._write(t,i),t=r;else{if(!(o(a,e)<0))break;this._write(n,e),this._write(t,a),t=n}else{if(!(r<=this.length))break;if(i=this._read(r),!(o(i,e)<0))break;this._write(r,e),this._write(t,i),t=r}},t}()},{}],5:[function(t,e,r){e.exports=function(){function t(t){var e;this.comparator=(null!=t?t.comparator:void 0)||function(t,e){return t-e},this.length=0,this.data=(null!=(e=t.initialValues)?e.slice(0):void 0)||[],this._heapify()}return t.prototype._heapify=function(){var t,e,r;if(this.data.length>0)for(t=e=1,r=this.data.length;1<=r?e<r:e>r;t=1<=r?++e:--e)this._bubbleUp(t)},t.prototype.queue=function(t){this.data.push(t),this._bubbleUp(this.data.length-1)},t.prototype.dequeue=function(){var t,e;return e=this.data[0],t=this.data.pop(),this.data.length>0&&(this.data[0]=t,this._bubbleDown(0)),e},t.prototype.peek=function(){return this.data[0]},t.prototype.clear=function(){this.length=0,this.data.length=0},t.prototype._bubbleUp=function(t){for(var e,r;t>0&&(e=t-1>>>1,this.comparator(this.data[t],this.data[e])<0);)r=this.data[e],this.data[e]=this.data[t],this.data[t]=r,t=e},t.prototype._bubbleDown=function(t){var e,r,n,i,a;for(e=this.data.length-1;i=1+(r=1+(t<<1)),n=t,r<=e&&this.comparator(this.data[r],this.data[n])<0&&(n=r),i<=e&&this.comparator(this.data[i],this.data[n])<0&&(n=i),n!==t;)a=this.data[n],this.data[n]=this.data[t],this.data[t]=a,t=n},t}()},{}]},{},[1])(1)},function(t,e,r){"use strict";var n=r(49),i=r(133),a=navigator.hardwareConcurrency||1;Function.prototype;function o(t,e){if("string"!==typeof t&&"function"!==typeof t)throw new TypeError("func argument must be a function");if(void 0===e&&(e={}),"object"!==typeof e||null===e)throw new TypeError("options argument must be an object");this._workerCode=t.toString(),void 0===e.maxWorkers||"auto"===e.maxWorkers?this._numWorkers=Math.min(a-1,1):e.maxWorkers>0?this._numWorkers=Math.min(e.maxWorkers,a):this._numWorkers=a,this._workers=new Map,this._timeout=e.timeout||0,this._terminateOnError=!!e.terminateOnError;var r=e.deps;"string"===typeof r&&(r=[r]),Array.isArray(r)||(r=void 0),this._id=0,this._terminated=!1,this._working=0,this._waiting=[],this._init(r)}o.prototype._init=function(t){for(var e=i.newWorkerURL(this._workerCode,t),r=0;r<this._numWorkers;r++){var n=new Worker(e);n.onmessage=this._onmessage.bind(this,n),n.onerror=this._onerror.bind(this,n),n.running=!1,n.id=r,this._workers.set(n,null)}URL.revokeObjectURL(e)},o.prototype._onerror=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[1](e.message),this._workers.set(t,null),this._terminateOnError?this.terminate():this._exec()}},o.prototype._onmessage=function(t,e){if(!this._terminated){this._working--,t.running=!1;var r=this._workers.get(t);r&&r[0](e.data.data),this._workers.set(t,null),this._exec()}},o.prototype._exec=function(){var t,e=n(this._workers.keys());try{for(e.s();!(t=e.n()).done;){var r=t.value;if(this._working===this._numWorkers||0===this._waiting.length)return;if(!r.running)for(var i=0;i<this._waiting.length;i++){var a=this._waiting[i];if("number"!==typeof a[4]||a[4]===r.id){this._waiting.splice(i,1),r.postMessage({action:"exec",event:a[0],args:a[1]},a[2]),r.running=!0,r.time=Date.now(),this._workers.set(r,a[3]),this._working++;break}}}}catch(o){e.e(o)}finally{e.f()}},o.prototype.terminate=function(){if(!this._terminated){var t,e=n(this._workers);try{for(e.s();!(t=e.n()).done;){var r=t.value;r[0].terminate(),r[1]&&r[1][1](new Error("Terminated"))}}catch(i){e.e(i)}finally{e.f()}this._workers.clear(),this._waiting=[],this._working=0,this._terminated=!0}},o.prototype.postAll=function(t,e){if(this._terminated)throw new Error("Cannot post (terminated)");var r,i=[],a=n(this._workers.keys());try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(this.post(t,e,[],o.id))}}catch(s){a.e(s)}finally{a.f()}return Promise.all(i)},o.prototype.post=function(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]);var i=this;return new Promise(function(a,o){if(i._terminated)throw new Error("Cannot post (terminated)");i._waiting.push([t,e,r,[a,o],n]),i._exec()})},t.exports=o},function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var r,o,s=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))i.call(r,l)&&(s[l]=r[l]);if(n){o=n(r);for(var h=0;h<o.length;h++)a.call(r,o[h])&&(s[o[h]]=r[o[h]])}}return s}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(9),i=r(10),a=8192,o=[],s=function(){function t(e,r){n(this,t),r=r||{},void 0===e&&(e=a),"number"===typeof e&&(e=new ArrayBuffer(e));var i=e.byteLength,o=r.offset?r.offset>>>0:0;e.buffer&&(i=e.byteLength-o,e=e.byteLength!==e.buffer.byteLength?e.buffer.slice(e.byteOffset+o,e.byteOffset+e.byteLength):o?e.buffer.slice(o):e.buffer),this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=0,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer),this._increment=i||a,this._mark=0}return i(t,[{key:"available",value:function(t){return void 0===t&&(t=1),this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){this.littleEndian=!0}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){this.littleEndian=!1}},{key:"skip",value:function(t){void 0===t&&(t=1),this.offset+=t}},{key:"seek",value:function(t){this.offset=t}},{key:"mark",value:function(){this._mark=this.offset}},{key:"reset",value:function(){this.offset=this._mark}},{key:"rewind",value:function(){this.offset=0}},{key:"ensureAvailable",value:function(t){if(void 0===t&&(t=1),!this.available(t)){var e=this._increment+this._increment;this._increment=e;var r=this.length+e,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this._data=new DataView(this.buffer)}}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(t){void 0===t&&(t=1),o.length=t;for(var e=0;e<t;e++)o[e]=this.readChar();return o.join("")}},{key:"writeBoolean",value:function(t){this.writeUint8(t?255:0)}},{key:"writeInt8",value:function(t){this.ensureAvailable(1),this._data.setInt8(this.offset++,t)}},{key:"writeUint8",value:function(t){this.ensureAvailable(1),this._data.setUint8(this.offset++,t)}},{key:"writeByte",value:function(t){this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e])}},{key:"writeInt16",value:function(t){this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2}},{key:"writeUint16",value:function(t){this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2}},{key:"writeInt32",value:function(t){this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4}},{key:"writeUint32",value:function(t){this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4}},{key:"writeFloat32",value:function(t){this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4}},{key:"writeFloat64",value:function(t){this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8}},{key:"writeChar",value:function(t){this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,0,this.offset)}}]),t}();t.exports=s},function(t,e,r){var n=r(98);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},function(t,e,r){var n=r(99),i=r(100),a=r(101);t.exports=function(t){return function(){var e,r=n(t);if(i()){var o=n(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)}}},function(t,e,r){"use strict";var n=r(49),i=r(9),a=r(10),o={standard:r(104),exif:r(105),gps:r(106)},s=function(){function t(e){if(i(this,t),!e)throw new Error("missing kind");this.data=null,this.fields=new Map,this.kind=e,this._map=null}return a(t,[{key:"get",value:function(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(o[this.kind].tagsByName[t]);throw new Error("expected a number or string")}},{key:"map",get:function(){if(!this._map){this._map={};var t,e=o[this.kind].tagsById,r=n(this.fields.keys());try{for(r.s();!(t=r.n()).done;){var i=t.value;e[i]&&(this._map[e[i]]=this.fields.get(i))}}catch(a){r.e(a)}finally{r.f()}}return this._map}}]),t}();t.exports=s},function(t,e,r){var n=r(50);t.exports=function(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=n(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(t,e,r){var n=r(51);t.exports=function(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e,r){(function(){var t,r="0.3.0",n="2013-03";(t=e).toString=function(){return"version "+r+", released "+n};for(var i=0,a=null,o=null,s={init:function(t){if(0===t||0!==(t&t-1))throw new Error("init: radix-2 required");i=t,s._initArray(),s._makeBitReversalTable(),s._makeCosSinTable()},fft1d:function(t,e){s.fft(t,e,1)},ifft1d:function(t,e){var r=1/i;s.fft(t,e,-1);for(var n=0;n<i;n++)t[n]*=r,e[n]*=r},bt1d:function(t,e){s.fft(t,e,-1)},fft2d:function(t,e){for(var r=[],n=[],a=0,o=0;o<i;o++){a=o*i;for(var u=0;u<i;u++)r[u]=t[u+a],n[u]=e[u+a];s.fft1d(r,n);for(var l=0;l<i;l++)t[l+a]=r[l],e[l+a]=n[l]}for(var h=0;h<i;h++){for(var c=0;c<i;c++)a=h+c*i,r[c]=t[a],n[c]=e[a];s.fft1d(r,n);for(var f=0;f<i;f++)t[a=h+f*i]=r[f],e[a]=n[f]}},ifft2d:function(t,e){for(var r=[],n=[],a=0,o=0;o<i;o++){a=o*i;for(var u=0;u<i;u++)r[u]=t[u+a],n[u]=e[u+a];s.ifft1d(r,n);for(var l=0;l<i;l++)t[l+a]=r[l],e[l+a]=n[l]}for(var h=0;h<i;h++){for(var c=0;c<i;c++)a=h+c*i,r[c]=t[a],n[c]=e[a];s.ifft1d(r,n);for(var f=0;f<i;f++)t[a=h+f*i]=r[f],e[a]=n[f]}},fft:function(t,e,r){for(var n,s,u,l,h,c,f,d,p,m=i>>2,g=0;g<i;g++)g<(l=a[g])&&(h=t[g],t[g]=t[l],t[l]=h,h=e[g],e[g]=e[l],e[l]=h);for(var v=1;v<i;v<<=1){s=0,n=i/(v<<1);for(var y=0;y<v;y++){c=o[s+m],f=r*o[s];for(var w=y;w<i;w+=v<<1)d=c*t[u=w+v]+f*e[u],p=c*e[u]-f*t[u],t[u]=t[w]-d,t[w]+=d,e[u]=e[w]-p,e[w]+=p;s+=n}}},_initArray:function(){a="undefined"!==typeof Uint32Array?new Uint32Array(i):[],o="undefined"!==typeof Float64Array?new Float64Array(1.25*i):[]},_paddingZero:function(){},_makeBitReversalTable:function(){var t=0,e=0,r=0;for(a[0]=0;++t<i;){for(r=i>>1;r<=e;)e-=r,r>>=1;e+=r,a[t]=e}},_makeCosSinTable:function(){var t=i>>1,e=i>>2,r=i>>3,n=t+e,a=Math.sin(Math.PI/i),s=2*a*a,u=Math.sqrt(s*(2-s)),l=o[e]=1,h=o[0]=0;a=2*s;for(var c=1;c<r;c++)s+=a*(l-=s),u-=a*(h+=u),o[c]=h,o[e-c]=l;0!==r&&(o[r]=Math.sqrt(.5));for(var f=0;f<e;f++)o[t-f]=o[f];for(var d=0;d<n;d++)o[d+t]=-o[d]}},u=["init","fft1d","ifft1d","fft2d","ifft2d"],l=0;l<u.length;l++)t[u[l]]=s[u[l]];return t.bt=s.bt1d,t.fft=s.fft1d,t.ifft=s.ifft1d,t}).call(this)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var n=r(0),i=r(1),a=r(3),o=r(5),s=function(t){Object(a.a)(r,t);var e=Object(o.a)(r);function r(t){return Object(n.a)(this,r),e.call(this,t,t.columns,t.rows)}return Object(i.a)(r,[{key:"set",value:function(t,e,r){return this.matrix.set(e,t,r),this}},{key:"get",value:function(t,e){return this.matrix.get(e,t)}}]),r}(r(13).a)},function(t,e,r){"use strict";t.exports=function(t,e,r){var i=t*e,a=n*t,o=a-(a-t),s=t-o,u=n*e,l=u-(u-e),h=e-l,c=s*h-(i-o*l-s*l-o*h);if(r)return r[0]=c,r[1]=i,r;return[c,i]};var n=+(Math.pow(2,27)+1)},function(t,e,r){var n={corePath:"https://cdn.jsdelivr.net/gh/naptha/tesseract.js-core@0.1.0/index.js",langPath:"https://tessdata.projectnaptha.com/3.02/"};if("development"===Object({NODE_ENV:"production",PUBLIC_URL:"/seppuku"}).TESS_ENV)console.debug("Using Development Configuration"),n.workerPath=location.protocol+"//"+location.host+"/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3);else{var i=r(56).version;n.workerPath="https://cdn.jsdelivr.net/gh/naptha/tesseract.js@"+i+"/dist/worker.js"}e.defaultOptions=n,e.spawnWorker=function(t,e){if(Blob&&URL)var r=new Blob(['importScripts("'+e.workerPath+'");'],{type:"application/javascript"}),n=new Worker(URL.createObjectURL(r));else n=new Worker(e.workerPath);return n.onmessage=function(e){var r=e.data;t._recv(r)},n},e.terminateWorker=function(t){t.worker.terminate()},e.sendPacket=function(t,e){!function t(e,r){if("string"===typeof e){if(/^\#/.test(e))return t(document.querySelector(e),r);if(/(blob|data)\:/.test(e)){var n=new Image;return n.src=e,n.onload=function(e){return t(n,r)},void(n.onerror=function(t){throw t})}var i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){if(i.status>=400)throw new Error("Fail to get image as Blob");t(i.response,r)},i.onerror=function(t){throw t},void i.send(null)}if(e instanceof File){var a=new FileReader;return a.onload=function(e){return t(a.result,r)},a.onerror=function(t){throw t},void a.readAsDataURL(e)}if(e instanceof Blob)return t(URL.createObjectURL(e),r);if(e.getContext)return t(e.getContext("2d"),r);if("IMG"==e.tagName||"VIDEO"==e.tagName){var o=document.createElement("canvas");o.width=e.naturalWidth||e.videoWidth,o.height=e.naturalHeight||e.videoHeight;var s=o.getContext("2d");return s.drawImage(e,0,0),t(s,r)}if(e.getImageData){var u=e.getImageData(0,0,e.canvas.width,e.canvas.height);return t(u,r)}return r(e);throw new Error("Missing return in loadImage cascade")}(e.payload.image,function(r){e.payload.image=r,t.worker.postMessage(e)})}},function(t){t.exports={name:"tesseract.js",version:"1.0.19",description:"Pure Javascript Multilingual OCR",main:"src/index.js",scripts:{start:'concurrently --kill-others "watchify src/index.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract" "watchify src/browser/worker.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js" "http-server -p 7355"',build:"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js && uglifyjs dist/tesseract.js --source-map -o dist/tesseract.min.js && uglifyjs dist/worker.js --source-map -o dist/worker.min.js",release:"npm run build && git commit -am 'new release' && git push && git tag `jq -r '.version' package.json` && git push origin --tags && npm publish"},browser:{"./src/node/index.js":"./src/browser/index.js"},author:"",license:"Apache-2.0",devDependencies:{"babel-preset-es2015":"^6.16.0",babelify:"^7.3.0",browserify:"^13.1.0",concurrently:"^3.1.0",envify:"^3.4.1","http-server":"^0.9.0",pako:"^1.0.3","uglify-js":"^3.4.9",watchify:"^3.7.0"},dependencies:{"file-type":"^3.8.0","isomorphic-fetch":"^2.2.1","is-url":"1.2.2","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js"}},function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(75)},,function(t,e,r){var n;n=function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(t,e,r){"use strict";r.r(e);var n=r("react"),i=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise(function(r,n){e.call(navigator,t,r,n)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(t){function e(e){var r=t.call(this,e)||this;return r.canvas=null,r.ctx=null,r.requestUserMediaId=0,r.unmounted=!1,r.state={hasUserMedia:!1},r}return i(e,t),e.prototype.componentDidMount=function(){var t=this.state,e=this.props;s()?t.hasUserMedia||this.requestUserMedia():e.onUserMediaError("getUserMedia not supported")},e.prototype.componentDidUpdate=function(t){var e=this.props;if(s()){var r=JSON.stringify(t.audioConstraints)!==JSON.stringify(e.audioConstraints),n=JSON.stringify(t.videoConstraints)!==JSON.stringify(e.videoConstraints),i=t.minScreenshotWidth!==e.minScreenshotWidth,a=t.minScreenshotHeight!==e.minScreenshotHeight;(n||i||a)&&(this.canvas=null,this.ctx=null),(r||n)&&(this.stopAndCleanup(),this.requestUserMedia())}else e.onUserMediaError("getUserMedia not supported")},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},e.stopMediaStream=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().map(function(e){t.removeTrack(e),e.stop()}),t.getAudioTracks().map(function(e){t.removeTrack(e),e.stop()})):t.stop())},e.prototype.stopAndCleanup=function(){var t=this.state;t.hasUserMedia&&(e.stopMediaStream(this.stream),t.src&&window.URL.revokeObjectURL(t.src))},e.prototype.getScreenshot=function(t){var e=this.state,r=this.props;if(!e.hasUserMedia)return null;var n=this.getCanvas(t);return n&&n.toDataURL(r.screenshotFormat,r.screenshotQuality)},e.prototype.getCanvas=function(t){var e=this.state,r=this.props;if(!this.video)return null;if(!e.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var n=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=n/i;i=(n=r.minScreenshotWidth||this.video.clientWidth)/a,r.minScreenshotHeight&&i<r.minScreenshotHeight&&(n=(i=r.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===t||void 0===t?void 0:t.width)||n,this.canvas.height=(null===t||void 0===t?void 0:t.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(r.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=r.imageSmoothing,o.drawImage(this.video,0,0,(null===t||void 0===t?void 0:t.width)||s.width,(null===t||void 0===t?void 0:t.height)||s.height),r.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},e.prototype.requestUserMedia=function(){var t=this,r=this.props,n=function(n,i){var a={video:"undefined"===typeof i||i};r.audio&&(a.audio="undefined"===typeof n||n),t.requestUserMediaId++;var o=t.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then(function(r){t.unmounted||o!==t.requestUserMediaId?e.stopMediaStream(r):t.handleUserMedia(null,r)}).catch(function(e){t.handleUserMedia(e)})};if("mediaDevices"in navigator)n(r.audioConstraints,r.videoConstraints);else{var i=function(t){return{optional:[{sourceId:t}]}},a=function(t){var e=t.deviceId;return"string"===typeof e?e:Array.isArray(e)&&e.length>0?e[0]:"object"===typeof e&&e.ideal?e.ideal:null};MediaStreamTrack.getSources(function(t){var e=null,o=null;t.forEach(function(t){"audio"===t.kind?e=t.id:"video"===t.kind&&(o=t.id)});var s=a(r.audioConstraints);s&&(e=s);var u=a(r.videoConstraints);u&&(o=u),n(i(e),i(o))})}},e.prototype.handleUserMedia=function(t,e){var r=this.props;if(t||!e)return this.setState({hasUserMedia:!1}),void r.onUserMediaError(t);this.stream=e;try{this.video&&(this.video.srcObject=e),this.setState({hasUserMedia:!0})}catch(n){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(e)})}r.onUserMedia(e)},e.prototype.render=function(){var t=this,e=this.state,r=this.props,i=r.audio,s=(r.forceScreenshotSourceSize,r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing,r.mirrored),u=r.style,l=void 0===u?{}:u,h=o(r,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),c=s?a(a({},l),{transform:(l.transform||"")+" scaleX(-1)"}):l;return n.createElement("video",a({autoPlay:!0,src:e.src,muted:!i,playsInline:!0,ref:function(e){t.video=e},style:c},h))},e.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},e}(n.Component);e.default=u},react:function(e,r){e.exports=t}}).default},t.exports=n(r(6))},,,function(t,e,r){"use strict";e.decode=r(94)},function(t,e,r){"use strict";var n=r(109),i=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),a=function(t){var e=n(t);return i.has(e&&e.ext)?e:null};t.exports=a,t.exports.default=a,Object.defineProperty(a,"minimumBytes",{value:n.minimumBytes})},function(t,e,r){"use strict";function n(t){if(this.size=0|t,this.size<=1||0!==(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(2*this.size),r=0;r<e.length;r+=2){var n=Math.PI*r/this.size;e[r]=Math.cos(n),e[r+1]=-Math.sin(n)}this.table=e;for(var i=0,a=1;this.size>a;a<<=1)i++;this._width=i%2===0?i-1:i,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var s=0;s<this._width;s+=2){var u=this._width-s-2;this._bitrev[o]|=(o>>>s&3)<<u}}this._out=null,this._data=null,this._inv=0}t.exports=n,n.prototype.fromComplexArray=function(t,e){for(var r=e||new Array(t.length>>>1),n=0;n<t.length;n+=2)r[n>>>1]=t[n];return r},n.prototype.createComplexArray=function(){for(var t=new Array(this._csize),e=0;e<t.length;e++)t[e]=0;return t},n.prototype.toComplexArray=function(t,e){for(var r=e||this.createComplexArray(),n=0;n<r.length;n+=2)r[n]=t[n>>>1],r[n+1]=0;return r},n.prototype.completeSpectrum=function(t){for(var e=this._csize,r=e>>>1,n=2;n<r;n+=2)t[e-n]=t[n],t[e-n+1]=-t[n+1]},n.prototype.transform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._transform4(),this._out=null,this._data=null},n.prototype.realTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=0,this._realTransform4(),this._out=null,this._data=null},n.prototype.inverseTransform=function(t,e){if(t===e)throw new Error("Input and output buffers must be different");this._out=t,this._data=e,this._inv=1,this._transform4();for(var r=0;r<t.length;r++)t[r]/=this.size;this._out=null,this._data=null},n.prototype._transform4=function(){var t,e,r=this._out,n=this._csize,i=1<<this._width,a=n/i<<1,o=this._bitrev;if(4===a)for(t=0,e=0;t<n;t+=a,e++){var s=o[e];this._singleTransform2(t,s,i)}else for(t=0,e=0;t<n;t+=a,e++){var u=o[e];this._singleTransform4(t,u,i)}var l=this._inv?-1:1,h=this.table;for(i>>=2;i>=2;i>>=2){var c=(a=n/i<<1)>>>2;for(t=0;t<n;t+=a)for(var f=t+c,d=t,p=0;d<f;d+=2,p+=i){var m=d,g=m+c,v=g+c,y=v+c,w=r[m],b=r[m+1],k=r[g],_=r[g+1],x=r[v],M=r[v+1],E=r[y],S=r[y+1],A=w,P=b,C=h[p],O=l*h[p+1],D=k*C-_*O,I=k*O+_*C,T=h[2*p],R=l*h[2*p+1],U=x*T-M*R,j=x*R+M*T,L=h[3*p],B=l*h[3*p+1],N=E*L-S*B,F=E*B+S*L,z=A+U,V=P+j,Y=A-U,X=P-j,q=D+N,H=I+F,G=l*(D-N),W=l*(I-F),K=z+q,Z=V+H,Q=z-q,$=V-H,J=Y+W,tt=X-G,et=Y-W,rt=X+G;r[m]=K,r[m+1]=Z,r[g]=J,r[g+1]=tt,r[v]=Q,r[v+1]=$,r[y]=et,r[y+1]=rt}}},n.prototype._singleTransform2=function(t,e,r){var n=this._out,i=this._data,a=i[e],o=i[e+1],s=i[e+r],u=i[e+r+1],l=a+s,h=o+u,c=a-s,f=o-u;n[t]=l,n[t+1]=h,n[t+2]=c,n[t+3]=f},n.prototype._singleTransform4=function(t,e,r){var n=this._out,i=this._data,a=this._inv?-1:1,o=2*r,s=3*r,u=i[e],l=i[e+1],h=i[e+r],c=i[e+r+1],f=i[e+o],d=i[e+o+1],p=i[e+s],m=i[e+s+1],g=u+f,v=l+d,y=u-f,w=l-d,b=h+p,k=c+m,_=a*(h-p),x=a*(c-m),M=g+b,E=v+k,S=y+x,A=w-_,P=g-b,C=v-k,O=y-x,D=w+_;n[t]=M,n[t+1]=E,n[t+2]=S,n[t+3]=A,n[t+4]=P,n[t+5]=C,n[t+6]=O,n[t+7]=D},n.prototype._realTransform4=function(){var t,e,r=this._out,n=this._csize,i=1<<this._width,a=n/i<<1,o=this._bitrev;if(4===a)for(t=0,e=0;t<n;t+=a,e++){var s=o[e];this._singleRealTransform2(t,s>>>1,i>>>1)}else for(t=0,e=0;t<n;t+=a,e++){var u=o[e];this._singleRealTransform4(t,u>>>1,i>>>1)}var l=this._inv?-1:1,h=this.table;for(i>>=2;i>=2;i>>=2){var c=(a=n/i<<1)>>>1,f=c>>>1,d=f>>>1;for(t=0;t<n;t+=a)for(var p=0,m=0;p<=d;p+=2,m+=i){var g=t+p,v=g+f,y=v+f,w=y+f,b=r[g],k=r[g+1],_=r[v],x=r[v+1],M=r[y],E=r[y+1],S=r[w],A=r[w+1],P=b,C=k,O=h[m],D=l*h[m+1],I=_*O-x*D,T=_*D+x*O,R=h[2*m],U=l*h[2*m+1],j=M*R-E*U,L=M*U+E*R,B=h[3*m],N=l*h[3*m+1],F=S*B-A*N,z=S*N+A*B,V=P+j,Y=C+L,X=P-j,q=C-L,H=I+F,G=T+z,W=l*(I-F),K=l*(T-z),Z=V+H,Q=Y+G,$=X+K,J=q-W;if(r[g]=Z,r[g+1]=Q,r[v]=$,r[v+1]=J,0!==p){if(p!==d){var tt=X+-l*K,et=-q+-l*W,rt=V+-l*H,nt=-Y- -l*G,it=t+f-p,at=t+c-p;r[it]=tt,r[it+1]=et,r[at]=rt,r[at+1]=nt}}else{var ot=V-H,st=Y-G;r[y]=ot,r[y+1]=st}}}},n.prototype._singleRealTransform2=function(t,e,r){var n=this._out,i=this._data,a=i[e],o=i[e+r],s=a+o,u=a-o;n[t]=s,n[t+1]=0,n[t+2]=u,n[t+3]=0},n.prototype._singleRealTransform4=function(t,e,r){var n=this._out,i=this._data,a=this._inv?-1:1,o=2*r,s=3*r,u=i[e],l=i[e+r],h=i[e+o],c=i[e+s],f=u+h,d=u-h,p=l+c,m=a*(l-c),g=f+p,v=d,y=-m,w=f-p,b=d,k=m;n[t]=g,n[t+1]=0,n[t+2]=v,n[t+3]=y,n[t+4]=w,n[t+5]=0,n[t+6]=b,n[t+7]=k}},function(t,e){t.exports=function(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,1+(t|=t>>16))}},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function(t){return"Array"===n.call(t).substr(-6,5)}},function(t,e,r){!function(){function e(t,e,r){this.next=r,r&&(r.prev=this),this.prev=e,e&&(e.next=this),this.data=t}function r(){if(!(this instanceof r))return new r;this._head=null,this._tail=null,this.length=0}r.prototype={push:function(t){this._tail=new e(t,this._tail,null),this._head||(this._head=this._tail),this.length++},pop:function(){if(0!==this.length){var t=this._tail;return this._tail=t.prev,t.prev&&(t.prev=this._tail.next=null),this.length--,1===this.length?this._head=this._tail:0===this.length&&(this._head=this._tail=null),t.data}},unshift:function(t){this._head=new e(t,null,this._head),this._tail||(this._tail=this._head),this.length++},shift:function(){if(0!==this.length){var t=this._head;return this._head=t.next,t.next&&(t.next=this._head.prev=null),this.length--,1===this.length?this._tail=this._head:0===this.length&&(this._head=this._tail=null),t.data}},item:function(t){t<0&&(t=this.length+t);for(var e=this._head;t-- >0&&e;)e=e.next;return e?e.data:void 0},slice:function(t,e){if(t||(t=0),e||(e=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e===t)return[];if(e<t)throw new Error("invalid offset: "+t+","+e+" (length="+this.length+")");for(var r=e-t,n=new Array(r),i=0,a=this._head;t-- >0&&a;)a=a.next;for(;i<r&&a;)n[i++]=a.data,a=a.next;return n},drop:function(){r.call(this)},forEach:function(t,e){for(var r=this._head,n=0,i=this.length;n<i&&r;)t.call(e||this,r.data,n,this),r=r.next,n++},map:function(t,e){var n=new r;return this.forEach(function(r,i,a){n.push(t.call(e||a,r,i,a))}),n},filter:function(t,e){var n=new r;return this.forEach(function(r,i,a){t.call(e||a,r,i,a)&&n.push(r)}),n},reduce:function(t,e,r){var n=0,i=this._head,a=this.length;for(e||(n=1,e=i&&i.data,i=i&&i.next);n<a&&i;)e=t.call(r||this,e,i.data,this),n++,i=i.next;return e}},t.exports=r}()},function(t,e,r){t.exports=function(){"use strict";function t(t){return"string"===typeof t||t instanceof String}var e=Number.isFinite||window.isFinite;function r(t){return e(t)}function n(t){return t}function i(t,e){if(e.length!==t.length)return!1;for(var r=0;r<t.length;r++){if(e[r].compareArray&&!e[r].compareArray(t[r]))return!1;if(e[r]!==t[r])return!1}return!0}function a(t,e){Object.keys(e).forEach(function(r){t[r]=e[r]})}function o(){for(var t=1,e=0,r=0;r<arguments.length;r++){var n=arguments[r];e+=l(n),t*=n}return 0!==e?u(t,e):t}function s(t,e){if(0===e)throw new Error("Divide by zero");var r=Math.pow(10,l(e)),n=r/(r*e);return o(t,n)}function u(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}function l(t){if(!isFinite(t))return 0;for(var e=0;t%1!==0;)t*=10,e++;return e}function h(){var t;if(!this)return t=Object.create(h.prototype),h.apply(t,arguments),t;t=Error.apply(this,arguments),this.name="QtyError",this.message=t.message,this.stack=t.stack}function c(t,e){throw new h("Incompatible units: "+t+" and "+e)}h.prototype=Object.create(Error.prototype,{constructor:{value:h}});var f={"<googol>":[["googol"],1e100,"prefix"],"<kibi>":[["Ki","Kibi","kibi"],Math.pow(2,10),"prefix"],"<mebi>":[["Mi","Mebi","mebi"],Math.pow(2,20),"prefix"],"<gibi>":[["Gi","Gibi","gibi"],Math.pow(2,30),"prefix"],"<tebi>":[["Ti","Tebi","tebi"],Math.pow(2,40),"prefix"],"<pebi>":[["Pi","Pebi","pebi"],Math.pow(2,50),"prefix"],"<exi>":[["Ei","Exi","exi"],Math.pow(2,60),"prefix"],"<zebi>":[["Zi","Zebi","zebi"],Math.pow(2,70),"prefix"],"<yebi>":[["Yi","Yebi","yebi"],Math.pow(2,80),"prefix"],"<yotta>":[["Y","Yotta","yotta"],1e24,"prefix"],"<zetta>":[["Z","Zetta","zetta"],1e21,"prefix"],"<exa>":[["E","Exa","exa"],1e18,"prefix"],"<peta>":[["P","Peta","peta"],1e15,"prefix"],"<tera>":[["T","Tera","tera"],1e12,"prefix"],"<giga>":[["G","Giga","giga"],1e9,"prefix"],"<mega>":[["M","Mega","mega"],1e6,"prefix"],"<kilo>":[["k","kilo"],1e3,"prefix"],"<hecto>":[["h","Hecto","hecto"],100,"prefix"],"<deca>":[["da","Deca","deca","deka"],10,"prefix"],"<deci>":[["d","Deci","deci"],.1,"prefix"],"<centi>":[["c","Centi","centi"],.01,"prefix"],"<milli>":[["m","Milli","milli"],.001,"prefix"],"<micro>":[["u","\u03bc","\xb5","Micro","mc","micro"],1e-6,"prefix"],"<nano>":[["n","Nano","nano"],1e-9,"prefix"],"<pico>":[["p","Pico","pico"],1e-12,"prefix"],"<femto>":[["f","Femto","femto"],1e-15,"prefix"],"<atto>":[["a","Atto","atto"],1e-18,"prefix"],"<zepto>":[["z","Zepto","zepto"],1e-21,"prefix"],"<yocto>":[["y","Yocto","yocto"],1e-24,"prefix"],"<1>":[["1","<1>"],1,""],"<meter>":[["m","meter","meters","metre","metres"],1,"length",["<meter>"]],"<inch>":[["in","inch","inches",'"'],.0254,"length",["<meter>"]],"<foot>":[["ft","foot","feet","'"],.3048,"length",["<meter>"]],"<yard>":[["yd","yard","yards"],.9144,"length",["<meter>"]],"<mile>":[["mi","mile","miles"],1609.344,"length",["<meter>"]],"<naut-mile>":[["nmi","naut-mile"],1852,"length",["<meter>"]],"<league>":[["league","leagues"],4828,"length",["<meter>"]],"<furlong>":[["furlong","furlongs"],201.2,"length",["<meter>"]],"<rod>":[["rd","rod","rods"],5.029,"length",["<meter>"]],"<mil>":[["mil","mils"],254e-7,"length",["<meter>"]],"<angstrom>":[["ang","angstrom","angstroms"],1e-10,"length",["<meter>"]],"<fathom>":[["fathom","fathoms"],1.829,"length",["<meter>"]],"<pica>":[["pica","picas"],.00423333333,"length",["<meter>"]],"<point>":[["pt","point","points"],.000352777778,"length",["<meter>"]],"<redshift>":[["z","red-shift","redshift"],1.302773e26,"length",["<meter>"]],"<AU>":[["AU","astronomical-unit"],1495979e5,"length",["<meter>"]],"<light-second>":[["ls","light-second"],299792500,"length",["<meter>"]],"<light-minute>":[["lmin","light-minute"],1798755e4,"length",["<meter>"]],"<light-year>":[["ly","light-year"],9460528e9,"length",["<meter>"]],"<parsec>":[["pc","parsec","parsecs"],3085678e10,"length",["<meter>"]],"<datamile>":[["DM","datamile"],1828.8,"length",["<meter>"]],"<kilogram>":[["kg","kilogram","kilograms"],1,"mass",["<kilogram>"]],"<AMU>":[["u","AMU","amu"],1.660538921e-27,"mass",["<kilogram>"]],"<dalton>":[["Da","Dalton","Daltons","dalton","daltons"],1.660538921e-27,"mass",["<kilogram>"]],"<slug>":[["slug","slugs"],14.5939029,"mass",["<kilogram>"]],"<short-ton>":[["tn","ton","short-ton"],907.18474,"mass",["<kilogram>"]],"<metric-ton>":[["tonne","metric-ton"],1e3,"mass",["<kilogram>"]],"<carat>":[["ct","carat","carats"],2e-4,"mass",["<kilogram>"]],"<pound>":[["lbs","lb","pound","pounds","#"],.45359237,"mass",["<kilogram>"]],"<ounce>":[["oz","ounce","ounces"],.0283495231,"mass",["<kilogram>"]],"<gram>":[["g","gram","grams","gramme","grammes"],.001,"mass",["<kilogram>"]],"<grain>":[["grain","grains","gr"],6479891e-11,"mass",["<kilogram>"]],"<dram>":[["dram","drams","dr"],.0017718452,"mass",["<kilogram>"]],"<stone>":[["stone","stones","st"],6.35029318,"mass",["<kilogram>"]],"<hectare>":[["hectare"],1e4,"area",["<meter>","<meter>"]],"<acre>":[["acre","acres"],4046.85642,"area",["<meter>","<meter>"]],"<sqft>":[["sqft"],1,"area",["<foot>","<foot>"]],"<liter>":[["l","L","liter","liters","litre","litres"],.001,"volume",["<meter>","<meter>","<meter>"]],"<gallon>":[["gal","gallon","gallons"],.0037854118,"volume",["<meter>","<meter>","<meter>"]],"<gallon-imp>":[["galimp","gallon-imp","gallons-imp"],.00454609,"volume",["<meter>","<meter>","<meter>"]],"<quart>":[["qt","quart","quarts"],.00094635295,"volume",["<meter>","<meter>","<meter>"]],"<pint>":[["pt","pint","pints"],.000473176475,"volume",["<meter>","<meter>","<meter>"]],"<pint-imp>":[["ptimp","pint-imp","pints-imp"],.00056826125,"volume",["<meter>","<meter>","<meter>"]],"<cup>":[["cu","cup","cups"],.000236588238,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce>":[["floz","fluid-ounce","fluid-ounces"],295735297e-13,"volume",["<meter>","<meter>","<meter>"]],"<fluid-ounce-imp>":[["flozimp","floz-imp","fluid-ounce-imp","fluid-ounces-imp"],284130625e-13,"volume",["<meter>","<meter>","<meter>"]],"<tablespoon>":[["tb","tbsp","tbs","tablespoon","tablespoons"],147867648e-13,"volume",["<meter>","<meter>","<meter>"]],"<teaspoon>":[["tsp","teaspoon","teaspoons"],492892161e-14,"volume",["<meter>","<meter>","<meter>"]],"<bushel>":[["bu","bsh","bushel","bushels"],.035239072,"volume",["<meter>","<meter>","<meter>"]],"<oilbarrel>":[["bbl","oilbarrel","oilbarrels","oil-barrel","oil-barrels"],.158987294928,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel>":[["bl","bl-us","beerbarrel","beerbarrels","beer-barrel","beer-barrels"],.1173477658,"volume",["<meter>","<meter>","<meter>"]],"<beerbarrel-imp>":[["blimp","bl-imp","beerbarrel-imp","beerbarrels-imp","beer-barrel-imp","beer-barrels-imp"],.16365924,"volume",["<meter>","<meter>","<meter>"]],"<kph>":[["kph"],.277777778,"speed",["<meter>"],["<second>"]],"<mph>":[["mph"],.44704,"speed",["<meter>"],["<second>"]],"<knot>":[["kt","kn","kts","knot","knots"],.514444444,"speed",["<meter>"],["<second>"]],"<fps>":[["fps"],.3048,"speed",["<meter>"],["<second>"]],"<gee>":[["gee"],9.80665,"acceleration",["<meter>"],["<second>","<second>"]],"<Gal>":[["Gal"],.01,"acceleration",["<meter>"],["<second>","<second>"]],"<kelvin>":[["degK","kelvin"],1,"temperature",["<kelvin>"]],"<celsius>":[["degC","celsius","celsius","centigrade"],1,"temperature",["<kelvin>"]],"<fahrenheit>":[["degF","fahrenheit"],5/9,"temperature",["<kelvin>"]],"<rankine>":[["degR","rankine"],5/9,"temperature",["<kelvin>"]],"<temp-K>":[["tempK","temp-K"],1,"temperature",["<temp-K>"]],"<temp-C>":[["tempC","temp-C"],1,"temperature",["<temp-K>"]],"<temp-F>":[["tempF","temp-F"],5/9,"temperature",["<temp-K>"]],"<temp-R>":[["tempR","temp-R"],5/9,"temperature",["<temp-K>"]],"<second>":[["s","sec","secs","second","seconds"],1,"time",["<second>"]],"<minute>":[["min","mins","minute","minutes"],60,"time",["<second>"]],"<hour>":[["h","hr","hrs","hour","hours"],3600,"time",["<second>"]],"<day>":[["d","day","days"],86400,"time",["<second>"]],"<week>":[["wk","week","weeks"],604800,"time",["<second>"]],"<fortnight>":[["fortnight","fortnights"],1209600,"time",["<second>"]],"<year>":[["y","yr","year","years","annum"],31556926,"time",["<second>"]],"<decade>":[["decade","decades"],315569260,"time",["<second>"]],"<century>":[["century","centuries"],3155692600,"time",["<second>"]],"<pascal>":[["Pa","pascal","Pascal"],1,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<bar>":[["bar","bars"],1e5,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<mmHg>":[["mmHg"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inHg>":[["inHg"],3386.3881472,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<torr>":[["torr"],133.322368,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<atm>":[["atm","ATM","atmosphere","atmospheres"],101325,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<psi>":[["psi"],6894.76,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<cmh2o>":[["cmH2O","cmh2o"],98.0638,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<inh2o>":[["inH2O","inh2o"],249.082052,"pressure",["<kilogram>"],["<meter>","<second>","<second>"]],"<poise>":[["P","poise"],.1,"viscosity",["<kilogram>"],["<meter>","<second>"]],"<stokes>":[["St","stokes"],1e-4,"viscosity",["<meter>","<meter>"],["<second>"]],"<mole>":[["mol","mole"],1,"substance",["<mole>"]],"<molar>":[["M","molar"],1e3,"concentration",["<mole>"],["<meter>","<meter>","<meter>"]],"<wtpercent>":[["wt%","wtpercent"],10,"concentration",["<kilogram>"],["<meter>","<meter>","<meter>"]],"<katal>":[["kat","katal","Katal"],1,"activity",["<mole>"],["<second>"]],"<unit>":[["U","enzUnit","unit"],1.6667e-15,"activity",["<mole>"],["<second>"]],"<farad>":[["F","farad","Farad"],1,"capacitance",["<second>","<second>","<second>","<second>","<ampere>","<ampere>"],["<meter>","<meter>","<kilogram>"]],"<coulomb>":[["C","coulomb","Coulomb"],1,"charge",["<ampere>","<second>"]],"<Ah>":[["Ah"],3600,"charge",["<ampere>","<second>"]],"<ampere>":[["A","Ampere","ampere","amp","amps"],1,"current",["<ampere>"]],"<siemens>":[["S","Siemens","siemens"],1,"conductance",["<second>","<second>","<second>","<ampere>","<ampere>"],["<kilogram>","<meter>","<meter>"]],"<henry>":[["H","Henry","henry"],1,"inductance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>","<ampere>"]],"<volt>":[["V","Volt","volt","volts"],1,"potential",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>"]],"<ohm>":[["Ohm","ohm","\u03a9","\u2126"],1,"resistance",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<second>","<ampere>","<ampere>"]],"<weber>":[["Wb","weber","webers"],1,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<tesla>":[["T","tesla","teslas"],1,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<gauss>":[["G","gauss"],1e-4,"magnetism",["<kilogram>"],["<second>","<second>","<ampere>"]],"<maxwell>":[["Mx","maxwell","maxwells"],1e-8,"magnetism",["<meter>","<meter>","<kilogram>"],["<second>","<second>","<ampere>"]],"<oersted>":[["Oe","oersted","oersteds"],250/Math.PI,"magnetism",["<ampere>"],["<meter>"]],"<joule>":[["J","joule","Joule","joules"],1,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<erg>":[["erg","ergs"],1e-7,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<btu>":[["BTU","btu","BTUs"],1055.056,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<calorie>":[["cal","calorie","calories"],4.184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Calorie>":[["Cal","Calorie","Calories"],4184,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<therm-US>":[["th","therm","therms","Therm","therm-US"],105480400,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<Wh>":[["Wh"],3600,"energy",["<meter>","<meter>","<kilogram>"],["<second>","<second>"]],"<newton>":[["N","Newton","newton"],1,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<dyne>":[["dyn","dyne"],1e-5,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<pound-force>":[["lbf","pound-force"],4.448222,"force",["<kilogram>","<meter>"],["<second>","<second>"]],"<hertz>":[["Hz","hertz","Hertz"],1,"frequency",["<1>"],["<second>"]],"<radian>":[["rad","radian","radians"],1,"angle",["<radian>"]],"<degree>":[["deg","degree","degrees"],Math.PI/180,"angle",["<radian>"]],"<gradian>":[["gon","grad","gradian","grads"],Math.PI/200,"angle",["<radian>"]],"<steradian>":[["sr","steradian","steradians"],1,"solid_angle",["<steradian>"]],"<rotation>":[["rotation"],2*Math.PI,"angle",["<radian>"]],"<rpm>":[["rpm"],2*Math.PI/60,"angular_velocity",["<radian>"],["<second>"]],"<byte>":[["B","byte","bytes"],1,"information",["<byte>"]],"<bit>":[["b","bit","bits"],.125,"information",["<byte>"]],"<Bps>":[["Bps"],1,"information_rate",["<byte>"],["<second>"]],"<bps>":[["bps"],.125,"information_rate",["<byte>"],["<second>"]],"<dollar>":[["USD","dollar"],1,"currency",["<dollar>"]],"<cents>":[["cents"],.01,"currency",["<dollar>"]],"<candela>":[["cd","candela"],1,"luminosity",["<candela>"]],"<lumen>":[["lm","lumen"],1,"luminous_power",["<candela>","<steradian>"]],"<lux>":[["lux"],1,"illuminance",["<candela>","<steradian>"],["<meter>","<meter>"]],"<watt>":[["W","watt","watts"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere>":[["VA","volt-ampere"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<volt-ampere-reactive>":[["var","Var","VAr","VAR","volt-ampere-reactive"],1,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<horsepower>":[["hp","horsepower"],745.699872,"power",["<kilogram>","<meter>","<meter>"],["<second>","<second>","<second>"]],"<gray>":[["Gy","gray","grays"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<roentgen>":[["R","roentgen"],.00933,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<sievert>":[["Sv","sievert","sieverts"],1,"radiation",["<meter>","<meter>"],["<second>","<second>"]],"<becquerel>":[["Bq","becquerel","becquerels"],1,"radiation",["<1>"],["<second>"]],"<curie>":[["Ci","curie","curies"],37e9,"radiation",["<1>"],["<second>"]],"<cpm>":[["cpm"],1/60,"rate",["<count>"],["<second>"]],"<dpm>":[["dpm"],1/60,"rate",["<count>"],["<second>"]],"<bpm>":[["bpm"],1/60,"rate",["<count>"],["<second>"]],"<dot>":[["dot","dots"],1,"resolution",["<each>"]],"<pixel>":[["pixel","px"],1,"resolution",["<each>"]],"<ppi>":[["ppi"],1,"resolution",["<pixel>"],["<inch>"]],"<dpi>":[["dpi"],1,"typography",["<dot>"],["<inch>"]],"<cell>":[["cells","cell"],1,"counting",["<each>"]],"<each>":[["each"],1,"counting",["<each>"]],"<count>":[["count"],1,"counting",["<each>"]],"<base-pair>":[["bp","base-pair"],1,"counting",["<each>"]],"<nucleotide>":[["nt","nucleotide"],1,"counting",["<each>"]],"<molecule>":[["molecule","molecules"],1,"counting",["<1>"]],"<dozen>":[["doz","dz","dozen"],12,"prefix_only",["<each>"]],"<percent>":[["%","percent"],.01,"prefix_only",["<1>"]],"<ppm>":[["ppm"],1e-6,"prefix_only",["<1>"]],"<ppt>":[["ppt"],1e-9,"prefix_only",["<1>"]],"<gross>":[["gr","gross"],144,"prefix_only",["<dozen>","<dozen>"]],"<decibel>":[["dB","decibel","decibels"],1,"logarithmic",["<decibel>"]]},d=["<meter>","<kilogram>","<second>","<mole>","<ampere>","<radian>","<kelvin>","<temp-K>","<byte>","<dollar>","<candela>","<each>","<steradian>","<decibel>"],p="<1>",m=[p];function g(t,e){var n=e[1],i=e[3]||[],a=e[4]||[];if(!r(n))throw new h(t+": Invalid unit definition. 'scalar' must be a number");i.forEach(function(e){if(void 0===f[e])throw new h(t+": Invalid unit definition. Unit "+e+" in 'numerator' is not recognized")}),a.forEach(function(e){if(void 0===f[e])throw new h(t+": Invalid unit definition. Unit "+e+" in 'denominator' is not recognized")})}var v={},y={},w={},b={},k={};for(var _ in f)if(f.hasOwnProperty(_)){var x=f[_];if("prefix"===x[2]){v[_]=x[1];for(var M=0;M<x[0].length;M++)y[x[0][M]]=_}else{g(_,x),w[_]={scalar:x[1],numerator:x[3],denominator:x[4]};for(var E=0;E<x[0].length;E++)b[x[0][E]]=_}k[_]=x[0][0]}var S=["length","time","temperature","mass","current","substance","luminosity","currency","information","angle"];function A(){if(this.signature)return this.signature;for(var t=function t(){if(!this.isBase())return t.call(this.toBase());for(var e,r,n=new Array(S.length),i=0;i<n.length;i++)n[i]=0;for(var a=0;a<this.numerator.length;a++)(e=f[this.numerator[a]])&&(r=S.indexOf(e[2]))>=0&&(n[r]=n[r]+1);for(var o=0;o<this.denominator.length;o++)(e=f[this.denominator[o]])&&(r=S.indexOf(e[2]))>=0&&(n[r]=n[r]-1);return n}.call(this),e=0;e<t.length;e++)t[e]*=Math.pow(20,e);return t.reduce(function(t,e){return t+e},0)}var P=new RegExp("^([+-]?\\s*(?:(?:\\d+(?:\\.\\d+)?)|(?:\\.\\d+))(?:[Ee][+-]?\\d+)?)?\\s*([^/]*)(?:/(.+))?$"),C=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?(-?[01234](?![a-zA-Z]))"),O=new RegExp("([^ \\*\\d]+?)(?:\\^|\\*{2})?([01234](?![a-zA-Z]))");function D(e){t(e)||(e=e.toString()),e=e.trim();var r=P.exec(e);if(!r)throw new h(e+": Quantity not recognized");var n=r[1];n?(n=n.replace(/\s/g,""),this.scalar=parseFloat(n)):this.scalar=1;for(var i,a,o,s=r[2],u=r[3];r=C.exec(s);){if(i=parseFloat(r[2]),isNaN(i))throw new h("Unit exponent is not a number");if(0===i&&!U.test(r[1]))throw new h("Unit not recognized");a=r[1]+" ",o="";for(var l=0;l<Math.abs(i);l++)o+=a;i>=0?s=s.replace(r[0],o):(u=u?u+o:o,s=s.replace(r[0],""))}for(;r=O.exec(u);){if(i=parseFloat(r[2]),isNaN(i))throw new h("Unit exponent is not a number");if(0===i&&!U.test(r[1]))throw new h("Unit not recognized");a=r[1]+" ",o="";for(var c=0;c<i;c++)o+=a;u=u.replace(r[0],o)}s&&(this.numerator=B(s.trim())),u&&(this.denominator=B(u.trim()))}var I=Object.keys(y).sort(function(t,e){return e.length-t.length}).join("|"),T=Object.keys(b).sort(function(t,e){return e.length-t.length}).join("|"),R="("+I+")??("+T+")(?:\\b|$)",U=new RegExp("^\\s*("+R+"[\\s\\*]*)+$"),j=new RegExp(R,"g"),L={};function B(t){var e=L[t];if(e)return e;var r,n=[];if(!U.test(t))throw new h("Unit not recognized");for(;r=j.exec(t);)n.push(r.slice(1));return n=(n=(n=n.map(function(t){return y[t[0]]?[y[t[0]],b[t[1]]]:[b[t[1]]]})).reduce(function(t,e){return t.concat(e)},[])).filter(function(t){return t}),L[t]=n,n}function N(t){return t instanceof F}function F(e,n){if(function(e,n){if(n){if(!r(e)||!t(n))throw new h("Only number accepted as initialization value when units are explicitly provided")}else if(!(t(e)||r(e)||N(e)||z(e)))throw new h("Only string, number or quantity accepted as single initialization value")}.apply(null,arguments),!N(this))return new F(e,n);if(this.scalar=null,this.baseScalar=null,this.signature=null,this._conversionCache={},this.numerator=m,this.denominator=m,z(e)?(this.scalar=e.scalar,this.numerator=e.numerator&&0!==e.numerator.length?e.numerator:m,this.denominator=e.denominator&&0!==e.denominator.length?e.denominator:m):n?(D.call(this,n),this.scalar=e):D.call(this,e),this.denominator.join("*").indexOf("temp")>=0)throw new h("Cannot divide with temperatures");if(this.numerator.join("*").indexOf("temp")>=0){if(this.numerator.length>1)throw new h("Cannot multiply by temperatures");if(!i(this.denominator,m))throw new h("Cannot divide with temperatures")}if(this.initValue=e,function(){if(this.baseScalar)return this.baseScalar;if(this.isBase())this.baseScalar=this.scalar,this.signature=A.call(this);else{var t=this.toBase();this.baseScalar=t.scalar,this.signature=t.signature}}.call(this),this.isTemperature()&&this.baseScalar<0)throw new h("Temperatures must not be less than absolute zero")}function z(t){return t&&"object"===typeof t&&t.hasOwnProperty("scalar")}F.prototype={constructor:F};var V={"-312078":"elastance","-312058":"resistance","-312038":"inductance","-152058":"potential","-152040":"magnetism","-152038":"magnetism","-7997":"specific_volume","-79":"snap","-59":"jolt","-39":"acceleration","-38":"radiation","-20":"frequency","-19":"speed","-18":"viscosity","-17":"volumetric_flow","-1":"wavenumber",0:"unitless",1:"length",2:"area",3:"volume",20:"time",400:"temperature",7941:"yank",7942:"power",7959:"pressure",7961:"force",7962:"energy",7979:"viscosity",7981:"momentum",7982:"angular_momentum",7997:"density",7998:"area_density",8000:"mass",152020:"radiation_exposure",159999:"magnetism",160000:"current",160020:"charge",312058:"conductance",312078:"capacitance",3199980:"activity",3199997:"molar_concentration",3200000:"substance",63999998:"illuminance",64000000:"luminous_power",1280000000:"currency",25599999980:"information_rate",25600000000:"information",511999999980:"angular_velocity",512000000000:"angle"};function Y(t,e){var r=e.to(X(t.units()));return F({scalar:t.scalar+r.scalar,numerator:t.numerator,denominator:t.denominator})}function X(t){if("tempK"===t)return"degK";if("tempC"===t)return"degC";if("tempF"===t)return"degF";if("tempR"===t)return"degR";throw new h("Unknown type for temp conversion from: "+t)}function q(t,e){var r,n=function(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar;else if("tempF"===r)e=5*t.scalar/9;else{if("tempR"!==r)throw new h("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return F({scalar:e,numerator:["<kelvin>"],denominator:m})}(t),i=e.units();if("degK"===i)r=n.scalar;else if("degC"===i)r=n.scalar;else if("degF"===i)r=9*n.scalar/5;else{if("degR"!==i)throw new h("Unknown type for degree conversion to: "+i);r=9*n.scalar/5}return F({scalar:r,numerator:e.numerator,denominator:e.denominator})}F.prototype.kind=function(){return V[this.signature.toString()]},a(F.prototype,{isDegrees:function(){return(null===this.signature||400===this.signature)&&1===this.numerator.length&&i(this.denominator,m)&&(this.numerator[0].match(/<temp-[CFRK]>/)||this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/))},isTemperature:function(){return this.isDegrees()&&this.numerator[0].match(/<temp-[CFRK]>/)}}),a(F.prototype,{to:function(e){var r,n;if(void 0===e||null===e)return this;if(!t(e))return this.to(e.units());if(r=this._conversionCache[e])return r;if((n=F(e)).units()===this.units())return this;if(this.isCompatible(n))if(n.isTemperature())n=function(t,e){var r,n=e.units();if("tempK"===n)r=t.baseScalar;else if("tempC"===n)r=t.baseScalar-273.15;else if("tempF"===n)r=9*t.baseScalar/5-459.67;else{if("tempR"!==n)throw new h("Unknown type for temp conversion to: "+n);r=9*t.baseScalar/5}return F({scalar:r,numerator:e.numerator,denominator:e.denominator})}(this,n);else if(n.isDegrees())n=q(this,n);else{var i=s(this.baseScalar,n.baseScalar);n=F({scalar:i,numerator:n.numerator,denominator:n.denominator})}else this.isInverse(n)?n=this.inverse().to(e):c(this.units(),n.units());return this._conversionCache[e]=n,n},toBase:function(){if(this.isBase())return this;if(this.isTemperature())return function(t){var e,r=t.units();if(r.match(/(deg)[CFRK]/))e=t.baseScalar;else if("tempK"===r)e=t.scalar;else if("tempC"===r)e=t.scalar+273.15;else if("tempF"===r)e=5*(t.scalar+459.67)/9;else{if("tempR"!==r)throw new h("Unknown type for temp conversion from: "+r);e=5*t.scalar/9}return F({scalar:e,numerator:["<temp-K>"],denominator:m})}(this);var t=H[this.units()];return t||(t=function(t,e){for(var r,n=[],i=[],a=1,s=0;s<t.length;s++)r=t[s],v[r]?a=o(a,v[r]):w[r]&&(a*=w[r].scalar,w[r].numerator&&n.push(w[r].numerator),w[r].denominator&&i.push(w[r].denominator));for(var u=0;u<e.length;u++)r=e[u],v[r]?a/=v[r]:w[r]&&(a/=w[r].scalar,w[r].numerator&&i.push(w[r].numerator),w[r].denominator&&n.push(w[r].denominator));return n=n.reduce(function(t,e){return t.concat(e)},[]),i=i.reduce(function(t,e){return t.concat(e)},[]),F({scalar:a,numerator:n,denominator:i})}(this.numerator,this.denominator),H[this.units()]=t),t.mul(this.scalar)},toFloat:function(){if(this.isUnitless())return this.scalar;throw new h("Can't convert to Float unless unitless.  Use Unit#scalar")},toPrec:function(e){if(t(e)&&(e=F(e)),r(e)&&(e=F(e+" "+this.units())),this.isUnitless()?e.isUnitless()||c(this.units(),e.units()):e=e.to(this.units()),0===e.scalar)throw new h("Divide by zero");var n=o(Math.round(this.scalar/e.scalar),e.scalar);return F(n+this.units())}});var H={};function G(t,e,r,n){function i(t){return t!==p}t=t.filter(i),r=r.filter(i),e=e.filter(i),n=n.filter(i);var a={};function o(t,e){for(var r,n,i,o=0;o<t.length;o++)if(v[t[o]]?(r=t[o+1],n=t[o],i=v[n],o++):(r=t[o],n=null,i=1),r&&r!==p)if(a[r]){a[r][0]+=e;var u=a[r][2]?v[a[r][2]]:1;a[r][1===e?3:4]*=s(i,u)}else a[r]=[e,r,n,1,1]}o(t,1),o(e,-1),o(r,1),o(n,-1);var u=[],l=[],h=1;for(var c in a)if(a.hasOwnProperty(c)){var f,d=a[c];if(d[0]>0)for(f=0;f<d[0];f++)u.push(null===d[2]?d[1]:[d[2],d[1]]);else if(d[0]<0)for(f=0;f<-d[0];f++)l.push(null===d[2]?d[1]:[d[2],d[1]]);h*=s(d[3],d[4])}return 0===u.length&&(u=m),0===l.length&&(l=m),u=u.reduce(function(t,e){return t.concat(e)},[]),l=l.reduce(function(t,e){return t.concat(e)},[]),[u,l,h]}function W(){}F.parse=function(e){if(!t(e))throw new h("Argument should be a string");try{return this(e)}catch(r){return null}},F.getUnits=function(t){var e,r=[],n=Object.keys(f);if("undefined"===typeof t)for(e=0;e<n.length;e++)-1===["","prefix"].indexOf(f[n[e]][2])&&r.push(n[e].substr(1,n[e].length-2));else{if(-1===this.getKinds().indexOf(t))throw new h("Kind not recognized");for(e=0;e<n.length;e++)f[n[e]][2]===t&&r.push(n[e].substr(1,n[e].length-2))}return r.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0})},F.getAliases=function(t){if(!b[t])throw new h("Unit not recognized");return f[b[t]][0]},F.mulSafe=o,F.divSafe=s,F.getKinds=function(){return function(t){var e={};return t.filter(function(t){return!e.hasOwnProperty(t)&&(e[t]=!0)})}(Object.keys(V).map(function(t){return V[t]}))},F.swiftConverter=function(t,e){var r,i=F(t),a=F(e);return i.eq(a)?n:(r=i.isTemperature()?function(t){return i.mul(t).to(a).scalar}:function(t){return t*i.baseScalar/a.baseScalar},function(t){var e,n,i;if(Array.isArray(t)){for(n=t.length,i=[],e=0;e<n;e++)i.push(r(t[e]));return i}return r(t)})},F.Error=h,a(F.prototype,{add:function(e){if(t(e)&&(e=F(e)),this.isCompatible(e)||c(this.units(),e.units()),this.isTemperature()&&e.isTemperature())throw new h("Cannot add two temperatures");return this.isTemperature()?Y(this,e):e.isTemperature()?Y(e,this):F({scalar:this.scalar+e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},sub:function(e){if(t(e)&&(e=F(e)),this.isCompatible(e)||c(this.units(),e.units()),this.isTemperature()&&e.isTemperature())return function(t,e){var r=t.units(),n=e.to(r),i=F(X(r));return F({scalar:t.scalar-n.scalar,numerator:i.numerator,denominator:i.denominator})}(this,e);if(this.isTemperature())return function(t,e){var r=e.to(X(t.units()));return F({scalar:t.scalar-r.scalar,numerator:t.numerator,denominator:t.denominator})}(this,e);if(e.isTemperature())throw new h("Cannot subtract a temperature from a differential degree unit");return F({scalar:this.scalar-e.to(this).scalar,numerator:this.numerator,denominator:this.denominator})},mul:function(e){if(r(e))return F({scalar:o(this.scalar,e),numerator:this.numerator,denominator:this.denominator});if(t(e)&&(e=F(e)),(this.isTemperature()||e.isTemperature())&&!this.isUnitless()&&!e.isUnitless())throw new h("Cannot multiply by temperatures");var n=e;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=G(this.numerator,this.denominator,n.numerator,n.denominator);return F({scalar:o(this.scalar,n.scalar,i[2]),numerator:i[0],denominator:i[1]})},div:function(e){if(r(e)){if(0===e)throw new h("Divide by zero");return F({scalar:this.scalar/e,numerator:this.numerator,denominator:this.denominator})}if(t(e)&&(e=F(e)),0===e.scalar)throw new h("Divide by zero");if(e.isTemperature())throw new h("Cannot divide with temperatures");if(this.isTemperature()&&!e.isUnitless())throw new h("Cannot divide with temperatures");var n=e;this.isCompatible(n)&&400!==this.signature&&(n=n.to(this));var i=G(this.numerator,this.denominator,n.denominator,n.numerator);return F({scalar:o(this.scalar,i[2])/n.scalar,numerator:i[0],denominator:i[1]})},inverse:function(){if(this.isTemperature())throw new h("Cannot divide with temperatures");if(0===this.scalar)throw new h("Divide by zero");return F({scalar:1/this.scalar,numerator:this.denominator,denominator:this.numerator})}}),a(F.prototype,{eq:function(t){return 0===this.compareTo(t)},lt:function(t){return-1===this.compareTo(t)},lte:function(t){return this.eq(t)||this.lt(t)},gt:function(t){return 1===this.compareTo(t)},gte:function(t){return this.eq(t)||this.gt(t)},compareTo:function(e){return t(e)?this.compareTo(F(e)):(this.isCompatible(e)||c(this.units(),e.units()),this.baseScalar<e.baseScalar?-1:this.baseScalar===e.baseScalar?0:this.baseScalar>e.baseScalar?1:void 0)},same:function(t){return this.scalar===t.scalar&&this.units()===t.units()}}),a(F.prototype,{isUnitless:function(){return[this.numerator,this.denominator].every(function(t){return i(t,m)})},isCompatible:function(e){return t(e)?this.isCompatible(F(e)):!!N(e)&&void 0!==e.signature&&this.signature===e.signature},isInverse:function(t){return this.inverse().isCompatible(t)},isBase:function(){return void 0!==this._isBase?this._isBase:this.isDegrees()&&this.numerator[0].match(/<(kelvin|temp-K)>/)?(this._isBase=!0,this._isBase):(this.numerator.concat(this.denominator).forEach(function(t){t!==p&&-1===d.indexOf(t)&&(this._isBase=!1)},this),!1===this._isBase?this._isBase:(this._isBase=!0,this._isBase))}}),W.prototype.get=function(t){return arguments.length>1&&(t=Array.apply(null,arguments)),t.reduce(function(e,r,n){if(e){var i=e[r];return n===t.length-1?i?i.data:void 0:i}},this)},W.prototype.set=function(t,e){return arguments.length>2&&(t=Array.prototype.slice.call(arguments,0,-1),e=arguments[arguments.length-1]),t.reduce(function(r,n,i){var a=r[n];return void 0===a&&(a=r[n]={}),i===t.length-1?(a.data=e,e):a},this)},F.formatter=function(t,e){return(t+" "+e).trim()},a(F.prototype,{units:function(){if(void 0!==this._units)return this._units;var t=i(this.numerator,m),e=i(this.denominator,m);if(t&&e)return this._units="",this._units;var r=Z(this.numerator),n=Z(this.denominator);return this._units=r+(e?"":"/"+n),this._units},toString:function(e,n){var i;if(r(e))i=this.units(),n=e;else if(t(e))i=e;else if(N(e))return this.toPrec(e).toString(n);var a=this.to(i),o=void 0!==n?u(a.scalar,n):a.scalar;return a=(o+" "+a.units()).trim()},format:function(t,e){1===arguments.length&&"function"===typeof t&&(e=t,t=void 0),e=e||F.formatter;var r=this.to(t);return e.call(this,r.scalar,r.units())}});var K=new W;function Z(t){var e=K.get(t);if(e)return e;var r=i(t,m);return e=r?"1":function(t){return t.reduce(function(t,e){var r=t[e];return r||t.push(r=t[e]=[e,0]),r[1]++,t},[]).map(function(t){return t[0]+(t[1]>1?t[1]:"")})}(function(t){for(var e,r,n=[],i=0;i<t.length;i++)e=t[i],r=t[i+1],v[e]?(n.push(k[e]+k[r]),i++):n.push(k[e]);return n}(t)).join("*"),K.set(t,e),e}return F.version="1.7.6",F}()},function(t,e,r){"use strict";var n=r(9),i=r(10),a=function(){function t(){n(this,t),this.nodes=new Map}return i(t,[{key:"add",value:function(t){var e=this.nodes.get(t);return e||(e=new o(t),this.nodes.set(t,e)),e}},{key:"union",value:function(t,e){var r=this.find(t),n=this.find(e);r!==n&&(r.rank<n.rank?r.parent=n:r.rank>n.rank?n.parent=r:(n.parent=r,r.rank++))}},{key:"find",value:function(t){for(var e=t;null!==e.parent;)e=e.parent;for(var r=t;null!==r.parent;){var n=r;r=r.parent,n.parent=e}return e}},{key:"connected",value:function(t,e){return this.find(t)===this.find(e)}}]),t}();function o(t){this.value=t,this.parent=null,this.rank=0}t.exports=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!==typeof window?r(134):r(135);e.Tesseract=n},function(t,e,r){"use strict";var n={};r.r(n),r.d(n,"GREY",function(){return un}),r.d(n,"RGB",function(){return ln}),r.d(n,"HSL",function(){return hn}),r.d(n,"HSV",function(){return cn}),r.d(n,"CMYK",function(){return fn});var i={};r.r(i),r.d(i,"tagsById",function(){return Sn}),r.d(i,"tagsByName",function(){return An});var a={};r.r(a),r.d(a,"tagsById",function(){return Cn}),r.d(a,"tagsByName",function(){return On});var o={};r.r(o),r.d(o,"tagsById",function(){return In}),r.d(o,"tagsByName",function(){return Tn});var s=r(0),u=r(1),l={getBit:function(t){return this.data[h(t)]&1<<c(t)?1:0},setBit:function(t){this.data[h(t)]|=1<<c(t)},clearBit:function(t){this.data[h(t)]&=~(1<<c(t))},toggleBit:function(t){this.data[h(t)]^=1<<c(t)},getBitXY:function(t,e){return t>=this.width||e>=this.height?0:this.getBit(e*this.width+t)},setBitXY:function(t,e){this.setBit(e*this.width+t)},clearBitXY:function(t,e){this.clearBit(e*this.width+t)},toggleBitXY:function(t,e){this.toggleBit(e*this.width+t)}};function h(t){return t>>3}function c(t){return 7-(7&t)}var f=r(28),d=r(23),p=r(24);var m=r(29);function g(t,e,r){return(g=Object(m.a)()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Object(p.a)(i,r.prototype),i}).apply(null,arguments)}function v(t){var e="function"===typeof Map?new Map:void 0;return(v=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return g(t,arguments,Object(d.a)(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(p.a)(n,t)})(t)}var y=r(20),w=r(3);function b(t,e){b=function(t,e){return new a(t,void 0,e)};var r=v(RegExp),n=RegExp.prototype,i=new WeakMap;function a(t,e,n){var a=r.call(this,t,e);return i.set(a,n||i.get(t)),a}function o(t,e){var r=i.get(e);return Object.keys(r).reduce(function(e,n){return e[n]=t[r[n]],e},Object.create(null))}return Object(w.a)(a,r),a.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=o(e,this)),e},a.prototype[Symbol.replace]=function(t,e){if("string"===typeof e){var r=i.get(this);return n[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,function(t,e){return"$"+r[e]}))}if("function"===typeof e){var a=this;return n[Symbol.replace].call(this,t,function(){var t=[];return t.push.apply(t,arguments),"object"!==Object(f.a)(t[t.length-1])&&t.push(o(t,a)),e.apply(this,t)})}return n[Symbol.replace].call(this,t,e)},b.apply(this,arguments)}function k(t,e){t=t||[],"string"===typeof(e=e||{})&&(e={type:e});try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)r.append(t[n]);return r.getBlob(e.type)}}function _(t,e,r){return"function"===typeof t.toBlob?new Promise(function(n){t.toBlob(n,e,r)}):Promise.resolve(function(t){var e=t.match(/data:([^;]+)/)[1],r=t.replace(/^[^,]+,/,"");return k([x(atob(r))],{type:e})}(t.toDataURL(e,r)))}function x(t){for(var e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r),i=-1;++i<e;)n[i]=t.charCodeAt(i);return r}var M=r(35),E=r(5),S=(r(88),new TextDecoder("utf-8"));var A=new TextEncoder;var P=8192,C=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,t);var n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);var i=r.offset?r.offset>>>0:0,a=e.byteLength-i,o=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}return Object(u.a)(t,[{key:"available",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}},{key:"seek",value:function(t){return this.offset=t,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){var e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigInt64",value:function(){var t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigUint64",value:function(){var t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",r=0;r<t;r++)e+=this.readChar();return e}},{key:"readUtf8",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=this.readBytes(e),S.decode(t)}},{key:"writeBoolean",value:function(t){return this.writeUint8(t?255:0),this}},{key:"writeInt8",value:function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(t){return this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(t){return this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}},{key:"writeUtf8",value:function(t){return this.writeBytes(function(t){return A.encode(t)}(t))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),t}();function O(t){for(var e=t.length;--e>=0;)t[e]=0}var D=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),I=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),T=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U=new Array(576);O(U);var j=new Array(60);O(j);var L=new Array(512);O(L);var B=new Array(256);O(B);var N=new Array(29);O(N);var F,z,V,Y=new Array(30);function X(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function q(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}O(Y);var H=function(t){return t<256?L[t]:L[256+(t>>>7)]},G=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},W=function(t,e,r){t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,G(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},K=function(t,e,r){W(t,r[2*e],r[2*e+1])},Z=function(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Q=function(t,e,r){var n,i,a=new Array(16),o=0;for(n=1;n<=15;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=Z(a[s]++,s))}},$=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},J=function(t){t.bi_valid>8?G(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},tt=function(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},et=function(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&tt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!tt(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},rt=function(t,e,r){var n,i,a,o,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?K(t,i,e):(a=B[i],K(t,a+256+1,e),0!==(o=D[a])&&(i-=N[a],W(t,i,o)),a=H(--n),K(t,a,r),0!==(o=I[a])&&(n-=Y[a],W(t,n,o)))}while(s<t.last_lit);K(t,256,e)},nt=function(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)et(t,a,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],et(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,et(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,a,o,s,u=e.dyn_tree,l=e.max_code,h=e.stat_desc.static_tree,c=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<573;r++)(a=u[2*u[2*(n=t.heap[r])+1]+1]+1)>p&&(a=p,m++),u[2*n+1]=a,n>l||(t.bl_count[a]++,o=0,n>=d&&(o=f[n-d]),s=u[2*n],t.opt_len+=s*(a+o),c&&(t.static_len+=s*(h[2*n+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(a=p;0!==a;a--)for(n=t.bl_count[a];0!==n;)(i=t.heap[--r])>l||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(t,e),Q(a,l,t.bl_count)},it=function(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<u&&i===o||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))},at=function(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<u&&i===o)){if(s<l)do{K(t,i,t.bl_tree)}while(0!==--s);else 0!==i?(i!==a&&(K(t,i,t.bl_tree),s--),K(t,16,t.bl_tree),W(t,s-3,2)):s<=10?(K(t,17,t.bl_tree),W(t,s-3,3)):(K(t,18,t.bl_tree),W(t,s-11,7));s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}},ot=!1,st=function(t,e,r,n){W(t,0+(n?1:0),3),function(t,e,r,n){J(t),n&&(G(t,r),G(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r}(t,e,r,!0)},ut={_tr_init:function(t){ot||(function(){var t,e,r,n,i,a=new Array(16);for(r=0,n=0;n<28;n++)for(N[n]=r,t=0;t<1<<D[n];t++)B[r++]=n;for(B[r-1]=n,i=0,n=0;n<16;n++)for(Y[n]=i,t=0;t<1<<I[n];t++)L[i++]=n;for(i>>=7;n<30;n++)for(Y[n]=i<<7,t=0;t<1<<I[n]-7;t++)L[256+i++]=n;for(e=0;e<=15;e++)a[e]=0;for(t=0;t<=143;)U[2*t+1]=8,t++,a[8]++;for(;t<=255;)U[2*t+1]=9,t++,a[9]++;for(;t<=279;)U[2*t+1]=7,t++,a[7]++;for(;t<=287;)U[2*t+1]=8,t++,a[8]++;for(Q(U,287,a),t=0;t<30;t++)j[2*t+1]=5,j[2*t]=Z(t,5);F=new X(U,D,257,286,15),z=new X(j,I,0,30,15),V=new X(new Array(0),T,0,19,7)}(),ot=!0),t.l_desc=new q(t.dyn_ltree,F),t.d_desc=new q(t.dyn_dtree,z),t.bl_desc=new q(t.bl_tree,V),t.bi_buf=0,t.bi_valid=0,$(t)},_tr_stored_block:st,_tr_flush_block:function(t,e,r,n){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),nt(t,t.l_desc),nt(t,t.d_desc),o=function(t){var e;for(it(t,t.dyn_ltree,t.l_desc.max_code),it(t,t.dyn_dtree,t.d_desc.max_code),nt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*R[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==e?st(t,e,r,n):4===t.strategy||a===i?(W(t,2+(n?1:0),3),rt(t,U,j)):(W(t,4+(n?1:0),3),function(t,e,r,n){var i;for(W(t,e-257,5),W(t,r-1,5),W(t,n-4,4),i=0;i<n;i++)W(t,t.bl_tree[2*R[i]+1],3);at(t,t.dyn_ltree,e-1),at(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),rt(t,t.dyn_ltree,t.dyn_dtree)),$(t),n&&J(t)},_tr_tally:function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(B[r]+256+1)]++,t.dyn_dtree[2*H(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){W(t,2,3),K(t,256,U),function(t){16===t.bi_valid?(G(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},lt=function(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+e[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0},ht=new Uint32Array(function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}()),ct=function(t,e,r,n){var i=ht,a=n+r;t^=-1;for(var o=n;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t},ft={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},pt=ut._tr_init,mt=ut._tr_stored_block,gt=ut._tr_flush_block,vt=ut._tr_tally,yt=ut._tr_align,wt=dt.Z_NO_FLUSH,bt=dt.Z_PARTIAL_FLUSH,kt=dt.Z_FULL_FLUSH,_t=dt.Z_FINISH,xt=dt.Z_BLOCK,Mt=dt.Z_OK,Et=dt.Z_STREAM_END,St=dt.Z_STREAM_ERROR,At=dt.Z_DATA_ERROR,Pt=dt.Z_BUF_ERROR,Ct=dt.Z_DEFAULT_COMPRESSION,Ot=dt.Z_FILTERED,Dt=dt.Z_HUFFMAN_ONLY,It=dt.Z_RLE,Tt=dt.Z_FIXED,Rt=dt.Z_DEFAULT_STRATEGY,Ut=dt.Z_UNKNOWN,jt=dt.Z_DEFLATED,Lt=286,Bt=30,Nt=19,Ft=2*Lt+1,zt=15,Vt=function(t,e){return t.msg=ft[e],e},Yt=function(t){return(t<<1)-(t>4?9:0)},Xt=function(t){for(var e=t.length;--e>=0;)t[e]=0},qt=function(t,e,r){return(e<<t.hash_shift^r)&t.hash_mask},Ht=function(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Gt=function(t,e){gt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ht(t.strm)},Wt=function(t,e){t.pending_buf[t.pending++]=e},Kt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Zt=function(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=lt(t.adler,e,i,r):2===t.state.wrap&&(t.adler=ct(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Qt=function(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,l=t.window,h=t.w_mask,c=t.prev,f=t.strstart+258,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(r=e)+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<f);if(n=258-(f-a),a=f-258,n>o){if(t.match_start=e,o=n,n>=s)break;d=l[a+o-1],p=l[a+o]}}}while((e=c[e&h])>u&&0!==--i);return o<=t.lookahead?o:t.lookahead},$t=function(t){var e,r,n,i,a,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-262)){t.window.set(t.window.subarray(o,o+o),0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=o?n-o:0}while(--r);e=r=o;do{n=t.prev[--e],t.prev[e]=n>=o?n-o:0}while(--r);i+=o}if(0===t.strm.avail_in)break;if(r=Zt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=qt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=qt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},Jt=function(t,e){for(var r,n;;){if(t.lookahead<262){if($t(t),t.lookahead<262&&e===wt)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-262&&(t.match_length=Qt(t,r)),t.match_length>=3)if(n=vt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=qt(t,t.ins_h,t.window[t.strstart+1]);else n=vt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===_t?(Gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Gt(t,!1),0===t.strm.avail_out)?1:2},te=function(t,e){for(var r,n,i;;){if(t.lookahead<262){if($t(t),t.lookahead<262&&e===wt)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-262&&(t.match_length=Qt(t,r),t.match_length<=5&&(t.strategy===Ot||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=vt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=qt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Gt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=vt(t,0,t.window[t.strstart-1]))&&Gt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=vt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===_t?(Gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Gt(t,!1),0===t.strm.avail_out)?1:2};function ee(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}var re=[new ee(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if($t(t),0===t.lookahead&&e===wt)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Gt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(Gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_t?(Gt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Gt(t,!1),t.strm.avail_out),1)}),new ee(4,4,8,4,Jt),new ee(4,5,16,8,Jt),new ee(4,6,32,32,Jt),new ee(4,4,16,16,te),new ee(8,16,32,32,te),new ee(8,16,128,128,te),new ee(8,32,128,256,te),new ee(32,128,258,1024,te),new ee(32,258,258,4096,te)];function ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Ft),this.dyn_dtree=new Uint16Array(2*(2*Bt+1)),this.bl_tree=new Uint16Array(2*(2*Nt+1)),Xt(this.dyn_ltree),Xt(this.dyn_dtree),Xt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(zt+1),this.heap=new Uint16Array(2*Lt+1),Xt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Lt+1),Xt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var ie=function(t){if(!t||!t.state)return Vt(t,St);t.total_in=t.total_out=0,t.data_type=Ut;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=wt,pt(e),Mt},ae=function(t){var e,r=ie(t);return r===Mt&&((e=t.state).window_size=2*e.w_size,Xt(e.head),e.max_lazy_match=re[e.level].max_lazy,e.good_match=re[e.level].good_length,e.nice_match=re[e.level].nice_length,e.max_chain_length=re[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),r},oe=function(t,e,r,n,i,a){if(!t)return St;var o=1;if(e===Ct&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==jt||n<8||n>15||e<0||e>9||a<0||a>Tt)return Vt(t,St);8===n&&(n=9);var s=new ne;return t.state=s,s.strm=t,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=r,ae(t)},se={deflateInit:function(t,e){return oe(t,e,jt,15,8,Rt)},deflateInit2:oe,deflateReset:ae,deflateResetKeep:ie,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?St:(t.state.gzhead=e,Mt):St},deflate:function(t,e){var r,n;if(!t||!t.state||e>xt||e<0)return t?Vt(t,St):St;var i=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==_t)return Vt(t,0===t.avail_out?Pt:St);i.strm=t;var a=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,Wt(i,31),Wt(i,139),Wt(i,8),i.gzhead?(Wt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Wt(i,255&i.gzhead.time),Wt(i,i.gzhead.time>>8&255),Wt(i,i.gzhead.time>>16&255),Wt(i,i.gzhead.time>>24&255),Wt(i,9===i.level?2:i.strategy>=Dt||i.level<2?4:0),Wt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Wt(i,255&i.gzhead.extra.length),Wt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=ct(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Wt(i,0),Wt(i,0),Wt(i,0),Wt(i,0),Wt(i,0),Wt(i,9===i.level?2:i.strategy>=Dt||i.level<2?4:0),Wt(i,3),i.status=113);else{var o=jt+(i.w_bits-8<<4)<<8;o|=(i.strategy>=Dt||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(o|=32),o+=31-o%31,i.status=113,Kt(i,o),0!==i.strstart&&(Kt(i,t.adler>>>16),Kt(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),Ht(t),r=i.pending,i.pending!==i.pending_buf_size));)Wt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),Ht(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Wt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),Ht(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Wt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=ct(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ht(t),i.pending+2<=i.pending_buf_size&&(Wt(i,255&t.adler),Wt(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(Ht(t),0===t.avail_out)return i.last_flush=-1,Mt}else if(0===t.avail_in&&Yt(e)<=Yt(a)&&e!==_t)return Vt(t,Pt);if(666===i.status&&0!==t.avail_in)return Vt(t,Pt);if(0!==t.avail_in||0!==i.lookahead||e!==wt&&666!==i.status){var s=i.strategy===Dt?function(t,e){for(var r;;){if(0===t.lookahead&&($t(t),0===t.lookahead)){if(e===wt)return 1;break}if(t.match_length=0,r=vt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_t?(Gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Gt(t,!1),0===t.strm.avail_out)?1:2}(i,e):i.strategy===It?function(t,e){for(var r,n,i,a,o=t.window;;){if(t.lookahead<=258){if($t(t),t.lookahead<=258&&e===wt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=o[i=t.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){a=t.strstart+258;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=258-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=vt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=vt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Gt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===_t?(Gt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Gt(t,!1),0===t.strm.avail_out)?1:2}(i,e):re[i.level].func(i,e);if(3!==s&&4!==s||(i.status=666),1===s||3===s)return 0===t.avail_out&&(i.last_flush=-1),Mt;if(2===s&&(e===bt?yt(i):e!==xt&&(mt(i,0,0,!1),e===kt&&(Xt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ht(t),0===t.avail_out))return i.last_flush=-1,Mt}return e!==_t?Mt:i.wrap<=0?Et:(2===i.wrap?(Wt(i,255&t.adler),Wt(i,t.adler>>8&255),Wt(i,t.adler>>16&255),Wt(i,t.adler>>24&255),Wt(i,255&t.total_in),Wt(i,t.total_in>>8&255),Wt(i,t.total_in>>16&255),Wt(i,t.total_in>>24&255)):(Kt(i,t.adler>>>16),Kt(i,65535&t.adler)),Ht(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Mt:Et)},deflateEnd:function(t){if(!t||!t.state)return St;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?Vt(t,St):(t.state=null,113===e?Vt(t,At):Mt)},deflateSetDictionary:function(t,e){var r=e.length;if(!t||!t.state)return St;var n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return St;if(1===i&&(t.adler=lt(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Xt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var a=new Uint8Array(n.w_size);a.set(e.subarray(r-n.w_size,r),0),e=a,r=n.w_size}var o=t.avail_in,s=t.next_in,u=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,$t(n);n.lookahead>=3;){var l=n.strstart,h=n.lookahead-2;do{n.ins_h=qt(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--h);n.strstart=l,n.lookahead=2,$t(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=u,t.avail_in=o,n.wrap=i,Mt},deflateInfo:"pako deflate (from Nodeca project)"},ue=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},le={assign:function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var n in r)ue(r,n)&&(t[n]=r[n])}}return t},flattenChunks:function(t){for(var e=0,r=0,n=t.length;r<n;r++)e+=t[r].length;for(var i=new Uint8Array(e),a=0,o=0,s=t.length;a<s;a++){var u=t[a];i.set(u,o),o+=u.length}return i}},he=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(yu){he=!1}for(var ce=new Uint8Array(256),fe=0;fe<256;fe++)ce[fe]=fe>=252?6:fe>=248?5:fe>=240?4:fe>=224?3:fe>=192?2:1;ce[254]=ce[254]=1;var de={string2buf:function(t){if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296===(64512&(r=t.charCodeAt(i)))&&i+1<o&&56320===(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)55296===(64512&(r=t.charCodeAt(i)))&&i+1<o&&56320===(64512&(n=t.charCodeAt(i+1)))&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},buf2string:function(t,e){var r,n,i=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var a=new Array(2*i);for(n=0,r=0;r<i;){var o=t[r++];if(o<128)a[n++]=o;else{var s=ce[o];if(s>4)a[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<i;)o=o<<6|63&t[r++],s--;s>1?a[n++]=65533:o<65536?a[n++]=o:(o-=65536,a[n++]=55296|o>>10&1023,a[n++]=56320|1023&o)}}}return function(t,e){if(e<65534&&t.subarray&&he)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}(a,n)},utf8border:function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var r=e-1;r>=0&&128===(192&t[r]);)r--;return r<0?e:0===r?e:r+ce[t[r]]>e?r:e}};var pe=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},me=Object.prototype.toString,ge=dt.Z_NO_FLUSH,ve=dt.Z_SYNC_FLUSH,ye=dt.Z_FULL_FLUSH,we=dt.Z_FINISH,be=dt.Z_OK,ke=dt.Z_STREAM_END,_e=dt.Z_DEFAULT_COMPRESSION,xe=dt.Z_DEFAULT_STRATEGY,Me=dt.Z_DEFLATED;function Ee(t){this.options=le.assign({level:_e,method:Me,chunkSize:16384,windowBits:15,memLevel:8,strategy:xe},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pe,this.strm.avail_out=0;var r=se.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==be)throw new Error(ft[r]);if(e.header&&se.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"===typeof e.dictionary?de.string2buf(e.dictionary):"[object ArrayBuffer]"===me.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=se.deflateSetDictionary(this.strm,n))!==be)throw new Error(ft[r]);this._dict_set=!0}}function Se(t,e){var r=new Ee(e);if(r.push(t,!0),r.err)throw r.msg||ft[r.err];return r.result}Ee.prototype.push=function(t,e){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?we:ge,"string"===typeof t?i.input=de.string2buf(t):"[object ArrayBuffer]"===me.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(a),i.next_out=0,i.avail_out=a),(n===ve||n===ye)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if((r=se.deflate(i,n))===ke)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=se.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===be;if(0!==i.avail_out){if(n>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},Ee.prototype.onData=function(t){this.chunks.push(t)},Ee.prototype.onEnd=function(t){t===be&&(this.result=le.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ae={Deflate:Ee,deflate:Se,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Se(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Se(t,e)},constants:dt},Pe=function(t,e){var r,n,i,a,o,s,u,l,h,c,f,d,p,m,g,v,y,w,b,k,_,x,M,E,S=t.state;r=t.next_in,M=t.input,n=r+(t.avail_in-5),i=t.next_out,E=t.output,a=i-(e-t.avail_out),o=i+(t.avail_out-257),s=S.dmax,u=S.wsize,l=S.whave,h=S.wnext,c=S.window,f=S.hold,d=S.bits,p=S.lencode,m=S.distcode,g=(1<<S.lenbits)-1,v=(1<<S.distbits)-1;t:do{d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),y=p[f&g];e:for(;;){if(f>>>=w=y>>>24,d-=w,0===(w=y>>>16&255))E[i++]=65535&y;else{if(!(16&w)){if(0===(64&w)){y=p[(65535&y)+(f&(1<<w)-1)];continue e}if(32&w){S.mode=12;break t}t.msg="invalid literal/length code",S.mode=30;break t}b=65535&y,(w&=15)&&(d<w&&(f+=M[r++]<<d,d+=8),b+=f&(1<<w)-1,f>>>=w,d-=w),d<15&&(f+=M[r++]<<d,d+=8,f+=M[r++]<<d,d+=8),y=m[f&v];r:for(;;){if(f>>>=w=y>>>24,d-=w,!(16&(w=y>>>16&255))){if(0===(64&w)){y=m[(65535&y)+(f&(1<<w)-1)];continue r}t.msg="invalid distance code",S.mode=30;break t}if(k=65535&y,d<(w&=15)&&(f+=M[r++]<<d,(d+=8)<w&&(f+=M[r++]<<d,d+=8)),(k+=f&(1<<w)-1)>s){t.msg="invalid distance too far back",S.mode=30;break t}if(f>>>=w,d-=w,k>(w=i-a)){if((w=k-w)>l&&S.sane){t.msg="invalid distance too far back",S.mode=30;break t}if(_=0,x=c,0===h){if(_+=u-w,w<b){b-=w;do{E[i++]=c[_++]}while(--w);_=i-k,x=E}}else if(h<w){if(_+=u+h-w,(w-=h)<b){b-=w;do{E[i++]=c[_++]}while(--w);if(_=0,h<b){b-=w=h;do{E[i++]=c[_++]}while(--w);_=i-k,x=E}}}else if(_+=h-w,w<b){b-=w;do{E[i++]=c[_++]}while(--w);_=i-k,x=E}for(;b>2;)E[i++]=x[_++],E[i++]=x[_++],E[i++]=x[_++],b-=3;b&&(E[i++]=x[_++],b>1&&(E[i++]=x[_++]))}else{_=i-k;do{E[i++]=E[_++],E[i++]=E[_++],E[i++]=E[_++],b-=3}while(b>2);b&&(E[i++]=E[_++],b>1&&(E[i++]=E[_++]))}break}}break}}while(r<n&&i<o);r-=b=d>>3,f&=(1<<(d-=b<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),S.hold=f,S.bits=d},Ce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Oe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),De=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Te=function(t,e,r,n,i,a,o,s){var u,l,h,c,f,d,p,m,g,v=s.bits,y=0,w=0,b=0,k=0,_=0,x=0,M=0,E=0,S=0,A=0,P=null,C=0,O=new Uint16Array(16),D=new Uint16Array(16),I=null,T=0;for(y=0;y<=15;y++)O[y]=0;for(w=0;w<n;w++)O[e[r+w]]++;for(_=v,k=15;k>=1&&0===O[k];k--);if(_>k&&(_=k),0===k)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(b=1;b<k&&0===O[b];b++);for(_<b&&(_=b),E=1,y=1;y<=15;y++)if(E<<=1,(E-=O[y])<0)return-1;if(E>0&&(0===t||1!==k))return-1;for(D[1]=0,y=1;y<15;y++)D[y+1]=D[y]+O[y];for(w=0;w<n;w++)0!==e[r+w]&&(o[D[e[r+w]]++]=w);if(0===t?(P=I=o,d=19):1===t?(P=Ce,C-=257,I=Oe,T-=257,d=256):(P=De,I=Ie,d=-1),A=0,w=0,y=b,f=a,x=_,M=0,h=-1,c=(S=1<<_)-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){p=y-M,o[w]<d?(m=0,g=o[w]):o[w]>d?(m=I[T+o[w]],g=P[C+o[w]]):(m=96,g=0),u=1<<y-M,b=l=1<<x;do{i[f+(A>>M)+(l-=u)]=p<<24|m<<16|g|0}while(0!==l);for(u=1<<y-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,w++,0===--O[y]){if(y===k)break;y=e[r+o[w]]}if(y>_&&(A&c)!==h){for(0===M&&(M=_),f+=b,E=1<<(x=y-M);x+M<k&&!((E-=O[x+M])<=0);)x++,E<<=1;if(S+=1<<x,1===t&&S>852||2===t&&S>592)return 1;i[h=A&c]=_<<24|x<<16|f-a|0}}return 0!==A&&(i[f+A]=y-M<<24|64<<16|0),s.bits=_,0},Re=dt.Z_FINISH,Ue=dt.Z_BLOCK,je=dt.Z_TREES,Le=dt.Z_OK,Be=dt.Z_STREAM_END,Ne=dt.Z_NEED_DICT,Fe=dt.Z_STREAM_ERROR,ze=dt.Z_DATA_ERROR,Ve=dt.Z_MEM_ERROR,Ye=dt.Z_BUF_ERROR,Xe=dt.Z_DEFLATED,qe=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function He(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Ge,We,Ke=function(t){if(!t||!t.state)return Fe;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Le},Ze=function(t){if(!t||!t.state)return Fe;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ke(t)},Qe=function(t,e){var r;if(!t||!t.state)return Fe;var n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Fe:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ze(t))},$e=function(t,e){if(!t)return Fe;var r=new He;t.state=r,r.window=null;var n=Qe(t,e);return n!==Le&&(t.state=null),n},Je=!0,tr=function(t){if(Je){Ge=new Int32Array(512),We=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Te(1,t.lens,0,288,Ge,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Te(2,t.lens,0,32,We,0,t.work,{bits:5}),Je=!1}t.lencode=Ge,t.lenbits=9,t.distcode=We,t.distbits=5},er=function(t,e,r,n){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},rr={inflateReset:Ze,inflateReset2:Qe,inflateResetKeep:Ke,inflateInit:function(t){return $e(t,15)},inflateInit2:$e,inflate:function(t,e){var r,n,i,a,o,s,u,l,h,c,f,d,p,m,g,v,y,w,b,k,_,x,M,E,S=0,A=new Uint8Array(4),P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Fe;12===(r=t.state).mode&&(r.mode=13),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,h=r.bits,c=s,f=u,x=Le;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;h<16;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(2&r.wrap&&35615===l){r.check=0,A[0]=255&l,A[1]=l>>>8&255,r.check=ct(r.check,A,2,0),l=0,h=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=30;break}if((15&l)!==Xe){t.msg="unknown compression method",r.mode=30;break}if(h-=4,_=8+(15&(l>>>=4)),0===r.wbits)r.wbits=_;else if(_>r.wbits){t.msg="invalid window size",r.mode=30;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&l?10:12,l=0,h=0;break;case 2:for(;h<16;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(r.flags=l,(255&r.flags)!==Xe){t.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=l>>8&1),512&r.flags&&(A[0]=255&l,A[1]=l>>>8&255,r.check=ct(r.check,A,2,0)),l=0,h=0,r.mode=3;case 3:for(;h<32;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.head&&(r.head.time=l),512&r.flags&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,r.check=ct(r.check,A,4,0)),l=0,h=0,r.mode=4;case 4:for(;h<16;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=255&l,r.head.os=l>>8),512&r.flags&&(A[0]=255&l,A[1]=l>>>8&255,r.check=ct(r.check,A,2,0)),l=0,h=0,r.mode=5;case 5:if(1024&r.flags){for(;h<16;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.length=l,r.head&&(r.head.extra_len=l),512&r.flags&&(A[0]=255&l,A[1]=l>>>8&255,r.check=ct(r.check,A,2,0)),l=0,h=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(_=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),_)),512&r.flags&&(r.check=ct(r.check,n,d,a)),s-=d,a+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break t;d=0;do{_=n[a+d++],r.head&&_&&r.length<65536&&(r.head.name+=String.fromCharCode(_))}while(_&&d<s);if(512&r.flags&&(r.check=ct(r.check,n,d,a)),s-=d,a+=d,_)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break t;d=0;do{_=n[a+d++],r.head&&_&&r.length<65536&&(r.head.comment+=String.fromCharCode(_))}while(_&&d<s);if(512&r.flags&&(r.check=ct(r.check,n,d,a)),s-=d,a+=d,_)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;h<16;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(l!==(65535&r.check)){t.msg="header crc mismatch",r.mode=30;break}l=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;h<32;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}t.adler=r.check=qe(l),l=0,h=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=h,Ne;t.adler=r.check=1,r.mode=12;case 12:if(e===Ue||e===je)break t;case 13:if(r.last){l>>>=7&h,h-=7&h,r.mode=27;break}for(;h<3;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}switch(r.last=1&l,h-=1,3&(l>>>=1)){case 0:r.mode=14;break;case 1:if(tr(r),r.mode=20,e===je){l>>>=2,h-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=30}l>>>=2,h-=2;break;case 14:for(l>>>=7&h,h-=7&h;h<32;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if((65535&l)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&l,l=0,h=0,r.mode=15,e===je)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>s&&(d=s),d>u&&(d=u),0===d)break t;i.set(n.subarray(a,a+d),o),s-=d,a+=d,u-=d,o+=d,r.length-=d;break}r.mode=12;break;case 17:for(;h<14;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(r.nlen=257+(31&l),l>>>=5,h-=5,r.ndist=1+(31&l),l>>>=5,h-=5,r.ncode=4+(15&l),l>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;h<3;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.lens[P[r.have++]]=7&l,l>>>=3,h-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},x=Te(0,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,x){t.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;v=(S=r.lencode[l&(1<<r.lenbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=h);){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(y<16)l>>>=g,h-=g,r.lens[r.have++]=y;else{if(16===y){for(E=g+2;h<E;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(l>>>=g,h-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=30;break}_=r.lens[r.have-1],d=3+(3&l),l>>>=2,h-=2}else if(17===y){for(E=g+3;h<E;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}h-=g,_=0,d=3+(7&(l>>>=g)),l>>>=3,h-=3}else{for(E=g+7;h<E;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}h-=g,_=0,d=11+(127&(l>>>=g)),l>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=_}}if(30===r.mode)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,M={bits:r.lenbits},x=Te(1,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,x){t.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},x=Te(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,x){t.msg="invalid distances set",r.mode=30;break}if(r.mode=20,e===je)break t;case 20:r.mode=21;case 21:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=h,Pe(t,f),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,h=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;v=(S=r.lencode[l&(1<<r.lenbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=h);){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(v&&0===(240&v)){for(w=g,b=v,k=y;v=(S=r.lencode[k+((l&(1<<w+b)-1)>>w)])>>>16&255,y=65535&S,!(w+(g=S>>>24)<=h);){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}l>>>=w,h-=w,r.back+=w}if(l>>>=g,h-=g,r.back+=g,r.length=y,0===v){r.mode=26;break}if(32&v){r.back=-1,r.mode=12;break}if(64&v){t.msg="invalid literal/length code",r.mode=30;break}r.extra=15&v,r.mode=22;case 22:if(r.extra){for(E=r.extra;h<E;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;v=(S=r.distcode[l&(1<<r.distbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=h);){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(0===(240&v)){for(w=g,b=v,k=y;v=(S=r.distcode[k+((l&(1<<w+b)-1)>>w)])>>>16&255,y=65535&S,!(w+(g=S>>>24)<=h);){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}l>>>=w,h-=w,r.back+=w}if(l>>>=g,h-=g,r.back+=g,64&v){t.msg="invalid distance code",r.mode=30;break}r.offset=y,r.extra=15&v,r.mode=24;case 24:if(r.extra){for(E=r.extra;h<E;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===u)break t;if(d=f-u,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),m=r.window}else m=i,p=o-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[o++]=m[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===u)break t;i[o++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;h<32;){if(0===s)break t;s--,l|=n[a++]<<h,h+=8}if(f-=u,t.total_out+=f,r.total+=f,f&&(t.adler=r.check=r.flags?ct(r.check,i,f,o-f):lt(r.check,i,f,o-f)),f=u,(r.flags?l:qe(l))!==r.check){t.msg="incorrect data check",r.mode=30;break}l=0,h=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;h<32;){if(0===s)break t;s--,l+=n[a++]<<h,h+=8}if(l!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=30;break}l=0,h=0}r.mode=29;case 29:x=Be;break t;case 30:x=ze;break t;case 31:return Ve;case 32:default:return Fe}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=h,(r.wsize||f!==t.avail_out&&r.mode<30&&(r.mode<27||e!==Re))&&er(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,r.total+=f,r.wrap&&f&&(t.adler=r.check=r.flags?ct(r.check,i,f,t.next_out-f):lt(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===c&&0===f||e===Re)&&x===Le&&(x=Ye),x},inflateEnd:function(t){if(!t||!t.state)return Fe;var e=t.state;return e.window&&(e.window=null),t.state=null,Le},inflateGetHeader:function(t,e){if(!t||!t.state)return Fe;var r=t.state;return 0===(2&r.wrap)?Fe:(r.head=e,e.done=!1,Le)},inflateSetDictionary:function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?Fe:11===r.mode&&lt(1,e,n,0)!==r.check?ze:er(t,e,n,n)?(r.mode=31,Ve):(r.havedict=1,Le):Fe},inflateInfo:"pako inflate (from Nodeca project)"};var nr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},ir=Object.prototype.toString,ar=dt.Z_NO_FLUSH,or=dt.Z_FINISH,sr=dt.Z_OK,ur=dt.Z_STREAM_END,lr=dt.Z_NEED_DICT,hr=dt.Z_STREAM_ERROR,cr=dt.Z_DATA_ERROR,fr=dt.Z_MEM_ERROR;function dr(t){this.options=le.assign({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pe,this.strm.avail_out=0;var r=rr.inflateInit2(this.strm,e.windowBits);if(r!==sr)throw new Error(ft[r]);if(this.header=new nr,rr.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=de.string2buf(e.dictionary):"[object ArrayBuffer]"===ir.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=rr.inflateSetDictionary(this.strm,e.dictionary))!==sr))throw new Error(ft[r])}function pr(t,e){var r=new dr(e);if(r.push(t),r.err)throw r.msg||ft[r.err];return r.result}dr.prototype.push=function(t,e){var r,n,i,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(n=e===~~e?e:!0===e?or:ar,"[object ArrayBuffer]"===ir.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(r=rr.inflate(a,n))===lr&&s&&((r=rr.inflateSetDictionary(a,s))===sr?r=rr.inflate(a,n):r===cr&&(r=lr));a.avail_in>0&&r===ur&&a.state.wrap>0&&0!==t[a.next_in];)rr.inflateReset(a),r=rr.inflate(a,n);switch(r){case hr:case cr:case lr:case fr:return this.onEnd(r),this.ended=!0,!1}if(i=a.avail_out,a.next_out&&(0===a.avail_out||r===ur))if("string"===this.options.to){var u=de.utf8border(a.output,a.next_out),l=a.next_out-u,h=de.buf2string(a.output,u);a.next_out=l,a.avail_out=o-l,l&&a.output.set(a.output.subarray(u,u+l),0),this.onData(h)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(r!==sr||0!==i){if(r===ur)return r=rr.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},dr.prototype.onData=function(t){this.chunks.push(t)},dr.prototype.onEnd=function(t){t===sr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=le.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};for(var mr={Inflate:dr,inflate:pr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,pr(t,e)},ungzip:pr,constants:dt},gr=Ae.deflate,vr=mr.Inflate,yr=mr.inflate,wr=[137,80,78,71,13,10,26,10],br=[],kr=0;kr<256;kr++){for(var _r=kr,xr=0;xr<8;xr++)1&_r?_r=3988292384^_r>>>1:_r>>>=1;br[kr]=_r}var Mr,Er,Sr,Ar,Pr=4294967295;function Cr(t,e){return(function(t,e,r){for(var n=t,i=0;i<r;i++)n=br[255&(n^e[i])]^n>>>8;return n}(Pr,t,e)^Pr)>>>0}!function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.GREYSCALE=0]="GREYSCALE",t[t.TRUECOLOUR=2]="TRUECOLOUR",t[t.INDEXED_COLOUR=3]="INDEXED_COLOUR",t[t.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",t[t.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(Mr||(Mr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.DEFLATE=0]="DEFLATE"}(Er||(Er={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.ADAPTIVE=0]="ADAPTIVE"}(Sr||(Sr={})),function(t){t[t.UNKNOWN=-1]="UNKNOWN",t[t.NO_INTERLACE=0]="NO_INTERLACE",t[t.ADAM7=1]="ADAM7"}(Ar||(Ar={}));var Or=new Uint8Array(0),Dr=new Uint16Array([255]),Ir=255===new Uint8Array(Dr.buffer)[0],Tr=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,r),n=e.call(this,t);var a=i.checkCrc,o=void 0!==a&&a;return n._checkCrc=o,n._inflator=new vr,n._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},n._end=!1,n._hasPalette=!1,n._palette=[],n._compressionMethod=Er.UNKNOWN,n._filterMethod=Sr.UNKNOWN,n._interlaceMethod=Ar.UNKNOWN,n._colorType=-1,n.setBigEndian(),n}return Object(u.a)(r,[{key:"decode",value:function(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}},{key:"decodeSignature",value:function(){for(var t=0;t<wr.length;t++)if(this.readUint8()!==wr[t])throw new Error("wrong PNG signature. Byte at ".concat(t," should be ").concat(wr[t],"."))}},{key:"decodeChunk",value:function(){var t=this.readUint32(),e=this.readChars(4),r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":this.decodetEXt(t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-r!==t)throw new Error("Length mismatch while decoding chunk ".concat(e));if(this._checkCrc){var n=this.readUint32(),i=t+4,a=Cr(new Uint8Array(this.buffer,this.byteOffset+this.offset-i-4,i),i);if(a!==n)throw new Error("CRC mismatch for chunk ".concat(e,". Expected ").concat(n,", found ").concat(a))}else this.skip(4)}},{key:"decodeIHDR",value:function(){var t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error("invalid bit depth: ".concat(t));return t}(this.readUint8());var e,r=this.readUint8();switch(this._colorType=r,r){case Mr.GREYSCALE:e=1;break;case Mr.TRUECOLOUR:e=3;break;case Mr.INDEXED_COLOUR:e=1;break;case Mr.GREYSCALE_ALPHA:e=2;break;case Mr.TRUECOLOUR_ALPHA:e=4;break;default:throw new Error("Unknown color type: ".concat(r))}if(this._png.channels=e,this._compressionMethod=this.readUint8(),this._compressionMethod!==Er.DEFLATE)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}},{key:"decodePLTE",value:function(t){if(t%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(t));var e=t/3;this._hasPalette=!0;var r=[];this._palette=r;for(var n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}},{key:"decodeIDAT",value:function(t){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,t)),this.skip(t)}},{key:"decodetRNS",value:function(t){if(3===this._colorType){if(t>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(t," vs ").concat(this._palette.length,")"));for(var e=0;e<t;e++){var r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255)}}},{key:"decodeiCCP",value:function(t){for(var e,r="";"\0"!==(e=this.readChar());)r+=e;var n=this.readUint8();if(n!==Er.DEFLATE)throw new Error("Unsupported iCCP compression method: ".concat(n));var i=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:yr(i)}}},{key:"decodetEXt",value:function(t){for(var e,r="";"\0"!==(e=this.readChar());)r+=e;this._png.text[r]=this.readChars(t-r.length-1)}},{key:"decodepHYs",value:function(){var t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}},{key:"decodeImage",value:function(){if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));var t=this._inflator.result;if(this._filterMethod!==Sr.ADAPTIVE)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod!==Ar.NO_INTERLACE)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this.decodeInterlaceNull(t)}},{key:"decodeInterlaceNull",value:function(t){for(var e,r,n,i=this._png.height,a=this._png.channels*this._png.depth/8,o=this._png.width*a,s=new Uint8Array(this._png.height*o),u=Or,l=0,h=0;h<i;h++){switch(e=t.subarray(l+1,l+1+o),r=s.subarray(h*o,(h+1)*o),t[l]){case 0:Rr(e,r,o);break;case 1:Ur(e,r,o,a);break;case 2:jr(e,r,u,o);break;case 3:Lr(e,r,u,o,a);break;case 4:Br(e,r,u,o,a);break;default:throw new Error("Unsupported filter: ".concat(t[l]))}u=r,l+=o+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){var c=new Uint16Array(s.buffer);if(Ir)for(var f=0;f<c.length;f++)c[f]=(255&(n=c[f]))<<8|n>>8&255;this._png.data=c}else this._png.data=s}}]),r}(C);function Rr(t,e,r){for(var n=0;n<r;n++)e[n]=t[n]}function Ur(t,e,r,n){for(var i=0;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function jr(t,e,r,n){var i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Lr(t,e,r,n,i){var a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function Br(t,e,r,n,i){var a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Nr(e[a-i],r[a],r[a-i])&255}}function Nr(t,e,r){var n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}var Fr,zr={level:3},Vr=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)(this,r),(n=e.call(this))._colorType=Mr.UNKNOWN,n._zlibOptions=Object.assign({},zr,i.zlib),n._png=n._checkData(t),n.setBigEndian(),n}return Object(u.a)(r,[{key:"encode",value:function(){return this.encodeSignature(),this.encodeIHDR(),this.encodeData(),this.encodeIEND(),this.toArray()}},{key:"encodeSignature",value:function(){this.writeBytes(wr)}},{key:"encodeIHDR",value:function(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(Er.DEFLATE),this.writeByte(Sr.ADAPTIVE),this.writeByte(Ar.NO_INTERLACE),this.writeCrc(17)}},{key:"encodeIEND",value:function(){this.writeUint32(0),this.writeChars("IEND"),this.writeCrc(4)}},{key:"encodeIDAT",value:function(t){this.writeUint32(t.length),this.writeChars("IDAT"),this.writeBytes(t),this.writeCrc(t.length+4)}},{key:"encodeData",value:function(){for(var t=this._png,e=t.width,r=t.height,n=t.channels,i=t.depth,a=t.data,o=n*e,s=(new C).setBigEndian(),u=0,l=0;l<r;l++)if(s.writeByte(0),8===i)u=Xr(a,s,o,u);else{if(16!==i)throw new Error("unreachable");u=qr(a,s,o,u)}var h=s.toArray(),c=gr(h,this._zlibOptions);this.encodeIDAT(c)}},{key:"_checkData",value:function(t){var e=function(t){var e=t.channels,r=void 0===e?4:e,n=t.depth,i=void 0===n?8:n;if(4!==r&&3!==r&&2!==r&&1!==r)throw new RangeError("unsupported number of channels: ".concat(r));if(8!==i&&16!==i)throw new RangeError("unsupported bit depth: ".concat(i));var a={channels:r,depth:i,colorType:Mr.UNKNOWN};switch(r){case 4:a.colorType=Mr.TRUECOLOUR_ALPHA;break;case 3:a.colorType=Mr.TRUECOLOUR;break;case 1:a.colorType=Mr.GREYSCALE;break;case 2:a.colorType=Mr.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return a}(t),r=e.colorType,n=e.channels,i=e.depth,a={width:Yr(t.width,"width"),height:Yr(t.height,"height"),channels:n,data:t.data,depth:i,text:{}};this._colorType=r;var o=a.width*a.height*n;if(a.data.length!==o)throw new RangeError("wrong data size. Found ".concat(a.data.length,", expected ").concat(o));return a}},{key:"writeCrc",value:function(t){this.writeUint32(Cr(new Uint8Array(this.buffer,this.byteOffset+this.offset-t,t),t))}}]),r}(C);function Yr(t,e){if(Number.isInteger(t)&&t>0)return t;throw new TypeError("".concat(e," must be a positive integer"))}function Xr(t,e,r,n){for(var i=0;i<r;i++)e.writeByte(t[n++]);return n}function qr(t,e,r,n){for(var i=0;i<r;i++)e.writeUint16(t[n++]);return n}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(Fr||(Fr={}));for(var Hr=r(30),Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wr=new Uint8Array(256),Kr=0;Kr<Gr.length;Kr++)Wr[Gr.charCodeAt(Kr)]=Kr;function Zr(t,e){var r=function(t){var e,r=t.length,n="";for(e=0;e<r;e+=3)n+=Gr[t[e]>>2],n+=Gr[(3&t[e])<<4|t[e+1]>>4],n+=Gr[(15&t[e+1])<<2|t[e+2]>>6],n+=Gr[63&t[e+2]];return r%3===2?n="".concat(n.substring(0,n.length-1),"="):r%3===1&&(n="".concat(n.substring(0,n.length-2),"==")),n}(t);return"data:".concat(e,";base64,").concat(r)}var Qr=self.ImageData,$r=self.Image;function Jr(t,e){var r=self.document.createElement("canvas");return r.width=t,r.height=e,r}function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={width:t.width,height:t.height,data:t.getRGBAData()};return Object(Hr.encode)(r,e.quality).data}function en(t,e){var r={width:t.width,height:t.height,channels:t.channels,depth:t.bitDepth,data:t.data};return 1!==r.depth&&32!==r.depth||(r.depth=8,r.channels=4,r.data=t.getRGBAData()),function(t,e){return new Vr(t,e).encode()}(r,e)}var rn={save:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useCanvas,i=void 0!==n&&n,a=r.encoder,o=void 0===a?void 0:a,s=r.format;if(!s){var u=b(/\.([a-zA-Z]+)$/,{format:1}).exec(t);u&&(s=u.groups.format.toLowerCase())}if(!s)throw new Error("file format not provided");return new Promise(function(t,r){var n,a;switch(s.toLowerCase()){case"png":i?n=e.getCanvas().pngStream():a=en(e,o);break;case"jpg":case"jpeg":i?n=e.getCanvas().jpegStream():a=tn(e,o);break;case"bmp":a=Object(M.encode)(e,o);break;default:throw new RangeError("invalid output format: ".concat(s))}if(n){var u=function(){throw new Error("createWriteStream does not exist in the browser")}();u.on("finish",t),u.on("error",r),n.pipe(u)}else a&&function(){throw new Error("writeFile does not exist in the browser")}()})},toDataURL:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===typeof t&&(e=t,t="image/png");var r=e,n=r.useCanvas,i=void 0!==n&&n,a=r.encoder,o=void 0===a?void 0:a;function s(e,r){return Zr(e(r,o),t)}return"image/bmp"===(t=function(t){return t.includes("/")||(t="image/".concat(t)),t}(t))?s(M.encode,this):"image/png"!==t||i?"image/jpeg"!==t||i?this.getCanvas().toDataURL(t):s(tn,this):s(en,this)},toBuffer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.format,r=void 0===e?"png":e,n=t.encoder,i=void 0===n?void 0:n;switch(r.toLowerCase()){case"png":return en(this,i);case"jpeg":case"jpg":return tn(this,i);case"bmp":return Object(M.encode)(this,i);default:throw new RangeError("invalid output format: ".concat(r))}},toBase64:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.async)return this.toDataURL(t,e).then(function(t){return t.substring(t.indexOf(",")+1)});var r=this.toDataURL(t,e);return r.substring(r.indexOf(",")+1)},toBlob:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return _(this.getCanvas(),t,e)},getCanvas:function(){var t=new Qr(this.getRGBAData({clamped:!0}),this.width,this.height),e=Jr(this.width,this.height);return e.getContext("2d").putImageData(t,0,0),e}};var nn=r(12),an=r(31),on=r.n(an),sn={configurable:!0,enumerable:!1,get:void 0};var un="GREY",ln="RGB",hn="HSL",cn="HSV",fn="CMYK";var dn="BINARY",pn="RGBA",mn={};mn.BINARY={components:1,alpha:0,bitDepth:1,colorModel:un},mn.GREYA={components:1,alpha:1,bitDepth:8,colorModel:un},mn.GREY={components:1,alpha:0,bitDepth:8,colorModel:un},mn[pn]={components:3,alpha:1,bitDepth:8,colorModel:ln},mn.RGB={components:3,alpha:0,bitDepth:8,colorModel:ln},mn.CMYK={components:4,alpha:0,bitDepth:8,colorModel:fn},mn.CMYKA={components:4,alpha:1,bitDepth:8,colorModel:fn};var gn=[1,8,16,32];var vn=r(62),yn=r(63),wn=r.n(yn),bn=(r(114),new TextDecoder("utf-8"));var kn=new TextEncoder;var _n=8192,xn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,t);var n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);var i=r.offset?r.offset>>>0:0,a=e.byteLength-i,o=i;(ArrayBuffer.isView(e)||e instanceof t)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}return Object(u.a)(t,[{key:"available",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=t,this}},{key:"seek",value:function(t){return this.offset=t,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(t)){var e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigInt64",value:function(){var t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readBigUint64",value:function(){var t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="",r=0;r<t;r++)e+=this.readChar();return e}},{key:"readUtf8",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=this.readBytes(e),bn.decode(t)}},{key:"writeBoolean",value:function(t){return this.writeUint8(t?255:0),this}},{key:"writeInt8",value:function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(t){return this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigInt64",value:function(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeBigUint64",value:function(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(t){return this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}},{key:"writeUtf8",value:function(t){return this.writeBytes(function(t){return kn.encode(t)}(t))}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}},{key:"_updateLastWrittenByte",value:function(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}]),t}();var Mn=r(22);function En(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(Mn.a)(t))){var e=0,r=function(){};return{s:r,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw i}}}}var Sn={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},An={};for(var Pn in Sn)An[Sn[Pn]]=Number(Pn);var Cn={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},On={};for(var Dn in Cn)On[Cn[Dn]]=Number(Dn);var In={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},Tn={};for(var Rn in In)Tn[In[Rn]]=Number(Rn);var Un={standard:o,exif:i,gps:a},jn=function(){function t(e){if(Object(s.a)(this,t),!e)throw new Error("missing kind");this.data=new Uint8Array,this.fields=new Map,this.kind=e,this._hasMap=!1,this._map={}}return Object(u.a)(t,[{key:"get",value:function(t){if("number"===typeof t)return this.fields.get(t);if("string"===typeof t)return this.fields.get(Un[this.kind].tagsByName[t]);throw new Error("expected a number or string")}},{key:"map",get:function(){if(!this._hasMap){var t,e=Un[this.kind].tagsById,r=En(this.fields.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n]&&(this._map[e[n]]=this.fields.get(n))}}catch(i){r.e(i)}finally{r.f()}this._hasMap=!0}return this._map}}]),t}(),Ln=new Map([[1,[1,Bn]],[2,[1,function(t,e){for(var r=[],n="",i=0;i<e;i++){var a=String.fromCharCode(t.readUint8());"\0"===a?(r.push(n),n=""):n+=a}return 1===r.length?r[0]:r}]],[3,[2,function(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}]],[4,[4,function(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}]],[5,[8,function(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}]],[6,[1,function(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}]],[7,[1,Bn]],[8,[2,function(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}]],[9,[4,function(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}]],[10,[8,function(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}]],[11,[4,function(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}]],[12,[8,function(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}]]]);function Bn(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}var Nn=258,Fn=9,zn=[];var Vn=[511,1023,2047,4095],Yn=[0,0,0,0,0,0,0,0,0,511,1023,2047,4095],Xn=function(){function t(e){Object(s.a)(this,t),this.nextData=0,this.nextBits=0,this.bytePointer=0,this.tableLength=Nn,this.currentBitLength=Fn,this.stripArray=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),this.outData=new xn(e.byteLength),this.initializeTable()}return Object(u.a)(t,[{key:"decode",value:function(){for(var t=0,e=0;257!==(t=this.getNextCode());)if(256===t){if(this.initializeTable(),257===(t=this.getNextCode()))break;this.writeString(this.stringFromCode(t)),e=t}else if(this.isInTable(t))this.writeString(this.stringFromCode(t)),this.addStringToTable(this.stringFromCode(e).concat(this.stringFromCode(t)[0])),e=t;else{var r=this.stringFromCode(e).concat(this.stringFromCode(e)[0]);this.writeString(r),this.addStringToTable(r),e=t}var n=this.outData.toArray();return new DataView(n.buffer,n.byteOffset,n.byteLength)}},{key:"initializeTable",value:function(){!function(){if(0===zn.length){for(var t=0;t<256;t++)zn.push([t]);for(var e=[],r=256;r<4096;r++)zn.push(e)}}(),this.tableLength=Nn,this.currentBitLength=Fn}},{key:"writeString",value:function(t){this.outData.writeBytes(t)}},{key:"stringFromCode",value:function(t){return zn[t]}},{key:"isInTable",value:function(t){return t<this.tableLength}},{key:"addStringToTable",value:function(t){if(zn[this.tableLength++]=t,zn.length>4096)throw zn=[],new Error("LZW decoding error. Please open an issue at https://github.com/image-js/tiff/issues/new/choose (include a test image).");this.tableLength===Yn[this.currentBitLength]&&this.currentBitLength++}},{key:"getNextCode",value:function(){this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8,this.nextBits<this.currentBitLength&&(this.nextData=this.nextData<<8|255&this.stripArray[this.bytePointer++],this.nextBits+=8);var t=this.nextData>>this.nextBits-this.currentBitLength&Vn[this.currentBitLength-9];return this.nextBits-=this.currentBitLength,this.bytePointer>this.stripArray.length?257:t}}]),t}();function qn(t){return new Xn(t).decode()}var Hn=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/,Gn=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(){return Object(s.a)(this,r),e.call(this,"standard")}return Object(u.a)(r,[{key:"size",get:function(){return this.width*this.height}},{key:"width",get:function(){return this.imageWidth}},{key:"height",get:function(){return this.imageLength}},{key:"components",get:function(){return this.samplesPerPixel}},{key:"date",get:function(){var t=new Date,e=Hn.exec(this.dateTime);if(null===e)throw new Error("invalid dateTime: ".concat(this.dateTime));return t.setFullYear(Number(e[1]),Number(e[2])-1,Number(e[3])),t.setHours(Number(e[4]),Number(e[5]),Number(e[6])),t}},{key:"newSubfileType",get:function(){return this.get("NewSubfileType")}},{key:"imageWidth",get:function(){return this.get("ImageWidth")}},{key:"imageLength",get:function(){return this.get("ImageLength")}},{key:"bitsPerSample",get:function(){var t=this.get("BitsPerSample");return t&&"number"!==typeof t?t[0]:t}},{key:"alpha",get:function(){var t=this.extraSamples;return!!t&&0!==t[0]}},{key:"associatedAlpha",get:function(){var t=this.extraSamples;return!!t&&1===t[0]}},{key:"extraSamples",get:function(){return Wn(this.get("ExtraSamples"))}},{key:"compression",get:function(){return this.get("Compression")||1}},{key:"type",get:function(){return this.get("PhotometricInterpretation")}},{key:"fillOrder",get:function(){return this.get("FillOrder")||1}},{key:"documentName",get:function(){return this.get("DocumentName")}},{key:"imageDescription",get:function(){return this.get("ImageDescription")}},{key:"stripOffsets",get:function(){return Wn(this.get("StripOffsets"))}},{key:"orientation",get:function(){return this.get("Orientation")}},{key:"samplesPerPixel",get:function(){return this.get("SamplesPerPixel")||1}},{key:"rowsPerStrip",get:function(){return this.get("RowsPerStrip")}},{key:"stripByteCounts",get:function(){return Wn(this.get("StripByteCounts"))}},{key:"minSampleValue",get:function(){return this.get("MinSampleValue")||0}},{key:"maxSampleValue",get:function(){return this.get("MaxSampleValue")||Math.pow(2,this.bitsPerSample)-1}},{key:"xResolution",get:function(){return this.get("XResolution")}},{key:"yResolution",get:function(){return this.get("YResolution")}},{key:"planarConfiguration",get:function(){return this.get("PlanarConfiguration")||1}},{key:"resolutionUnit",get:function(){return this.get("ResolutionUnit")||2}},{key:"dateTime",get:function(){return this.get("DateTime")}},{key:"predictor",get:function(){return this.get("Predictor")||1}},{key:"sampleFormat",get:function(){return this.get("SampleFormat")||1}},{key:"sMinSampleValue",get:function(){return this.get("SMinSampleValue")||this.minSampleValue}},{key:"sMaxSampleValue",get:function(){return this.get("SMaxSampleValue")||this.maxSampleValue}},{key:"palette",get:function(){var t=Math.pow(2,this.bitsPerSample),e=this.get("ColorMap");if(e){if(e.length!==3*t)throw new Error("ColorMap size must be ".concat(t));for(var r=[],n=0;n<t;n++)r.push([e[n],e[n+t],e[n+2*t]]);return r}}}]),r}(jn);function Wn(t){return"number"===typeof t?[t]:t}function Kn(t){var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r=yr(e);return new DataView(r.buffer,r.byteOffset,r.byteLength)}var Zn={ignoreImageData:!1,onlyFirst:!1},Qn=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(t){var n;return Object(s.a)(this,r),(n=e.call(this,t))._nextIFD=0,n}return Object(u.a)(r,[{key:"isMultiPage",get:function(){var t=0;for(this.decodeHeader();this._nextIFD;)if(t++,this.decodeIFD({ignoreImageData:!0},!0),2===t)return!0;if(1===t)return!1;throw $n("ifdCount",t)}},{key:"pageCount",get:function(){var t=0;for(this.decodeHeader();this._nextIFD;)t++,this.decodeIFD({ignoreImageData:!0},!0);if(t>0)return t;throw $n("ifdCount",t)}},{key:"decode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({},Zn,t);var e=[];for(this.decodeHeader();this._nextIFD;)if(e.push(this.decodeIFD(t,!0)),t.onlyFirst)return[e[0]];return e}},{key:"decodeHeader",value:function(){var t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x".concat(t.toString(16)));this.setBigEndian()}if(42!==this.readUint16())throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}},{key:"decodeIFD",value:function(t,e){var r;if(this.seek(this._nextIFD),e)r=new Gn;else{if(!t.kind)throw new Error("kind is missing");r=new jn(t.kind)}for(var n=this.readUint16(),i=0;i<n;i++)this.decodeIFDEntry(r);if(!t.ignoreImageData){if(!(r instanceof Gn))throw new Error("must be a tiff ifd");this.decodeImageData(r)}return this._nextIFD=this.readUint32(),r}},{key:"decodeIFDEntry",value:function(t){var e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)this.skip(4);else{(function(t,e){var r=Ln.get(t);if(!r)throw new Error("type not found: ".concat(t));return r[0]*e})(n,i)>4&&this.seek(this.readUint32());var a=function(t,e,r){var n=Ln.get(e);if(!n)throw new Error("type not found: ".concat(e));return n[1](t,r)}(this,n,i);if(t.fields.set(r,a),34665===r||34853===r){var o=this.offset,s="exif";34665===r?s="exif":34853===r&&(s="gps"),this._nextIFD=a,t[s]=this.decodeIFD({kind:s,ignoreImageData:!0},!1),this.offset=o}this.seek(e),this.skip(12)}}},{key:"decodeImageData",value:function(t){var e=t.orientation;if(e&&1!==e)throw $n("orientation",e);switch(t.type){case 0:case 1:case 2:case 3:this.readStripData(t);break;default:throw $n("image type",t.type)}if(this.applyPredictor(t),this.convertAlpha(t),0===t.type)for(var r=t.bitsPerSample,n=Math.pow(2,r)-1,i=0;i<t.data.length;i++)t.data[i]=n-t.data[i]}},{key:"readStripData",value:function(t){for(var e=t.width,r=t.height,n=t.bitsPerSample,i=t.sampleFormat,a=e*r*t.samplesPerPixel,o=function(t,e,r){if(8===e)return new Uint8Array(t);if(16===e)return new Uint16Array(t);if(32===e&&3===r)return new Float32Array(t);throw $n("bit depth / sample format","".concat(e," / ").concat(r))}(a,n,i),s=t.rowsPerStrip*e*t.samplesPerPixel,u=t.stripOffsets,l=t.stripByteCounts||function(t){if(1!==t.compression)throw new Error("missing mandatory StripByteCounts field in compressed image");var e=t.rowsPerStrip*t.width*t.samplesPerPixel*(t.bitsPerSample/8);return new Array(t.stripOffsets.length).fill(e)}(t),h=a,c=0,f=0;f<u.length;f++){var d=new DataView(this.buffer,this.byteOffset+u[f],l[f]),p=h>s?s:h;h-=p;var m=d;switch(t.compression){case 1:break;case 5:m=qn(d);break;case 8:m=Kn(d);break;case 2:throw $n("Compression","CCITT Group 3");case 32773:throw $n("Compression","PackBits");default:throw $n("Compression",t.compression)}c=this.fillUncompressed(n,i,o,m,c,p)}t.data=o}},{key:"fillUncompressed",value:function(t,e,r,n,i,a){if(8===t)return function(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}(r,n,i,a);if(16===t)return function(t,e,r,n,i){for(var a=0;a<2*n;a+=2)t[r++]=e.getUint16(a,i);return r}(r,n,i,a,this.isLittleEndian());if(32===t&&3===e)return function(t,e,r,n,i){for(var a=0;a<4*n;a+=4)t[r++]=e.getFloat32(a,i);return r}(r,n,i,a,this.isLittleEndian());throw $n("bitDepth",t)}},{key:"applyPredictor",value:function(t){var e=t.bitsPerSample;switch(t.predictor){case 1:break;case 2:if(8===e)!function(t,e,r){for(var n=0;n<t.length;){for(var i=r;i<e*r;i+=r)for(var a=0;a<r;a++)t[n+i+a]=t[n+i+a]+t[n+i-(r-a)]&255;n+=e*r}}(t.data,t.width,t.components);else{if(16!==e)throw new Error("Horizontal differencing is only supported for images with a bit depth of ".concat(e));!function(t,e,r){for(var n=0;n<t.length;){for(var i=r;i<e*r;i+=r)for(var a=0;a<r;a++)t[n+i+a]=t[n+i+a]+t[n+i-(r-a)]&65535;n+=e*r}}(t.data,t.width,t.components)}break;default:throw new Error("invalid predictor: ".concat(t.predictor))}}},{key:"convertAlpha",value:function(t){if(t.alpha&&t.associatedAlpha)for(var e=t.data,r=t.components,n=t.maxSampleValue,i=0;i<e.length;i+=r)for(var a=e[i+r-1],o=0;o<r-1;o++)e[i+o]=Math.round(e[i+o]*n/a)}}]),r}(xn);function $n(t,e){return new Error("Unsupported ".concat(t,": ").concat(e))}function Jn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithm,r=void 0===e?"matchToPrevious":e,n=t.ignoreBorder,i=void 0===n?[0,0]:n;this.checkProcessable("matchAndCrop",{bitDepth:[8,16]});var a="matchToPrevious"===r,o=this[0],s=[];s[0]={position:[0,0],image:this[0]};for(var u=[0,0],l=1;l<this.length;l++){var h=o.getBestMatch(this[l],{border:i});s[l]={position:[h[0]+u[0],h[1]+u[1]],image:this[l]},a&&(u[0]+=h[0],u[1]+=h[1],o=this[l])}for(var c=0,f=0,d=0,p=0,m=0;m<s.length;m++){var g=s[m];g.position[0]>c&&(c=g.position[0]),g.position[0]<f&&(f=g.position[0]),g.position[1]>d&&(d=g.position[1]),g.position[1]<p&&(p=g.position[1])}f=0-f,p=0-p;for(var v=0;v<s.length;v++){var y=s[v];y.crop=y.image.crop({x:c-y.position[0],y:d-y.position[1],width:o.width-f-c,height:o.height-p-d})}for(var w=[],b=0;b<s.length;b++)w[b]=s[b].crop;return new fi(w)}function ti(){this.checkProcessable("min",{bitDepth:[8,16]});for(var t=this[0].min,e=1;e<this.length;e++)for(var r=0;r<t.length;r++)t[r]=Math.min(t[r],this[e].min[r]);return t}function ei(){this.checkProcessable("min",{bitDepth:[8,16]});for(var t=this[0].max,e=1;e<this.length;e++)for(var r=0;r<t.length;r++)t[r]=Math.max(t[r],this[e].max[r]);return t}function ri(t){var e=t.reduce(function(t,e){return t+e});if(0===e)throw new Error("unreachable");for(var r,n=0,i=0,a=e/2;;){if(t[n]>0){if(void 0!==r)return(r+n)/2;if((i+=t[n])>a)return n;i===a&&(r=n)}n++}}function ni(t){for(var e=0,r=0,n=0;n<t.length;n++)e+=t[n],r+=t[n]*n;return 0===e?0:r/e}function ii(){this.checkProcessable("median",{bitDepth:[8,16]});for(var t=this.getHistograms({maxSlots:this[0].maxValue+1}),e=new Array(t.length),r=0;r<t.length;r++){var n=t[r];e[r]=ri(n)}return e}function ai(t){this.checkProcessable("min",{bitDepth:[8,16]});for(var e=this[0].getHistogram(t),r=1;r<this.length;r++)for(var n=this[r].getHistogram(t),i=0;i<e.length;i++)e[i]+=n[i];return e}function oi(t){this.checkProcessable("min",{bitDepth:[8,16]});for(var e=this[0].getHistograms(t),r=e[0].length,n=1;n<this.length;n++)for(var i=this[n].getHistograms(t),a=0;a<e.length;a++)for(var o=0;o<r;o++)e[a][o]+=i[a][o];return e}function si(){this.checkProcessable("averageImage",{bitDepth:[8,16]});for(var t=new Uint32Array(this[0].data.length),e=0;e<this.length;e++)for(var r=this[e],n=0;n<this[0].data.length;n++)t[n]+=r.data[n];for(var i=cu.createFrom(this[0]),a=i.data,o=0;o<this[0].data.length;o++)a[o]=t[o]/this.length;return i}function ui(){this.checkProcessable("max",{bitDepth:[8,16]});var t=cu.createFrom(this[0]);t.data.fill(0);var e,r=En(this);try{for(r.s();!(e=r.n()).done;)for(var n=e.value,i=0;i<t.data.length;i++)t.data[i]=Math.max(n.data[i],t.data[i])}catch(a){r.e(a)}finally{r.f()}return t}function li(){this.checkProcessable("max",{bitDepth:[8,16]});var t=cu.createFrom(this[0]);t.data.fill(t.maxValue);var e,r=En(this);try{for(r.s();!(e=r.n()).done;)for(var n=e.value,i=0;i<t.data.length;i++)t.data[i]=Math.min(n.data[i],t.data[i])}catch(a){r.e(a)}finally{r.f()}return t}var hi,ci={configurable:!0,enumerable:!1,get:void 0},fi=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(t){var n;if(Object(s.a)(this,r),Array.isArray(t)){n=e.call(this,t.length);for(var i=0;i<t.length;i++)n[i]=t[i]}else n="number"===typeof t?e.call(this,t):e.call(this);return n.computed=null,Object(y.a)(n)}return Object(u.a)(r,[{key:"checkProcessable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof t)throw new TypeError("checkProcessable requires as first parameter the processName (a string)");if(0===this.size)throw new TypeError("The process: ".concat(t," can not be applied on an empty stack"));this[0].checkProcessable(t,e);for(var r=1;r<this.length;r++){if((void 0===e.sameSize||e.sameSize)&&this[0].width!==this[r].width)throw new TypeError("The process: ".concat(t," can not be applied if width is not identical in all images"));if((void 0===e.sameSize||e.sameSize)&&this[0].height!==this[r].height)throw new TypeError("The process: ".concat(t," can not be applied if height is not identical in all images"));if((void 0===e.sameAlpha||e.sameAlpha)&&this[0].alpha!==this[r].alpha)throw new TypeError("The process: ".concat(t," can not be applied if alpha is not identical in all images"));if((void 0===e.sameBitDepth||e.sameBitDepth)&&this[0].bitDepth!==this[r].bitDepth)throw new TypeError("The process: ".concat(t," can not be applied if bitDepth is not identical in all images"));if((void 0===e.sameColorModel||e.sameColorModel)&&this[0].colorModel!==this[r].colorModel)throw new TypeError("The process: ".concat(t," can not be applied if colorModel is not identical in all images"));if((void 0===e.sameNumberChannels||e.sameNumberChannels)&&this[0].channels!==this[r].channels)throw new TypeError("The process: ".concat(t," can not be applied if channels is not identical in all images"))}}}],[{key:"load",value:function(t){return Promise.all(t.map(cu.load)).then(function(t){return new r(t)})}},{key:"extendMethod",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.inPlace,a=void 0!==i&&i,o=n.returnThis,s=void 0===o||o,u=n.partialArgs,l=void 0===u?[]:u;return r.prototype[t]=a?function(){this.computed=null;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=e.apply(this,[].concat(Object(nn.a)(l),r));return s?this:i}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,[].concat(Object(nn.a)(l),r))},r}},{key:"extendProperty",value:function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).partialArgs,i=void 0===n?[]:n;return ci.get=function(){if(null===this.computed)this.computed={};else if(on()(t,this.computed))return this.computed[t];var r=e.apply(this,i);return this.computed[t]=r,r},Object.defineProperty(r.prototype,t,ci),r}}]),r}(v(Array));Array[Symbol.species]||(fi.prototype.map=function(t,e){if("function"!==typeof t)throw new TypeError("".concat(t," is not a function"));for(var r=new fi(this.length),n=0;n<this.length;n++)r[n]=t.call(e,this[n],n,this);return r}),(hi=fi).extendMethod("matchAndCrop",Jn),hi.extendMethod("getMin",ti),hi.extendMethod("getMax",ei),hi.extendMethod("getMedian",ii),hi.extendMethod("getHistogram",ai),hi.extendMethod("getHistograms",oi),hi.extendMethod("getAverage",si),hi.extendMethod("getAverageImage",si),hi.extendMethod("getMaxImage",ui),hi.extendMethod("getMinImage",li);var di=/^data:[a-z]+\/(?:[a-z]+);base64,/;function pi(t,e){var r=wn()(t);if(r)switch(r.mime){case"image/png":return function(t){var e,r=function(t,e){return new Tr(t,e).decode()}(t),n=r.channels,i=0;2===n||4===n?(e=n-1,i=1):e=n;if(r.palette)return function(t){for(var e=t.width*t.height,r=t.palette[0].length,n=new Uint8Array(e*r),i=8/t.depth,a=t.depth<8?i:1,o=parseInt("1".repeat(t.depth),2),s=4===r,u=0,l=0;l<e;l++){var h=Math.floor(l/a),c=t.data[h];t.depth<8&&(c=c>>>t.depth*(i-1-l%i)&o);var f=t.palette[c];n[u++]=f[0],n[u++]=f[1],n[u++]=f[2],s&&(n[u++]=f[3])}return new cu(t.width,t.height,n,{components:3,alpha:s,bitDepth:8})}(r);return new cu(r.width,r.height,r.data,{components:e,alpha:i,bitDepth:r.depth})}(t);case"image/jpeg":return function(t){var e,r=Object(vn.decode)(t);r.exif&&(e=mi(r.exif));var n=Object(Hr.decode)(t,{useTArray:!0,maxMemoryUsageInMB:1024}),i=new cu(n.width,n.height,n.data,{meta:e});if(e&&e.tiff.tags.Orientation){var a=e.tiff.tags.Orientation;a>2&&(i=i.rotate({3:180,4:180,5:90,6:90,7:270,8:270}[a])),[2,4,5,7].includes(a)&&(i=i.flipX())}return i}(t);case"image/tiff":return function(t){var e=function(t,e){return new Qn(t).decode(e)}(t);return 1===e.length?gi(e[0]):new fi(e.map(gi))}(t);default:return vi(n(r.mime))}return vi(n("application/octet-stream"));function n(r){return e||Zr(t,r)}}function mi(t){var e={tiff:{fields:t.fields,tags:t.map}};return t.exif&&(e.exif=t.exif),t.gps&&(e.gps=t.gps),e}function gi(t){if(3===t.type){for(var e=new Uint16Array(3*t.width*t.height),r=t.palette,n=0,i=0;i<t.data.length;i++){var a=r[t.data[i]];e[n++]=a[0],e[n++]=a[1],e[n++]=a[2]}return new cu(t.width,t.height,e,{components:3,alpha:t.alpha,colorModel:ln,bitDepth:16,meta:mi(t)})}return new cu(t.width,t.height,t.data,{components:2===t.type?3:1,alpha:t.alpha,colorModel:2===t.type?ln:un,bitDepth:t.bitsPerSample.length?t.bitsPerSample[0]:t.bitsPerSample,meta:mi(t)})}function vi(t,e){return e=e||{},new Promise(function(r,n){var i=new $r;i.onload=function(){var t=i.width,n=i.height,a=Jr(t,n).getContext("2d");a.drawImage(i,0,0,t,n);var o=a.getImageData(0,0,t,n).data;r(new cu(t,n,o,e))},i.onerror=function(){n(new Error("Could not load ".concat(t)))},i.src=t})}var yi={getValueXY:function(t,e,r){return this.data[(e*this.width+t)*this.channels+r]},setValueXY:function(t,e,r,n){return this.data[(e*this.width+t)*this.channels+r]=n,this.computed=null,this},getValue:function(t,e){return this.data[t*this.channels+e]},setValue:function(t,e,r){return this.data[t*this.channels+e]=r,this.computed=null,this},getPixelXY:function(t,e){return this.getPixel(e*this.width+t)},setPixelXY:function(t,e,r){return this.setPixel(e*this.width+t,r)},getPixel:function(t){for(var e=new Array(this.channels),r=t*this.channels,n=0;n<this.channels;n++)e[n]=this.data[r+n];return e},setPixel:function(t,e){for(var r=t*this.channels,n=0;n<e.length;n++)this.data[r+n]=e[n];return this.computed=null,this}};function wi(t){return{width:t.width,height:t.height,components:t.components,alpha:t.alpha,colorModel:t.colorModel,bitDepth:t.bitDepth}}function bi(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.out;if(void 0===i)return n.copy?t.clone():cu.createFrom(t,r);if(!cu.isImage(i))throw new TypeError("out must be an Image object");var a=Object.assign(wi(t),r);for(var o in a)if(i[o]!==a[o])throw new RangeError("cannot use out. Its ".concat(o,' must be "').concat(a[o],'" (found "').concat(i[o],'")'));return i}function ki(t,e,r){if(void 0!==e.inPlace&&"boolean"!==typeof e.inPlace)throw new TypeError("inPlace option must be a boolean");if(e.inPlace){if(void 0!==e.out)throw new TypeError("out option must not be set if inPlace option is true");return t}return bi(t,e,null,r)}function _i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("abs",{bitDepth:[32]});var e=ki(this,t);return function(t,e){for(var r=0;r<t.data.length;r++)e.data[r]=Math.abs(t.data[r])}(this,e),e}function xi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("invert",{bitDepth:[1,8,16]});var e=ki(this,t);return 1===this.bitDepth?function(t,e){for(var r=0;r<t.data.length;r++)e.data[r]=~t.data[r]}(this,e):(function(t,e){for(var r=0;r<t.data.length;r+=t.channels)for(var n=0;n<t.components;n++)e.data[r+n]=t.maxValue-t.data[r+n]}(this,e),this!==e&&function(t,e){if(1===t.alpha&&1===e.alpha)for(var r=0;r<t.size;r++)e.data[r*e.channels+e.components]=t.data[r*t.channels+t.components]}(this,e)),e}function Mi(){this.checkProcessable("flipX",{bitDepth:[8,16]});for(var t=0;t<this.height;t++)for(var e=t*this.width*this.channels,r=0;r<Math.floor(this.width/2);r++)for(var n=r*this.channels+e,i=(this.width-r-1)*this.channels+e,a=0;a<this.channels;a++){var o=this.data[n+a];this.data[n+a]=this.data[i+a],this.data[i+a]=o}return this}function Ei(){this.checkProcessable("flipY",{bitDepth:[8,16]});for(var t=0;t<Math.floor(this.height/2);t++)for(var e=0;e<this.width;e++)for(var r=e*this.channels+t*this.width*this.channels,n=e*this.channels+(this.height-1-t)*this.channels*this.width,i=0;i<this.channels;i++){var a=this.data[r+i];this.data[r+i]=this.data[n+i],this.data[n+i]=a}return this}function Si(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).radius,e=void 0===t?1:t;if(e<1)throw new Error("radius must be greater than 1");for(var r=2*e+1,n=new Array(r),i=0;i<r;i++){n[i]=new Array(r);for(var a=0;a<r;a++)n[i][a]=1/(r*r)}return this.convolution(n)}var Ai=r(32),Pi=r.n(Ai);function Ci(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.channels,n=e.allowAlpha,i=e.defaultAlpha;return"boolean"!==typeof n&&(n=!0),"undefined"===typeof r?function(t,e){for(var r=e?t.channels:t.components,n=new Array(r),i=0;i<r;i++)n[i]=i;return n}(t,i):function(t,e,r){Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)e[n]=Oi(t,e[n],r);return e}(t,r,n)}function Oi(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new RangeError("validateChannel : the channel has to be >=0 and <".concat(t.channels));if("string"===typeof e){switch(t.colorModel){case un:break;case ln:if("rgb".includes(e))switch(e){case"r":e=0;break;case"g":e=1;break;case"b":e=2}break;case hn:if("hsl".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"l":e=2}break;case cn:if("hsv".includes(e))switch(e){case"h":e=0;break;case"s":e=1;break;case"v":e=2}break;case fn:if("cmyk".includes(e))switch(e){case"c":e=0;break;case"m":e=1;break;case"y":e=2;break;case"k":e=3}break;default:throw new Error("Unexpected color model: ".concat(t.colorModel))}if("a"===e){if(!t.alpha)throw new Error("validateChannel : the image does not contain alpha channel");e=t.components}if("string"===typeof e)throw new Error("validateChannel : undefined channel: ".concat(e))}if(e>=t.channels)throw new RangeError("validateChannel : the channel has to be >=0 and <".concat(t.channels));if(!r&&e>=t.components)throw new RangeError("validateChannel : alpha channel may not be selected");return e}function Di(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,r=void 0===e?1:e,n=t.border,i=void 0===n?"copy":n,a=t.channels;if(this.checkProcessable("medianFilter",{bitDepth:[8,16]}),r<1)throw new Error("radius must be greater than 0");a=Ci(this,a,!0);for(var o=r,s=r,u=cu.createFrom(this),l=new Array((2*o+1)*(2*s+1)),h=0;h<a.length;h++)for(var c=a[h],f=s;f<this.height-s;f++)for(var d=o;d<this.width-o;d++){for(var p=0,m=-s;m<=s;m++)for(var g=-o;g<=o;g++){var v=((f+m)*this.width+d+g)*this.channels+c;l[p++]=this.data[v]}var y=(f*this.width+d)*this.channels+c;u.data[y]=Pi()(l)}if(this.alpha&&!a.includes(this.channels))for(var w=this.components;w<this.data.length;w+=this.channels)u.data[w]=this.data[w];return u.setBorder({size:[o,s],algorithm:i}),u}function Ii(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.radius,r=void 0===e?1:e,n=t.sigma,i=t.channels,a=t.border,o=void 0===a?"copy":a;this.checkProcessable("gaussian",{bitDepth:[8,16]});var s=function(t,e){for(var r=2*t+1,n=new Array(r),i=e||.3*(.5*(r-1)-1)+.8,a=-.5/(i*i),o=0,s=0;s<r;s++){var u=s-t,l=Math.exp(a*u*u);n[s]=l,o+=l}for(var h=0;h<r;h++)n[h]/=o;return n}(r,n);return this.convolution([s,s],{border:o,channels:i,algorithm:"separable"})}var Ti=[[-1,0,1],[-2,0,2],[-1,0,1]],Ri=[[-1,-2,-1],[0,0,0],[1,2,1]],Ui=[[3,0,-3],[10,0,-10],[3,0,-3]],ji=[[3,10,3],[0,0,0],[-3,-10,-3]],Li=r(37),Bi=r(33),Ni=r.n(Bi);function Fi(t,e){return Math.round(Math.min(Math.max(t,0),e.maxValue))}function zi(t,e,r){if(void 0===r){var n=t.length+e.length-1;r=new Array(n)}!function(t){for(var e=0;e<t.length;e++)t[e]=0}(r);for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)r[i+a]+=t[i]*e[a];return r}r(64),r(65);function Vi(t,e,r,n){var i,a,o,s,u=new Array(t.length);o=((s=e[1]).length-1)/2,a=new Array(r+s.length-1),i=new Array(r);for(var l=0;l<n;l++){for(var h=0;h<r;h++)i[h]=t[l*r+h];zi(i,s,a);for(var c=0;c<r;c++)u[l*r+c]=a[o+c]}o=((s=e[0]).length-1)/2,a=new Array(n+s.length-1),i=new Array(n);for(var f=0;f<r;f++){for(var d=0;d<n;d++)i[d]=u[d*r+f];zi(i,s,a);for(var p=0;p<n;p++)u[p*r+f]=a[o+p]}return u}var Yi=r(17);function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.channels,n=e.bitDepth,i=e.normalize,a=void 0!==i&&i,o=e.divisor,s=void 0===o?1:o,u=e.border,l=void 0===u?"copy":u,h=e.algorithm,c=void 0===h?"auto":h,f={};n&&(f.bitDepth=n);var d,p,m=cu.createFrom(this,f);if(r=Ci(this,r,!0),"separable"!==c){var g=function(t){var e,r;if(!Array.isArray(t))throw new Error("validateKernel: Invalid Kernel: ".concat(t));if(Array.isArray(t[0])){if(0===(1&t.length)||0===(1&t[0].length))throw new RangeError("validateKernel: Kernel rows and columns should be odd numbers");e=Math.floor(t.length/2),r=Math.floor(t[0].length/2)}else{var n=Math.sqrt(t.length);if(!Ni()(n))throw new RangeError("validateKernel: Kernel array should be a square");r=e=Math.floor(Math.sqrt(t.length)/2);for(var i=new Array(n),a=0;a<n;a++){i[a]=new Array(n);for(var o=0;o<n;o++)i[a][o]=t[a*n+o]}t=i}return{kernel:t,kWidth:r,kHeight:e}}(t);t=g.kernel}else if(!Array.isArray(t)||2!==t.length)throw new RangeError("separable convolution requires two arrays of numbers to represent the kernel");if("auto"===c){var v=function(t){var e=new Yi.a(t,{autoTranspose:!0});if(1!==e.rank)return null;var r=Math.sqrt(e.s[0]);return[e.U.to2DArray().map(function(t){return t[0]*r}),e.V.to2DArray().map(function(t){return t[0]*r})]}(t);null!==v?(c="separable",t=v):c=(t.length>9||t[0].length>9)&&this.width<=4096&&this.height<=4096?"fft":"direct"}"separable"===c?(d=Math.floor(t[0].length/2),p=Math.floor(t[1].length/2)):(d=Math.floor(t.length/2),p=Math.floor(t[0].length/2));var y,w,b,k,_,x,M=m.isClamped,E=new Array(this.height*this.width);for(k=0;k<r.length;k++){for(_=r[k],b=0;b<this.height;b++)for(w=0;w<this.width;w++)E[y=b*this.width+w]=this.data[y*this.channels+_];if("direct"===c)x=Object(Li.direct)(E,t,{rows:this.height,cols:this.width,normalize:a,divisor:s});else if("separable"===c){if(x=Vi(E,t,this.width,this.height),a){s=0;for(var S=0;S<t[0].length;S++)for(var A=0;A<t[1].length;A++)s+=t[0][S]*t[1][A]}if(1!==s)for(var P=0;P<x.length;P++)x[P]/=s}else x=Object(Li.fft)(E,t,{rows:this.height,cols:this.width,normalize:a,divisor:s});for(b=0;b<this.height;b++)for(w=0;w<this.width;w++)y=b*this.width+w,m.data[y*this.channels+_]=M?Fi(x[y],m):x[y]}if(this.alpha&&!r.includes(this.channels))for(w=this.components;w<this.data.length;w+=this.channels)m.data[w]=this.data[w];return"periodic"!==l&&m.setBorder({size:[p,d],algorithm:l}),m}function qi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,r=void 0===e?"xy":e,n=t.border,i=void 0===n?"copy":n,a=t.kernelX,o=t.kernelY,s=t.channels,u=t.bitDepth,l=void 0===u?this.bitDepth:u;switch(this.checkProcessable("gradientFilter",{bitDepth:[8,16]}),r){case"x":if(!a)throw new Error("kernelX option is missing");return Xi.call(this,a,{channels:s,border:i,bitDepth:l});case"y":if(!o)throw new Error("kernelY option is missing");return Xi.call(this,o,{channels:s,border:i,bitDepth:l});case"xy":if(!a)throw new Error("kernelX option is missing");if(!o)throw new Error("kernelY option is missing");var h=Xi.call(this,a,{channels:s,border:i,bitDepth:32}),c=Xi.call(this,o,{channels:s,border:i,bitDepth:32});return h.hypotenuse(c,{bitDepth:l,channels:s});default:throw new Error("Unknown parameter direction: ".concat(r))}}function Hi(t){return qi.call(this,Object.assign({},t,{kernelX:Ti,kernelY:Ri}))}function Gi(t){return qi.call(this,Object.assign({},t,{kernelX:Ui,kernelY:ji}))}var Wi=r(11),Ki=r.n(Wi);function Zi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithm,r=void 0===e?"range":e,n=t.channels,i=t.min,a=void 0===i?this.min:i,o=t.max,s=void 0===o?this.max:o;switch(this.checkProcessable("level",{bitDepth:[8,16,32]}),(n=Ci(this,{channels:n})).length!==this.channel&&(Array.isArray(a)&&a.length===this.channels&&(a=a.filter(function(t,e){return n.includes(e)})),Array.isArray(s)&&s.length===this.channels&&(s=s.filter(function(t,e){return n.includes(e)}))),r){case"range":a<0&&(a=0),s>this.maxValue&&(s=this.maxValue),Array.isArray(a)||(a=Ki()(n.length,a)),Array.isArray(s)||(s=Ki()(n.length,s)),function(t,e,r,n){for(var i=new Array(n.length),a=0;a<n.length;a++)0===e[a]&&r[a]===t.maxValue?i[a]=0:r[a]===e[a]?i[a]=0:i[a]=(t.maxValue+1-1e-5)/(r[a]-e[a]),e[a]+=.499995/i[a];for(var o=0;o<n.length;o++){var s=n[o];if(0!==i[o])for(var u=0;u<t.data.length;u+=t.channels)t.data[u+s]=Math.min(Math.max(0,(t.data[u+s]-e[o])*i[o]+.5|0),t.maxValue)}}(this,a,s,n);break;default:throw new Error("level: algorithm not implement: ".concat(r))}return this}var Qi=r(66),$i=r.n(Qi);function Ji(t){if(isNaN(t)){if(t instanceof cu)return t.data;if(!$i()(t))throw new Error("checkNumberArray: the value should be either a number, array or Image");return t}if(t<=0)throw new Error("checkNumberArray: the value must be greater than 0");return t}function ta(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;if(this.checkProcessable("add",{bitDepth:[8,16]}),e=Ci(this,{channels:e}),t=Ji(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("add: the data size is different");for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<this.data.length;i+=this.channels)this.data[i+n]=Math.max(0,Math.min(this.maxValue,this.data[i+n]+t[i+n]>>0))}else for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<this.data.length;s+=this.channels)this.data[s+o]=Math.min(this.maxValue,this.data[s+o]+t>>0);return this}function ea(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;if(this.checkProcessable("subtract",{bitDepth:[8,16]}),e=Ci(this,{channels:e}),t=Ji(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("subtract: the data size is different");for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<this.data.length;i+=this.channels)this.data[i+n]=Math.max(0,Math.min(this.maxValue,this.data[i+n]-t[i+n]>>0))}else for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<this.data.length;s+=this.channels)this.data[s+o]=Math.max(0,this.data[s+o]-t>>0);return this}function ra(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.channels,n=e.absolute,i=void 0!==n&&n;if(this.checkProcessable("subtractImage",{bitDepth:[8,16]}),this.width!==t.width||this.height!==t.height)throw new Error("subtractImage: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("subtractImage: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("subtractImage: both images must have the same number of channels");var a=this.clone();r=Ci(this,{channels:r});for(var o=0;o<r.length;o++)for(var s=r[o];s<this.data.length;s+=this.channels){var u=this.data[s]-t.data[s];a.data[s]=i?Math.abs(u):Math.max(u,0)}return a}function na(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.bitDepth,n=void 0===r?this.bitDepth:r,i=e.channels;if(this.checkProcessable("hypotenuse",{bitDepth:[8,16,32]}),this.width!==t.width||this.height!==t.height)throw new Error("hypotenuse: both images must have the same size");if(this.alpha!==t.alpha||this.bitDepth!==t.bitDepth)throw new Error("hypotenuse: both images must have the same alpha and bitDepth");if(this.channels!==t.channels)throw new Error("hypotenuse: both images must have the same number of channels");var a=cu.createFrom(this,{bitDepth:n});i=Ci(this,{channels:i});for(var o=a.isClamped,s=0;s<i.length;s++)for(var u=i[s];u<this.data.length;u+=this.channels){var l=Math.hypot(this.data[u],t.data[u]);a.data[u]=o?Math.min(Math.max(Math.round(l),0),a.maxValue):l}return a}function ia(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;if(this.checkProcessable("multiply",{bitDepth:[8,16]}),t<=0)throw new Error("multiply: the value must be greater than 0");if(e=Ci(this,{channels:e}),t=Ji(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("multiply: the data size is different");for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<this.data.length;i+=this.channels)this.data[i+n]=Math.max(0,Math.min(this.maxValue,this.data[i+n]*t[i+n]>>0))}else for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<this.data.length;s+=this.channels)this.data[s+o]=Math.min(this.maxValue,this.data[s+o]*t>>0);return this}function aa(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).channels;if(this.checkProcessable("divide",{bitDepth:[8,16]}),e=Ci(this,{channels:e}),t=Ji(t),isNaN(t)){if(this.data.length!==t.length)throw new Error("divide: the: the data size is different");for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<this.data.length;i+=this.channels)this.data[i+n]=Math.max(0,Math.min(this.maxValue,this.data[i+n]/t[i+n]>>0))}else for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<this.data.length;s+=this.channels)this.data[s+o]=Math.min(this.maxValue,this.data[s+o]/t>>0);return this}var oa=r(14),sa=function(){function t(){if(Object(s.a)(this,t),(this instanceof t?this.constructor:void 0)===t)throw new Error("BaseRegression must be subclassed")}return Object(u.a)(t,[{key:"predict",value:function(t){if("number"===typeof t)return this._predict(t);if(Object(oa.a)(t)){for(var e=[],r=0;r<t.length;r++)e.push(this._predict(t[r]));return e}throw new TypeError("x must be a number or array")}},{key:"_predict",value:function(){throw new Error("_predict must be implemented")}},{key:"train",value:function(){}},{key:"toString",value:function(){return""}},{key:"toLaTeX",value:function(){return""}},{key:"score",value:function(t,e){if(!Object(oa.a)(t)||!Object(oa.a)(e)||t.length!==e.length)throw new Error("x and y must be arrays of the same length");for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=this._predict(t[i]);for(var a=0,o=0,s=0,u=0,l=0,h=0,c=0,f=0;f<r;f++)a+=n[f],o+=e[f],l+=n[f]*n[f],h+=e[f]*e[f],c+=n[f]*e[f],0!==e[f]&&(s+=(e[f]-n[f])*(e[f]-n[f])/e[f]),u+=(e[f]-n[f])*(e[f]-n[f]);var d=(r*c-a*o)/Math.sqrt((r*l-a*a)*(r*h-o*o));return{r:d,r2:d*d,chi2:s,rmsd:Math.sqrt(u/r)}}}]),t}(),ua=(r(15),r(4)),la=(r(53),r(36));var ha=r(38),ca=r.n(ha),fa={lambda:.1,kernelType:"gaussian",kernelOptions:{},computeCoefficient:!1},da=function(t){Object(w.a)(r,t);var e=Object(E.a)(r);function r(t,n,i){var a;if(Object(s.a)(this,r),a=e.call(this),!0===t)a.alpha=n.alpha,a.inputs=n.inputs,a.kernelType=n.kernelType,a.kernelOptions=n.kernelOptions,a.kernel=new ca.a(n.kernelType,n.kernelOptions);else{t=ua.b.checkMatrix(t),i=Object.assign({},fa,i);var o=new ca.a(i.kernelType,i.kernelOptions),u=o.compute(t),l=t.rows;u.add(ua.b.eye(l,l).mul(i.lambda)),a.alpha=Object(la.b)(u,n),a.inputs=t,a.kernelType=i.kernelType,a.kernelOptions=i.kernelOptions,a.kernel=o}return a}return Object(u.a)(r,[{key:"_predict",value:function(t){return this.kernel.compute([t],this.inputs).mmul(this.alpha).getRow(0)}},{key:"toJSON",value:function(){return{name:"kernelRidgeRegression",alpha:this.alpha,inputs:this.inputs,kernelType:this.kernelType,kernelOptions:this.kernelOptions}}}],[{key:"load",value:function(t){if("kernelRidgeRegression"!==t.name)throw new TypeError("not a KRR model");return new r(!0,t)}}]),r}(sa);function pa(t,e,r){for(var n=new da(t,e,r),i=new Array(this.size),a=0;a<this.width;a++)for(var o=0;o<this.height;o++)i[o*this.width+a]=[a,o];for(var s=n.predict(i),u=cu.createFrom(this),l=0;l<this.size;l++)u.data[l]=Math.min(this.maxValue,Math.max(0,s[l][0]));return u}function ma(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("dilate",{bitDepth:[1,8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("dilate: The number of rows and columns of the kernel must be odd");var a,o=!0,s=En(r);try{t:for(s.s();!(a=s.n()).done;){var u,l=En(a.value);try{for(l.s();!(u=l.n()).done;){if(1!==u.value){o=!1;break t}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}for(var h=this,c=0;c<i;c++)if(1===this.bitDepth)if(o){var f=h.clone();h=wa(h,f,r.length,r[0].length)}else{h=ya(h,cu.createFrom(h),r)}else if(o){h=va(h,cu.createFrom(h),r.length,r[0].length)}else{h=ga(h,cu.createFrom(h),r)}return h}function ga(t,e,r){for(var n=r.length,i=r[0].length,a=(n-1)/2,o=(i-1)/2,s=0;s<t.height;s++)for(var u=0;u<t.width;u++){for(var l=0,h=0;h<i;h++)for(var c=0;c<n;c++)if(1===r[c][h]){var f=c-a+u,d=h-o+s;if(!(f<0||d<0||f>=t.width||d>=t.height)){var p=t.getValueXY(f,d,0);p>l&&(l=p)}}e.setValueXY(u,s,0,l)}return e}function va(t,e,r,n){for(var i=(r-1)/2,a=(n-1)/2,o=[],s=0;s<t.width;s++)o.push(0);for(var u=0;u<t.height;u++){for(var l=0;l<t.width;l++){for(var h=0,c=Math.max(0,u-a);c<Math.min(t.height,u+a+1);c++){var f=t.getValueXY(l,c,0);f>h&&(h=f)}o[l]=h}for(var d=0;d<t.width;d++){for(var p=0,m=Math.max(0,d-i);m<Math.min(t.width,d+i+1);m++)o[m]>p&&(p=o[m]);e.setValueXY(d,u,0,p)}}return e}function ya(t,e,r){for(var n=r.length,i=r[0].length,a=(n-1)/2,o=(i-1)/2,s=0;s<t.height;s++)for(var u=0;u<t.width;u++){var l=0;t:for(var h=0;h<i;h++)for(var c=0;c<n;c++)if(1===r[c][h]){var f=c-a+u,d=h-o+s;if(!(d<0||f<0||f>=t.width||d>=t.height))if(1===t.getBitXY(f,d)){l=1;break t}}1===l&&e.setBitXY(u,s)}return e}function wa(t,e,r,n){for(var i=(r-1)/2,a=(n-1)/2,o=[],s=0;s<t.width;s++)o.push(1);for(var u=0;u<t.height;u++){for(var l=0;l<t.width;l++){o[l]=0;for(var h=Math.max(0,u-a);h<Math.min(t.height,u+a+1);h++)if(1===t.getBitXY(l,h)){o[l]=1;break}}for(var c=0;c<t.width;c++)if(1!==e.getBitXY(c,u))for(var f=Math.max(0,c-i);f<Math.min(t.width,c+i+1);f++)if(1===o[f]){e.setBitXY(c,u);break}}return e}function ba(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("erode",{bitDepth:[1,8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("erode: The number of rows and columns of the kernel must be odd");var a,o=!0,s=En(r);try{t:for(s.s();!(a=s.n()).done;){var u,l=En(a.value);try{for(l.s();!(u=l.n()).done;){if(1!==u.value){o=!1;break t}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){s.e(d)}finally{s.f()}for(var h=this,c=0;c<i;c++)if(1===this.bitDepth)if(o){var f=h.clone();h=Ma(h,f,r.length,r[0].length)}else{h=xa(h,cu.createFrom(h),r)}else if(o){h=_a(h,cu.createFrom(h),r.length,r[0].length)}else{h=ka(h,cu.createFrom(h),r)}return h}function ka(t,e,r){for(var n=r.length,i=r[0].length,a=(n-1)/2,o=(i-1)/2,s=0;s<t.height;s++)for(var u=0;u<t.width;u++){for(var l=t.maxValue,h=0;h<i;h++)for(var c=0;c<n;c++)if(1===r[c][h]){var f=c-a+u,d=h-o+s;if(!(f<0||d<0||f>=t.width||d>=t.height)){var p=t.getValueXY(f,d,0);p<l&&(l=p)}}e.setValueXY(u,s,0,l)}return e}function _a(t,e,r,n){for(var i=(r-1)/2,a=(n-1)/2,o=[],s=0;s<t.width;s++)o.push(0);for(var u=0;u<t.height;u++){for(var l=0;l<t.width;l++){for(var h=t.maxValue,c=Math.max(0,u-a);c<Math.min(t.height,u+a+1);c++){var f=t.getValueXY(l,c,0);f<h&&(h=f)}o[l]=h}for(var d=0;d<t.width;d++){for(var p=t.maxValue,m=Math.max(0,d-i);m<Math.min(t.width,d+i+1);m++)o[m]<p&&(p=o[m]);e.setValueXY(d,u,0,p)}}return e}function xa(t,e,r){for(var n=r.length,i=r[0].length,a=(n-1)/2,o=(i-1)/2,s=0;s<t.height;s++)for(var u=0;u<t.width;u++){var l=1;t:for(var h=0;h<i;h++)for(var c=0;c<n;c++)if(1===r[c][h]){var f=c-a+u,d=h-o+s;if(!(d<0||f<0||f>=t.width||d>=t.height))if(0===t.getBitXY(f,d)){l=0;break t}}1===l&&e.setBitXY(u,s)}return e}function Ma(t,e,r,n){for(var i=(r-1)/2,a=(n-1)/2,o=[],s=0;s<t.width;s++)o.push(0);for(var u=0;u<t.height;u++){for(var l=0;l<t.width;l++){o[l]=1;for(var h=Math.max(0,u-a);h<Math.min(t.height,u+a+1);h++)if(0===t.getBitXY(l,h)){o[l]=0;break}}for(var c=0;c<t.width;c++)if(0!==e.getBitXY(c,u))for(var f=Math.max(0,c-i);f<Math.min(t.width,c+i+1);f++)if(0===o[f]){e.clearBitXY(c,u);break}}return e}function Ea(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("open",{bitDepth:[8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("open: The number of rows and columns of the kernel must be odd");for(var a=this,o=0;o<i;o++)a=(a=a.erode({kernel:r})).dilate({kernel:r});return a}function Sa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("close",{bitDepth:[1,8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("close: The number of rows and columns of the kernel must be odd");for(var a=this,o=0;o<i;o++)a=a.dilate({kernel:r}).erode({kernel:r});return a}function Aa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("topHat",{bitDepth:[8,16],components:1,alpha:0}),r.length%2===0||r[0].length%2===0)throw new TypeError("topHat: The number of rows and columns of the kernel must be odd");for(var a=this,o=0;o<i;o++){var s=a.open({kernel:r});a=s.subtractImage(a,{absolute:!0})}return a}function Pa(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("blackHat",{bitDepth:[8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("blackHat: The number of rows and columns of the kernel must be odd");for(var a=this,o=0;o<i;o++){var s=a.close({kernel:r});a=s.subtractImage(a,{absolute:!0})}return a}function Ca(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.kernel,r=void 0===e?[[1,1,1],[1,1,1],[1,1,1]]:e,n=t.iterations,i=void 0===n?1:n;if(this.checkProcessable("morphologicalGradient",{bitDepth:[8,16],components:1,alpha:0}),r.columns%2===0||r.rows%2===0)throw new TypeError("morphologicalGradient: The number of rows and columns of the kernel must be odd");for(var a=this,o=0;o<i;o++){var s=a.dilate({kernel:r}),u=a.erode({kernel:r});a=s.subtractImage(u,{absolute:!0})}return a}var Oa=r(8);function Da(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function Ia(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ta(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ra(t,e,r,n,i,a,o,s,u,l,h,c){var f=(r*t+n*e+i)/(u*t+l*e+1),d=(a*t+o*e+s)/(u*t+l*e+1);return h.getValueXY(Math.floor(f),Math.floor(d),c)}function Ua(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).calculateRatio,r=void 0===e||e;if(4!==t.length)throw new Error("The array pts must have four elements, which are the four corners. Currently, pts have ".concat(t.length," elements"));var n,i,a=Object(Oa.a)(t,4),o=function(t){for(var e=0,r=0,n=0,i=0,a=t[0][0],o=0,s=1;s<t.length;s++)t[s][0]<a&&(a=t[s][0],o=s);for(var u=t[(o+1)%t.length][0],l=(o+1)%t.length,h=1;h<t.length;h++)t[h][0]<u&&h!==o&&(u=t[h][0],l=h);return t[l][1]<t[o][1]?(e=t[l],i=t[o],o!==(l+1)%4?(r=t[(l+1)%4],n=t[(l+2)%4]):(r=t[(l+2)%4],n=t[(l+3)%4])):(i=t[l],e=t[o],l!==(o+1)%4?(r=t[(o+1)%4],n=t[(o+2)%4]):(r=t[(o+2)%4],n=t[(o+3)%4])),[e,r,n,i]}([a[0],a[1],a[2],a[3]]),s=Object(Oa.a)(o,4),u=s[0],l=s[1],h=s[2],c=s[3];if(r){var f=function(t,e,r,n,i,a){var o=Math.max(Da(t,e),Da(n,r)),s=Math.max(Da(t,n),Da(e,r)),u=0,l=0,h=Math.ceil(i/2),c=Math.ceil(a/2),f=o/s,d=[t[0],t[1],1],p=[e[0],e[1],1],m=[n[0],n[1],1],g=[r[0],r[1],1],v=Ta(Ia(d,g),m)/Ta(Ia(p,g),m),y=Ta(Ia(d,g),p)/Ta(Ia(m,g),p),w=[v*p[0]-d[0],v*p[1]-d[1],v*p[2]-d[2]],b=[y*m[0]-d[0],y*m[1]-d[1],y*m[2]-d[2]],k=w[0],_=w[1],x=w[2],M=b[0],E=b[1],S=b[2],A=1/(x*S)*(k*M-(k*S+x*M)*h+x*S*h*h+(_*E-(_*S+x*E)*c+x*S*c*c));A=A>=0?Math.sqrt(A):Math.sqrt(-A);var P=new ua.b([[A,0,h],[0,A,c],[0,0,1]]),C=P.transpose(),O=Object(la.a)(C),D=Object(la.a)(P),I=ua.b.rowVector(w),T=ua.b.rowVector(b),R=Math.sqrt(Ta(I.mmul(O).mmul(D).to1DArray(),w)/Ta(T.mmul(O).mmul(D).to1DArray(),b));return 0===R||0===f?(u=Math.ceil(o),l=Math.ceil(s)):R<f?(u=Math.ceil(o),l=Math.ceil(u/R)):(l=Math.ceil(s),u=Math.ceil(R*l)),[u,l]}(u,l,h,c,this.width,this.height),d=Object(Oa.a)(f,2);n=d[0],i=d[1]}else n=Math.ceil(Math.max(Da(u,l),Da(c,h))),i=Math.ceil(Math.max(Da(u,c),Da(l,h)));for(var p=cu.createFrom(this,{width:n,height:i}),m=Object(Oa.a)(u,2),g=m[0],v=m[1],y=Object(Oa.a)(l,2),w=y[0],b=y[1],k=Object(Oa.a)(h,2),_=k[0],x=k[1],M=Object(Oa.a)(c,2),E=M[0],S=M[1],A=n-1,P=i-1,C=n-1,O=i-1,D=new ua.b([[0,0,1,0,0,0,-0*g,-0*g],[0,A,1,0,0,0,-0*w,-A*w],[P,C,1,0,0,0,-P*_,-0*_],[O,0,1,0,0,0,-O*E,-0*E],[0,0,0,0,0,1,-0*v,-0*v],[0,0,0,0,A,1,-0*b,-A*b],[0,0,0,P,C,1,-P*x,-C*x],[0,0,0,O,0,1,-O*S,-0*S]]),I=ua.b.columnVector([g,w,_,E,v,b,x,S]),T=new Yi.a(D).solve(I).to1DArray(),R=Object(Oa.a)(T,8),U=R[0],j=R[1],L=R[2],B=R[3],N=R[4],F=R[5],z=R[6],V=R[7],Y=new ua.b(i,n),X=0;X<this.channels;X++){for(var q=0;q<i;q++)for(var H=0;H<n;H++)Y.set(q,H,Ra(q,H,U,j,L,B,N,F,z,V,this,X));p.setMatrix(Y,{channel:X})}return p}function ja(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,a=t.width,o=void 0===a?this.width-r:a,s=t.height,u=void 0===s?this.height-i:s;if(this.checkProcessable("max",{bitDepth:[8,16]}),r=Math.round(r),i=Math.round(i),o=Math.round(o),u=Math.round(u),r>this.width-1||i>this.height-1)throw new RangeError("crop: origin (x:".concat(r,", y:").concat(i,") out of range (").concat(this.width-1,"; ").concat(this.height-1,")"));if(o<=0||u<=0)throw new RangeError("crop: width and height (width:".concat(o,"; height:").concat(u,") must be positive numbers"));if(r<0||i<0)throw new RangeError("crop: x and y (x:".concat(r,", y:").concat(i,") must be positive numbers"));if(o>this.width-r||u>this.height-i)throw new RangeError("crop: (x: ".concat(r,", y:").concat(i,", width:").concat(o,", height:").concat(u,") size is out of range"));for(var l=cu.createFrom(this,{width:o,height:u,position:[r,i]}),h=o*this.channels,c=i+u,f=0,d=r*this.channels,p=i;p<c;p++)for(var m=p*this.width*this.channels+d,g=m+h;m<g;m++)l.data[f++]=this.data[m];return l}function La(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.checkProcessable("cropAlpha",{alpha:1});var e=t.threshold,r=void 0===e?this.maxValue:e,n=function(t,e,r){for(var n=0;n<t.width;n++)for(var i=0;i<t.height;i++)if(t.getValueXY(n,i,r)>=e)return n;return-1}(this,r,this.components);if(-1===n)throw new Error("Could not find new dimensions. Threshold may be too high.");var i=function(t,e,r,n){for(var i=0;i<t.height;i++)for(var a=n;a<t.width;a++)if(t.getValueXY(a,i,r)>=e)return i;return-1}(this,r,this.components,n),a=function(t,e,r,n){for(var i=t.height-1;i>=0;i--)for(var a=n;a<t.width;a++)if(t.getValueXY(a,i,r)>=e)return i;return-1}(this,r,this.components,n),o=function(t,e,r,n,i,a){for(var o=t.width-1;o>=n;o--)for(var s=i;s<=a;s++)if(t.getValueXY(o,s,r)>=e)return o;return-1}(this,r,this.components,n,i,a);return this.crop({x:n,y:i,width:o-n+1,height:a-i+1})}function Ba(t,e,r){t=function(t){if("string"===typeof t){var e=t[t.length-1];t=parseFloat(t),"%"===e&&(t/=100)}return t}(t);var n=Math.round(t*e),i=Math.round(t*r);return n<=0&&(n=1),i<=0&&(i=1),{width:n,height:i}}function Na(t,e){if(e<0||e>=t.channels)throw new RangeError("channel must be included between 0 and ".concat(t.channels-1,". Current value: ").concat(e))}var Fa={nearestneighbor:"nearestNeighbor",nearestneighbour:"nearestNeighbor",bilinear:"bilinear"};function za(t){if("string"!==typeof t)throw new TypeError("interpolation must be a string");if(t=t.toLowerCase(),!Fa[t])throw new RangeError("invalid interpolation algorithm: ".concat(t));return Fa[t]}function Va(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.factor,r=void 0===e?1:e,n=t.interpolation,i=void 0===n?Fa.nearestneighbor:n,a=t.preserveAspectRatio,o=void 0===a||a,s=za(i),u=t.width,l=t.height;u||(u=l&&o?Math.round(l*(this.width/this.height)):this.width),l||(l=o?Math.round(u*(this.height/this.width)):this.height);var h=Ba(r,u,l);if(u=h.width,l=h.height,u===this.width&&l===this.height){var c=this.clone();return c.position=[0,0],c}var f=Math.round((this.width-u)/2),d=Math.round((this.height-l)/2),p=cu.createFrom(this,{width:u,height:l,position:[f,d]});switch(s){case Fa.nearestneighbor:(function(t,e,r){var n=this.width/e,i=this.height/r;if(this.bitDepth>1)for(var a=0;a<e;a++)for(var o=Math.floor((a+.5)*n),s=0;s<r;s++)for(var u=Math.floor((s+.5)*i),l=0;l<this.channels;l++)t.setValueXY(a,s,l,this.getValueXY(o,u,l));else for(var h=0;h<e;h++)for(var c=Math.floor((h+.5)*n),f=0;f<r;f++){var d=Math.floor((f+.5)*i);this.getBitXY(c,d)&&t.setBitXY(h,f)}}).call(this,p,u,l);break;default:throw new Error("unsupported resize interpolation: ".concat(s))}return p}function Ya(){this.checkProcessable("hsv",{bitDepth:[8,16],alpha:[0,1],colorModel:[ln]});for(var t=cu.createFrom(this,{colorModel:cn}),e=0,r=this.data,n=0;n<r.length;n+=this.channels){var i=r[n],a=r[n+1],o=r[n+2],s=Math.min(i,a,o),u=Math.max(i,a,o),l=u-s,h=0,c=0===u?0:l/u,f=u;if(u!==s){switch(u){case i:h=(a-o)/l+(a<o?6:0);break;case a:h=(o-i)/l+2;break;case o:h=(i-a)/l+4;break;default:throw new Error("unreachable")}h/=6}t.data[e++]=h*this.maxValue,t.data[e++]=c*this.maxValue,t.data[e++]=f,this.alpha&&(t.data[e++]=r[n+3])}return t}function Xa(){this.checkProcessable("hsl",{bitDepth:[8,16],alpha:[0,1],colorModel:[ln]});for(var t=cu.createFrom(this,{colorModel:hn}),e=Math.floor(this.maxValue/2),r=0,n=this.data,i=0;i<n.length;i+=this.channels){var a=n[i],o=n[i+1],s=n[i+2],u=Math.max(a,o,s),l=Math.min(a,o,s),h=0,c=0,f=(u+l)/2;if(u!==l){var d=u-l;switch(c=f>e?d/(2-u-l):d/(u+l),u){case a:h=(o-s)/d+(o<s?6:0);break;case o:h=(s-a)/d+2;break;case s:h=(a-o)/d+4;break;default:throw new Error("unreachable")}h/=6}t.data[r++]=h*this.maxValue,t.data[r++]=c*this.maxValue,t.data[r++]=f,this.alpha&&(t.data[r++]=n[i+3])}return t}function qa(){this.checkProcessable("cmyk",{bitDepth:[8,16],alpha:[0,1],colorModel:[ln]});for(var t=cu.createFrom(this,{components:4,colorModel:fn}),e=0,r=this.data,n=0;n<r.length;n+=this.channels){var i=r[n],a=r[n+1],o=r[n+2],s=Math.min(this.maxValue-i,this.maxValue-a,this.maxValue-o),u=(this.maxValue-i-s)/(1-s/this.maxValue),l=(this.maxValue-a-s)/(1-s/this.maxValue),h=(this.maxValue-o-s)/(1-s/this.maxValue);t.data[e++]=Math.round(u),t.data[e++]=Math.round(l),t.data[e++]=Math.round(h),t.data[e++]=Math.round(s),this.alpha&&(t.data[e++]=r[n+3])}return t}function Ha(){return new cu(this.width,this.height,this.getRGBAData(),{kind:"RGBA",parent:this})}var Ga={luma709:function(t,e,r){return 6966*t+23436*e+2366*r>>15},luma601:function(t,e,r){return 9798*t+19235*e+3735*r>>15},maximum:function(t,e,r){return Math.max(t,e,r)},minimum:function(t,e,r){return Math.min(t,e,r)},average:function(t,e,r){return(t+e+r)/3>>0},minmax:function(t,e,r){return(Math.max(t,e,r)+Math.min(t,e,r))/2},red:function(t){return t},green:function(t,e){return e},blue:function(t,e,r){return r},cyan:function(t,e,r,n){var i=Ga.black(t,e,r,n);return(n.maxValue-t-i)/(1-i/n.maxValue)>>0},magenta:function(t,e,r,n){var i=Ga.black(t,e,r,n);return(n.maxValue-e-i)/(1-i/n.maxValue)>>0},yellow:function(t,e,r,n){var i=Ga.black(t,e,r,n);return(n.maxValue-r-i)/(1-i/n.maxValue)>>0},black:function(t,e,r,n){return Math.min(n.maxValue-t,n.maxValue-e,n.maxValue-r)},hue:function(t,e,r,n){var i=Ga.min(t,e,r),a=Ga.max(t,e,r);if(a===i)return 0;var o=0,s=a-i;switch(a){case t:o=(e-r)/s+(e<r?6:0);break;case e:o=(r-t)/s+2;break;case r:o=(t-e)/s+4;break;default:throw new Error("unreachable")}return o/6*n.maxValue>>0},saturation:function(t,e,r,n){var i=Ga.min(t,e,r),a=Ga.max(t,e,r);return 0===a?0:(a-i)/a*n.maxValue},lightness:function(t,e,r){var n=Ga.min(t,e,r);return(Ga.max(t,e,r)+n)/2}};Object.defineProperty(Ga,"luminosity",{enumerable:!1,value:Ga.lightness}),Object.defineProperty(Ga,"luminance",{enumerable:!1,value:Ga.lightness}),Object.defineProperty(Ga,"min",{enumerable:!1,value:Ga.minimum}),Object.defineProperty(Ga,"max",{enumerable:!1,value:Ga.maximum}),Object.defineProperty(Ga,"brightness",{enumerable:!1,value:Ga.maximum});var Wa={};function Ka(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithm,r=void 0===e?"luma709":e,n=t.keepAlpha,i=void 0!==n&&n,a=t.mergeAlpha,o=void 0===a||a;if("string"!==typeof r&&"function"!==typeof r)throw new TypeError("algorithm must be a string or a function");this.checkProcessable("grey",{bitDepth:[8,16],alpha:[0,1]}),1===this.components&&(r="red"),i&=this.alpha,o&=this.alpha,i&&(o=!1);var s,u=bi(this,t,{components:1,alpha:i,colorModel:un});if("function"===typeof r)s=r;else if(!(s=Ga[r.toLowerCase()]))throw new Error("unsupported grey algorithm: ".concat(r));for(var l=0,h=0;h<this.data.length;h+=this.channels)o?u.data[l++]=Fi(s(this.data[h],this.data[h+1],this.data[h+2],this)*this.data[h+this.components]/this.maxValue,this):(u.data[l++]=Fi(s(this.data[h],this.data[h+1],this.data[h+2],this),this),u.alpha&&(u.data[l++]=this.data[h+this.components]));return u}function Za(t){for(var e=!1,r=0,n=1;n<t.length-1;n++)if(t[n-1]<t[n]&&t[n+1]<t[n]&&++r>2)return!1;return 2===r&&(e=!0),e}function Qa(t,e){for(var r=0,n=0;n<=e;n++)r+=t[n];return r}function $a(t,e){for(var r=0,n=0;n<=e;n++)r+=n*t[n];return r}function Ja(t,e){for(var r=0,n=0;n<=e;n++)r+=n*n*t[n];return r}function to(t){for(var e=new Array(t.length),r=1;r<t.length-1;r++)e[r]=(t[r-1]+t[r]+t[r+1])/3;return e[0]=(t[0]+t[1])/3,e[t.length-1]=(t[t.length-2]+t[t.length-1])/3,e}function eo(t){for(var e=t.length,r=!1,n=0,i=1;i<e-1;i++)if(t[i-1]<t[i]&&t[i+1]<t[i]&&++n>2)return!1;return 2===n&&(r=!0),r}function ro(t,e){for(var r=0,n=0;n<=e;n++)r+=t[n];return r}Object.keys(Ga).forEach(function(t){Wa[t]=t});var no={huang:function(t){for(var e=0,r=0;r<t.length;r++)if(0!==t[r]){e=r;break}for(var n=t.length-1,i=t.length-1;i>=e;i--)if(0!==t[i]){n=i;break}for(var a=1/(n-e),o=new Array(t.length),s=0,u=0,l=e;l<t.length;l++)s+=l*t[l],u+=t[l],o[l]=s/u;var h=new Array(t.length);s=u=0;for(var c=n;c>0;c--)s+=c*t[c],u+=t[c],h[c-1]=s/u;for(var f=-1,d=Number.MAX_VALUE,p=0;p<t.length;p++){for(var m=0,g=void 0,v=0;v<=p;v++)(g=1/(1+a*Math.abs(v-o[p])))<1e-6||g>.999999||(m+=t[v]*(-g*Math.log(g)-(1-g)*Math.log(1-g)));for(var y=p+1;y<t.length;y++)(g=1/(1+a*Math.abs(y-h[p])))<1e-6||g>.999999||(m+=t[y]*(-g*Math.log(g)-(1-g)*Math.log(1-g)));m<d&&(d=m,f=p)}return f},intermodes:function(t){for(var e=t.slice(),r=0;!Za(e);){for(var n=0,i=0,a=e[0],o=0;o<t.length-1;o++)n=i,i=a,a=e[o+1],e[o]=(n+i+a)/3;if(e[t.length-1]=(i+a)/3,++r>1e4)throw new Error("Intermodes Threshold not found after 10000 iterations")}for(var s=0,u=1;u<t.length-1;u++)e[u-1]<e[u]&&e[u+1]<e[u]&&(s+=u);return Math.floor(s/2)},isodata:function(t){for(var e,r,n,i,a=0,o=1;o<t.length;o++)if(t[o]>0){a=o+1;break}for(;;){e=0,n=0;for(var s=0;s<a;s++)n+=t[s],e+=t[s]*s;i=0,r=0;for(var u=a+1;u<t.length;u++)r+=t[u],i+=t[u]*u;if(n>0&&r>0&&(e/=n,i/=r,a===Math.round((e+i)/2)))break;if(++a>t.length-2)throw new Error("Threshold not found")}return a},li:function(t,e){var r,n,i,a,o,s,u,l,h,c,f;c=0;for(var d=0;d<t.length;d++)c+=d*t[d];u=c/=e;do{r=(s=u)+.5|0,n=0,a=0;for(var p=0;p<=r;p++)n+=p*t[p],a+=t[p];l=0===a?0:n/a,i=0,o=0;for(var m=r+1;m<t.length;m++)i+=m*t[m],o+=t[m];u=(f=(l-(h=0===o?0:i/o))/(Math.log(l)-Math.log(h)))<-Number.EPSILON?f-.5|0:f+.5|0}while(Math.abs(u-s)>.5);return r},maxentropy:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n]/e;var i=new Array(t.length),a=new Array(t.length);i[0]=r[0],a[0]=1-i[0];for(var o=1;o<t.length;o++)i[o]=i[o-1]+r[o],a[o]=1-i[o];for(var s=0,u=0;u<t.length;u++)if(Math.abs(i[u])>=Number.EPSILON){s=u;break}for(var l=t.length-1,h=t.length-1;h>=s;h--)if(Math.abs(a[h])>=Number.EPSILON){l=h;break}for(var c,f,d,p=-1,m=Number.MIN_VALUE,g=s;g<=l;g++){f=0;for(var v=0;v<=g;v++)0!==t[v]&&(f-=r[v]/i[g]*Math.log(r[v]/i[g]));d=0;for(var y=g+1;y<t.length;y++)0!==t[y]&&(d-=r[y]/a[g]*Math.log(r[y]/a[g]));m<(c=f+d)&&(m=c,p=g)}return p},mean:function(t,e){for(var r=0,n=0;n<t.length;n++)r+=n*t[n];return Math.floor(r/e)},minerror:function(t,e){for(var r,n,i,a,o,s,u,l,h,c,f,d=-2,p=0,m=0;m<t.length;m++)p+=m*t[m];for(r=p/=e;r!==d;){var g=Qa(t,r),v=Qa(t,t.length-1),y=$a(t,r),w=$a(t,t.length-1),b=Ja(t,r);if(a=g/v,o=(v-g)/v,(c=(h=(n=y/g)/(s=b/g-n*n)-(i=(w-y)/(v-g))/(u=(Ja(t,t.length-1)-b)/(v-g)-i*i))*h-(l=1/s-1/u)*(n*n/s-i*i/u+Math.log10(s*(o*o)/(u*(a*a)))))<0)return r;d=r,f=(h+Math.sqrt(c))/l,r=isNaN(f)?d:Math.floor(f)}return r},minimum:function(t){if(t.length<2)return 0;for(var e=0,r=-1,n=-1,i=new Array(t.length),a=0;a<t.length;a++)i[a]=t[a],t[a]>0&&(n=a);for(;!eo(i);)if(i=to(i),++e>1e4)return r;return r=function(t,e){for(var r,n=1;n<e;n++)if(t[n-1]>t[n]&&t[n+1]>=t[n]){r=n;break}return r}(i,n)},moments:function(t,e){for(var r,n,i,a,o,s,u=0,l=0,h=0,c=0,f=-1,d=t.length,p=new Array(d),m=0;m<d;m++)p[m]=t[m]/e;for(var g=0;g<d;g++)u+=g*p[g],l+=g*g*p[g],h+=g*g*g*p[g];i=(-l*l+u*h)/(n=1*l-u*u),o=.5*(-(a=(1*-h+l*u)/n)-Math.sqrt(a*a-4*i)),r=((s=.5*(-a+Math.sqrt(a*a-4*i)))-u)/(s-o);for(var v=0;v<d;v++)if((c+=p[v])>r){f=v;break}return f},otsu:function(t,e){for(var r=0,n=0,i=0,a=0,o=0,s=0;s<t.length;s++)o+=s*t[s];for(var u=0;u<t.length;u++){var l=e-(n+=t[u]);if(0!==n&&0!==l){var h=(o-(r+=u*t[u]))/l,c=n*l*(r/n-h)*(r/n-h);c>=i&&(a=u,i=c)}}return a},percentile:function(t){for(var e=-1,r=new Array(t.length),n=ro(t,t.length-1),i=1,a=0;a<t.length;a++)r[a]=Math.abs(ro(t,a)/n-.5),r[a]<i&&(i=r[a],e=a);return e},renyientropy:function(t,e){for(var r,n,i=new Array(t.length),a=new Array(t.length),o=new Array(t.length),s=0,u=0,l=0,h=0,c=0,f=0,d=0;d<t.length;d++)i[d]=t[d]/e;a[0]=i[0],o[0]=1-a[0];for(var p=1;p<t.length;p++)a[p]=a[p-1]+i[p],o[p]=1-a[p];r=0;for(var m=0;m<t.length;m++)if(Math.abs(a[m])>=Number.EPSILON){r=m;break}n=t.length-1;for(var g=t.length-1;g>=r;g--)if(Math.abs(o[g])>=Number.EPSILON){n=g;break}for(var v=r;v<=n;v++){for(var y=0,w=0,b=0,k=0;k<=v;k++)0!==t[k]&&(y-=i[k]/a[v]*Math.log(i[k]/a[v])),w+=Math.sqrt(i[k]/a[v]),b+=i[k]*i[k]/(a[v]*a[v]);for(var _=0,x=0,M=0,E=v+1;E<t.length;E++)0!==t[E]&&(_-=i[E]/o[v]*Math.log(i[E]/o[v])),x+=Math.sqrt(i[E]/o[v]),M+=i[E]*i[E]/(o[v]*o[v]);var S=y+_,A=2*(w*x>0?Math.log(w*x):0),P=-1*(b*M>0?Math.log(b*M):0);S>h&&(h=S,s=v),A>c&&(c=A,u=v),P>f&&(f=P,l=v)}var C,O=[s,u,l];O.sort(function(t,e){return t-e}),C=Math.abs(O[0]-O[1])<=5?Math.abs(O[1]-O[2])<=5?[1,2,1]:[0,1,3]:Math.abs(O[1]-O[2])<=5?[3,1,0]:[1,2,1];var D=a[O[2]]-a[O[0]];return Math.round(O[0]*(a[O[0]]+.25*D*C[0])+.25*O[1]*D*C[1]+O[2]*(o[O[2]]+.25*D*C[2]))},shanbhag:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n]/e;var i=new Array(t.length),a=new Array(t.length);i[0]=r[0],a[0]=1-i[0];for(var o=1;o<t.length;o++)i[o]=i[o-1]+r[o],a[o]=1-i[o];for(var s=0,u=0;u<t.length;u++)if(Math.abs(i[u])>=Number.EPSILON){s=u;break}for(var l=t.length-1,h=t.length-1;h>=s;h--)if(Math.abs(a[h])>=Number.EPSILON){l=h;break}for(var c,f,d,p,m=-1,g=Number.MAX_VALUE,v=s;v<=l;v++){d=0,c=.5/i[v];for(var y=1;y<=v;y++)d-=r[y]*Math.log(1-c*i[y-1]);d*=c,p=0,c=.5/a[v];for(var w=v+1;w<t.length;w++)p-=r[w]*Math.log(1-c*a[w]);p*=c,(f=Math.abs(d-p))<g&&(g=f,m=v)}return m},triangle:function(t){for(var e=0,r=0,n=0,i=0,a=0;a<t.length;a++)if(t[a]>0){e=a;break}e>0&&e--;for(var o=t.length-1;o>0;o--)if(t[o]>0){i=o;break}i<t.length-1&&i++;for(var s=0;s<t.length;s++)t[s]>r&&(n=s,r=t[s]);var u,l,h,c=!1;if(n-e<i-n){c=!0;for(var f=0,d=t.length-1;f<d;){var p=t[f];t[f]=t[d],t[d]=p,f++,d--}e=t.length-1-i,n=t.length-1-n}if(e===n)return e;u=t[n],l=e-n,h=(u/=h=Math.sqrt(u*u+l*l))*e+(l/=h)*t[e];for(var m=e,g=0,v=e+1;v<=n;v++){var y=u*v+l*t[v]-h;y>g&&(m=v,g=y)}if(m--,c){for(var w=0,b=t.length-1;w<b;){var k=t[w];t[w]=t[b],t[b]=k,w++,b--}return t.length-1-m}return m},yen:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n]/e;var i=new Array(t.length);i[0]=r[0];for(var a=1;a<t.length;a++)i[a]=i[a-1]+r[a];var o=new Array(t.length);o[0]=r[0]*r[0];for(var s=1;s<t.length;s++)o[s]=o[s-1]+r[s]*r[s];var u=new Array(t.length);u[t.length-1]=0;for(var l=t.length-2;l>=0;l--)u[l]=u[l+1]+r[l+1]*r[l+1];for(var h,c=-1,f=Number.MIN_VALUE,d=0;d<t.length;d++)(h=-1*(o[d]*u[d]>0?Math.log(o[d]*u[d]):0)+2*(i[d]*(1-i[d])>0?Math.log(i[d]*(1-i[d])):0))>f&&(f=h,c=d);return c}},io={};function ao(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).algorithm,e=void 0===t?io.otsu:t;this.checkProcessable("getThreshold",{components:1,bitDepth:[8,16]});var r=no[e.toLowerCase()];if(r)return r(this.getHistogram(),this.size);throw new Error("unknown thresholding algorithm: ".concat(e))}Object.keys(no).forEach(function(t){io[t]=t});var oo="threshold";function so(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithm,r=void 0===e?oo:e,n=t.threshold,i=void 0===n?.5:n,a=t.useAlpha,o=void 0===a||a,s=t.invert,u=void 0!==s&&s;this.checkProcessable("mask",{components:1,bitDepth:[8,16]}),i=r===oo?function(t,e){if(!e)throw Error("getThreshold : the maxValue should be specified");if("string"===typeof t){if("%"!==t[t.length-1])throw Error("getThreshold : if the value is a string it must finish by %");return parseFloat(t)/100*e}if("number"===typeof t)return t<1?t*e:t;throw Error("getThreshold : the value is not valid")}(i,this.maxValue):ao.call(this,t);var l=new cu(this.width,this.height,{kind:"BINARY",parent:this}),h=0;if(this.alpha&&o)for(var c=0;c<this.data.length;c+=this.channels){var f=this.data[c]+(this.maxValue-this.data[c])*(this.maxValue-this.data[c+1])/this.maxValue;(u&&f<=i||!u&&f>=i)&&l.setBit(h),h++}else for(var d=0;d<this.data.length;d+=this.channels)(u&&this.data[d]<=i||!u&&this.data[d]>=i)&&l.setBit(h),h++;return l}function uo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.size,r=void 0===e?0:e,n=t.algorithm,i=void 0===n?"copy":n,a=t.color;if(this.checkProcessable("pad",{bitDepth:[8,16]}),"set"===i){if(a.length!==this.channels)throw new Error("pad: the color array must have the same length as the number of channels. Here: ".concat(this.channels));for(var o=0;o<a.length;o++)0===a[o]&&(a[o]=.001)}else a=Ki()(this.channels,null);Array.isArray(r)||(r=[r,r]);var s=this.width+2*r[0],u=this.height+2*r[1],l=this.channels,h=cu.createFrom(this,{width:s,height:u});!function(t,e,r,n){for(var i=t.width,a=t.height,o=e.width,s=t.channels,u=0;u<i;u++)for(var l=0;l<a;l++)for(var h=0;h<s;h++){var c=(l*i+u)*s+h,f=((n+l)*o+r+u)*s+h;e.data[f]=t.data[c]}}(this,h,r[0],r[1]);for(var c=r[0];c<s-r[0];c++)for(var f=0;f<l;f++){for(var d=a[f]||h.data[(r[1]*s+c)*l+f],p=0;p<r[1];p++)h.data[(p*s+c)*l+f]=d;d=a[f]||h.data[((u-r[1]-1)*s+c)*l+f];for(var m=u-r[1];m<u;m++)h.data[(m*s+c)*l+f]=d}for(var g=0;g<u;g++)for(var v=0;v<l;v++){for(var y=a[v]||h.data[(g*s+r[0])*l+v],w=0;w<r[0];w++)h.data[(g*s+w)*l+v]=y;y=a[v]||h.data[(g*s+s-r[0]-1)*l+v];for(var b=s-r[0];b<s;b++)h.data[(g*s+b)*l+v]=y}return h}function lo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(this.checkProcessable("colorDepth",{bitDepth:[1,8,16]}),![8,16].includes(t))throw Error("You need to specify the new colorDepth as 8 or 16");if(this.bitDepth===t)return this.clone();var e=cu.createFrom(this,{bitDepth:t});switch(t){case 8:if(1===this.bitDepth)for(var r=0;r<this.size;r++)this.getBit(r)&&(e.data[r]=255);else for(var n=0;n<this.data.length;n++)e.data[n]=this.data[n]>>8;break;case 16:if(1===this.bitDepth)for(var i=0;i<this.size;i++)this.getBit(i)&&(e.data[i]=65535);else for(var a=0;a<this.data.length;a++)e.data[a]=this.data[a]<<8|this.data[a];break;default:throw new Error("colorDepth conversion unexpected case")}return e}function ho(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.interpolation,n=void 0===r?Fa.nearestneighbor:r,i=e.width,a=void 0===i?this.width:i,o=e.height,s=void 0===o?this.height:o;if("number"!==typeof t)throw new TypeError("degrees must be a number");var u=za(n),l=t*Math.PI/180,h=Math.floor(Math.abs(a*Math.cos(l))+Math.abs(s*Math.sin(l))),c=Math.floor(Math.abs(s*Math.cos(l))+Math.abs(a*Math.sin(l))),f=cu.createFrom(this,{width:h,height:c}),d=Math.cos(-l),p=Math.sin(-l),m=h/2,g=c/2;h%2===0?(m-=.5,c%2===0?g-=.5:g=Math.floor(g)):(m=Math.floor(m),c%2===0?g-=.5:g=Math.floor(g));var v=Math.floor(a/2-m),y=Math.floor(s/2-g);switch(u){case Fa.nearestneighbor:return function(t,e,r,n,i,a,o,s){for(var u=0;u<e.width;u+=1)for(var l=0;l<e.height;l+=1)for(var h=0;h<t.channels;h++){var c=Math.round((u-i)*o-(l-a)*s+i)+r,f=Math.round((l-a)*o+(u-i)*s+a)+n;c<0||c>=t.width||f<0||f>=t.height?1===t.alpha&&h===t.channels-1?e.setValueXY(u,l,h,0):e.setValueXY(u,l,h,t.maxValue):e.setValueXY(u,l,h,t.getValueXY(c,f,h))}return e}(this,f,v,y,m,g,d,p);case Fa.bilinear:return function(t,e,r,n,i,a,o,s){for(var u=t.width*t.channels,l=0;l<e.height;l++)for(var h=0;h<e.width;h++)for(var c=(h-i)*o-(l-a)*s+i+r,f=(l-a)*o+(h-i)*s+a+n,d=0|c,p=0|f,m=c-d,g=f-p,v=0;v<t.channels;v++)if(c<0||c>=t.width||f<0||f>=t.height)1===t.alpha&&v===t.channels-1?e.setValueXY(h,l,v,0):e.setValueXY(h,l,v,t.maxValue);else{var y=(p*t.width+d)*t.channels+v,w=t.data[y],b=t.data[y+t.channels],k=t.data[y+u],_=t.data[y+u+t.channels],x=w+m*(b-w)+g*(k-w)+m*g*(w-b-k+_)|0;e.setValueXY(h,l,v,x)}return e}(this,f,v,y,m,g,d,p);default:throw new Error("unsupported rotate interpolation: ".concat(u))}}function co(t,e){if("number"!==typeof t)throw new TypeError("angle must be a number");switch(t<0&&(t=360*Math.ceil(-t/360)+t),t%360){case 0:return this.clone();case 90:return po.call(this);case 180:return function(){for(var t=cu.createFrom(this),e=t.width-1,r=t.height-1,n=0;n<this.height;n++)for(var i=0;i<this.width;i++)for(var a=0;a<this.channels;a++)t.setValueXY(e-i,r-n,a,this.getValueXY(i,n,a));return t}.call(this);case 270:return fo.call(this);default:return ho.call(this,t,e)}}function fo(){for(var t=cu.createFrom(this,{width:this.height,height:this.width}),e=t.height-1,r=0;r<this.height;r++)for(var n=0;n<this.width;n++)for(var i=0;i<this.channels;i++)t.setValueXY(r,e-n,i,this.getValueXY(n,r,i));return t}function po(){for(var t=cu.createFrom(this,{width:this.height,height:this.width}),e=t.width-1,r=0;r<this.height;r++)for(var n=0;n<this.width;n++)for(var i=0;i<this.channels;i++)t.setValueXY(e-r,n,i,this.getValueXY(n,r,i));return t}function mo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=wi(t);this.checkProcessable("insert",r);var n=e.x,i=void 0===n?0:n,a=e.y,o=void 0===a?0:a,s=ki(this,e,{copy:!0}),u=Math.min(s.height,o+t.height),l=Math.min(s.width,i+t.width);if(1===s.bitDepth)for(var h=o;h<u;h++)for(var c=i;c<l;c++){t.getBitXY(c-i,h-o)?s.setBitXY(c,h):s.clearBitXY(c,h)}else for(var f=o;f<u;f++)for(var d=i;d<l;d++)s.setPixelXY(d,f,t.getPixelXY(d-i,f-o));return s}function go(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.size,r=void 0===e?0:e,n=t.algorithm,i=void 0===n?"copy":n,a=t.color;if(this.checkProcessable("setBorder",{bitDepth:[8,16,32,64]}),"set"===i){if(a.length!==this.channels)throw new Error("setBorder: the color array must have the same length as the number of channels. Here: ".concat(this.channels));for(var o=0;o<a.length;o++)0===a[o]&&(a[o]=.001)}else a=Ki()(this.channels,null);Array.isArray(r)||(r=[r,r]);for(var s=r[0],u=r[1],l=this.channels,h=s;h<this.width-s;h++)for(var c=0;c<l;c++){for(var f=a[c]||this.data[(h+this.width*u)*l+c],d=0;d<u;d++)this.data[(d*this.width+h)*l+c]=f;f=a[c]||this.data[(h+this.width*(this.height-u-1))*l+c];for(var p=this.height-u;p<this.height;p++)this.data[(p*this.width+h)*l+c]=f}for(var m=0;m<this.height;m++)for(var g=0;g<l;g++){for(var v=a[g]||this.data[(m*this.width+s)*l+g],y=0;y<s;y++)this.data[(m*this.width+y)*l+g]=v;v=a[g]||this.data[(m*this.width+this.width-s-1)*l+g];for(var w=this.width-s;w<this.width;w++)this.data[(m*this.width+w)*l+g]=v}return this}function vo(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveAlpha,e=void 0===t||t;if(this.checkProcessable("split",{bitDepth:[8,16]}),1===this.components)return new fi([this.clone()]);var r=new fi,n=this.data;if(this.alpha&&e)for(var i=0;i<this.components;i++){for(var a=cu.createFrom(this,{components:1,alpha:!0,colorModel:un}),o=0,s=0;s<n.length;s+=this.channels)a.data[o++]=n[s+i],a.data[o++]=n[s+this.components];r.push(a)}else for(var u=0;u<this.channels;u++){for(var l=cu.createFrom(this,{components:1,alpha:!1,colorModel:un}),h=0,c=0;c<n.length;c+=this.channels)l.data[h++]=n[c+u];r.push(l)}return r}function yo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.keepAlpha,n=void 0!==r&&r,i=e.mergeAlpha,a=void 0!==i&&i;n&=this.alpha,a&=this.alpha,this.checkProcessable("getChannel",{bitDepth:[8,16]}),t=Oi(this,t);for(var o=cu.createFrom(this,{components:1,alpha:n,colorModel:un}),s=0,u=0;u<this.data.length;u+=this.channels)a?o.data[s++]=this.data[u+t]*this.data[u+this.components]/this.maxValue:(o.data[s++]=this.data[u+t],n&&(o.data[s++]=this.data[u+this.components]));return o}function wo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bo,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.mergeAlpha,n=void 0!==r&&r,i=e.keepAlpha,a=void 0!==i&&i;n&=this.alpha,a&=this.alpha,this.checkProcessable("combineChannels",{bitDepth:[8,16]});for(var o=cu.createFrom(this,{components:1,alpha:a,colorModel:un}),s=0,u=0;u<this.size;u++){var l=t(this.getPixel(u));n?o.data[s++]=l*this.data[u*this.channels+this.components]/this.maxValue:(o.data[s++]=l,a&&(o.data[s++]=this.data[u*this.channels+this.components]))}return o}function bo(t){return(t[0]+t[1]+t[2])/3}function ko(t,e){if(this.checkProcessable("setChannel",{bitDepth:[8,16]}),e.checkProcessable("setChannel (image parameter check)",{bitDepth:[this.bitDepth],alpha:[0],components:[1]}),e.width!==this.width||e.height!==this.height)throw new Error("Images must have exactly the same width and height");for(var r=t=Oi(this,t),n=0;n<e.data.length;n++)this.data[r]=e.data[n],r+=this.channels;return this}function _o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.shift,n=void 0===r?[0,0]:r,i=e.average,a=e.channels,o=e.defaultAlpha,s=e.normalize,u=e.border,l=void 0===u?[0,0]:u;if(this.checkProcessable("getSimilarity",{bitDepth:[8,16]}),Array.isArray(l)||(l=[l,l]),a=Ci(this,{channels:a,defaultAlpha:o}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");"undefined"===typeof i&&(i=!0);for(var h=Math.max(l[0],-n[0]),c=Math.min(this.width-l[0],this.width-n[0]),f=Math.max(l[1],-n[1]),d=Math.min(this.height-l[1],this.height-n[1]),p=Ki()(a.length,0),m=0;m<a.length;m++){var g=a[m],v=s?this.sum[g]:Math.max(this.sum[g],t.sum[g]),y=s?t.sum[g]:Math.max(this.sum[g],t.sum[g]);if(0!==v&&0!==y)for(var w=h;w<c;w++)for(var b=f;b<d;b++){var k=w*this.multiplierX+b*this.multiplierY+g,_=k+n[0]*this.multiplierX+n[1]*this.multiplierY;p[m]+=Math.min(this.data[k]/v,t.data[_]/y)}}return i?p.reduce(function(t,e){return t+e})/p.length:p}function xo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.sampling,r=void 0===e?[10,10]:e,n=t.painted,i=void 0!==n&&n,a=t.mask;this.checkProcessable("getPixelsGrid",{bitDepth:[8,16],channels:1}),Array.isArray(r)||(r=[r,r]);for(var o=r[0],s=r[1],u=[],l=[],h=this.width/o,c=this.height/s,f=Math.floor(h/2),d=0;d<o;d++){for(var p=Math.floor(c/2),m=0;m<s;m++){var g=Math.round(f),v=Math.round(p);a&&!a.getBitXY(g,v)||(u.push([g,v]),l.push(this.getPixelXY(g,v))),p+=c}f+=h}var y={xyS:u,zS:l};return i&&(y.painted=this.rgba8().paintPoints(u)),y}function Mo(t,e,r){for(var n=new Array(t),i=0;i<t;i++)n[i]=new Array(e);if(r)for(var a=0;a<t;a++)for(var o=0;o<e;o++)n[a][o]=r;return n.width=t,n.height=e,Object.setPrototypeOf(n,Mo.prototype),n}function Eo(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).border;if(this.checkProcessable("getChannel",{bitDepth:[8,16]}),this.bitDepth!==t.bitDepth)throw new Error("Both images must have the same bitDepth");if(this.channels!==t.channels)throw new Error("Both images must have the same number of channels");if(this.colorModel!==t.colorModel)throw new Error("Both images must have the same colorModel");for(var r=new Mo(t.width,t.height,-1/0),n=Math.floor(t.width/2),i=Math.floor(t.height/2),a=n,o=i,s=!1;!s;){for(var u=r.localSearch(n,i,-1/0),l=0;l<u.length;l++){var h=u[l],c=this.getSimilarity(t,{border:e,shift:[a-h[0],o-h[1]]});r[h[0]][h[1]]=c}var f=r.localMax(n,i);f.position[0]!==n||f.position[1]!==i?(n=f.position[0],i=f.position[1]):s=!0}return[n-a,i-o]}function So(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getRow",{bitDepth:[8,16]}),function(t,e){if(e<0||e>=t.height)throw new RangeError("row must be included between 0 and ".concat(t.height-1,". Current value: ").concat(e))}(this,t),Na(this,e);for(var r=new Array(this.width),n=0,i=t*this.width*this.channels+e,a=i+this.width*this.channels,o=i;o<a;o+=this.channels)r[n++]=this.data[o];return r}function Ao(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getColumn",{bitDepth:[8,16]}),function(t,e){if(e<0||e>=t.width)throw new RangeError("column must be included between 0 and ".concat(t.width-1,". Current value: ").concat(e))}(this,t),Na(this,e);for(var r=new Array(this.height),n=0,i=this.width*this.channels,a=e+t*this.channels;a<this.data.length;a+=i)r[n++]=this.data[a];return r}function Po(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).channel;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===t){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");t=0}for(var e=new ua.b(this.height,this.width),r=0;r<this.height;r++)for(var n=0;n<this.width;n++)e.set(r,n,this.getValueXY(n,r,t));return e}function Co(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=new ua.b(t);var r=e.channel;if(this.checkProcessable("getMatrix",{bitDepth:[8,16]}),void 0===r){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");r=0}if(this.width!==t.columns||this.height!==t.rows)throw new RangeError("The size of the matrix must be equal to the size of the image");for(var n=0;n<this.height;n++)for(var i=0;i<this.width;i++)this.setValueXY(i,n,r,t.get(n,i))}function Oo(){this.checkProcessable("getPixelsArray",{bitDepth:[8,16,32]});for(var t=new Array(this.size),e=0,r=0;r<this.data.length;r+=this.channels){for(var n=new Array(this.components),i=0;i<this.components;i++)n[i]=this.data[r+i];t[e++]=n}return t}function Do(t){for(var e=this.getClosestCommonParent(t),r=this.getRelativePosition(e,{defaultFurther:!0}),n=Io(this,r),i=t.getRelativePosition(e,{defaultFurther:!0}),a=Io(t,i),o=function(t,e){var r=0,n=0,i=[];for(;r<t.length&&n<e.length;)t[r][0]===e[n][0]&&t[r][1]===e[n][1]?(i.push(t[r]),r++,n++):t[r][0]<e[n][0]||t[r][0]===e[n][0]&&t[r][1]<e[n][1]?r++:n++;return i}(n,a),s={whitePixelsMask1:[],whitePixelsMask2:[],commonWhitePixels:[]},u=0;u<o.length;u++){var l=o[u],h=[l[0]-r[0],l[1]-r[1]],c=[l[0]-i[0],l[1]-i[1]],f=this.getBitXY(h[0],h[1]),d=t.getBitXY(c[0],c[1]);1===f&&1===d&&s.commonWhitePixels.push(l)}for(var p=0;p<n.length;p++){var m=void 0,g=void 0;0!==p&&(m=Math.floor(p/this.width),g=p%this.width),1===this.getBitXY(m,g)&&s.whitePixelsMask1.push(n[p])}for(var v=0;v<a.length;v++){var y=0,w=0;0!==v&&(y=Math.floor(v/t.width),w=v%t.width),1===t.getBitXY(y,w)&&s.whitePixelsMask2.push(a[v])}return s}function Io(t,e){for(var r=[],n=0;n<t.height;n++)for(var i=0;i<t.width;i++){var a=[n,i];r.push([a[0]+e[0],a[1]+e[1]])}return r}function To(t){var e,r=Ro(this),n=Ro(t);if(e=r>=n?Uo(this,r):Uo(t,n),0===r||0===n)return e;for(var i=this,a=t;r!==n;)if(r>n){if(null===(i=i.parent))return e;r-=1}else{if(null===(a=a.parent))return e;n-=1}for(;i!==a&&null!==i&&null!==a;)if(i=i.parent,a=a.parent,null===i||null===a)return e;return i!==a?e:i}function Ro(t){for(var e=0,r=t;null!=r.parent;)r=r.parent,e++;return e}function Uo(t,e){for(var r=t;e>0;)r=r.parent,e-=1;return r}Mo.prototype.localMin=function(t,e){for(var r=this[t][e],n=[t,e],i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(var a=Math.max(0,e-1);a<Math.min(this[0].length,e+2);a++)this[i][a]<r&&(r=this[i][a],n=[i,a]);return{position:n,value:r}},Mo.prototype.localMax=function(t,e){for(var r=this[t][e],n=[t,e],i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(var a=Math.max(0,e-1);a<Math.min(this[0].length,e+2);a++)this[i][a]>r&&(r=this[i][a],n=[i,a]);return{position:n,value:r}},Mo.prototype.localSearch=function(t,e,r){for(var n=[],i=Math.max(0,t-1);i<Math.min(this.length,t+2);i++)for(var a=Math.max(0,e-1);a<Math.min(this[0].length,e+2);a++)this[i][a]===r&&n.push([i,a]);return n};var jo={lowThreshold:10,highThreshold:30,gaussianBlur:1.1},Lo=[[-1,0,1],[-2,0,2],[-1,0,1]],Bo=[[-1,-2,-1],[0,0,0],[1,2,1]],No={bitDepth:32,mode:"periodic"};function Fo(t){return function(t,e){t.checkProcessable("Canny edge detector",{bitDepth:8,channels:1,components:1}),e=Object.assign({},jo,e);for(var r=t.width,n=t.height,i=t.maxValue,a={sigma:e.gaussianBlur,radius:3},o=t.gaussianFilter(a),s=o.convolution(Bo,No),u=o.convolution(Lo,No),l=u.hypotenuse(s),h=t.constructor,c=new h(r,n,{kind:"GREY",bitDepth:32}),f=new h(r,n,{kind:"GREY",bitDepth:32}),d=new h(r,n,{kind:"GREY"}),p=1;p<r-1;p++)for(var m=1;m<n-1;m++){var g=(Math.round(Math.atan2(u.getValueXY(p,m,0),s.getValueXY(p,m,0))*(5/Math.PI))+5)%5;0===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p,m-1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p,m+1,0))||1===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m+1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m-1,0))||2===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m,0))||3===g&&(l.getValueXY(p,m,0)<=l.getValueXY(p-1,m-1,0)||l.getValueXY(p,m,0)<=l.getValueXY(p+1,m+1,0))||c.setValueXY(p,m,0,l.getValueXY(p,m,0))}for(p=0;p<r*n;++p){var v=c.data[p],y=0;v>e.highThreshold&&(y++,d.data[p]=i),v>e.lowThreshold&&y++,f.data[p]=y}var w=[];for(p=1;p<r-1;++p)for(m=1;m<n-1;++m)if(1===f.getValueXY(p,m,0))t:for(var b=p-1;b<p+2;++b)for(var k=m-1;k<m+2;++k)if(2===f.getValueXY(b,k,0)){w.push([p,m]),d.setValueXY(p,m,0,i);break t}for(;w.length>0;){var _=[];for(p=0;p<w.length;++p)for(m=-1;m<2;++m)for(b=-1;b<2;++b)if(0!==m||0!==b){var x=w[p][0]+m,M=w[p][1]+b;1===f.getValueXY(x,M,0)&&0===d.getValueXY(x,M,0)&&(_.push([x,M]),d.setValueXY(x,M,0,i))}w=_}return d}(this,t)}function zo(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).position;if(this.checkProcessable("extract",{bitDepth:[1,8,16]}),!e&&!(e=t.getRelativePosition(this)))throw new Error("extract : can not extract an image because the relative position can not be determined, try to specify manually the position as an array of 2 elements [x,y].");if(this.bitDepth>1){for(var r=cu.createFrom(this,{width:t.width,height:t.height,alpha:1,position:e,parent:this}),n=0;n<t.width;n++)for(var i=0;i<t.height;i++){for(var a=0;a<this.channels;a++){var o=this.getValueXY(n+e[0],i+e[1],a);r.setValueXY(n,i,a,o)}t.getBitXY(n,i)||r.setValueXY(n,i,this.components,0)}return r}for(var s=cu.createFrom(this,{width:t.width,height:t.height,position:e,parent:this}),u=0;u<t.height;u++)for(var l=0;l<t.width;l++)t.getBitXY(l,u)&&this.getBitXY(l+e[0],u+e[1])&&s.setBitXY(l,u);return s}var Vo=r(67),Yo=r.n(Vo);function Xo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,a=t.inPlace,o=void 0===a||a?this:cu.createFrom(this);if(this.checkProcessable("floodFill",{bitDepth:1}),this.getBitXY(r,i))return o;var s=new Yo.a;for(s.push(new qo(r,i));s.length>0;){var u=s.shift();o.setBitXY(u.x,u.y);for(var l=u.x+1;l<this.width&&(!o.getBitXY(l,u.y)&&!this.getBitXY(l,u.y));l++)o.setBitXY(l,u.y),u.y+1<this.height&&!this.getBitXY(l,u.y+1)&&s.push(new qo(l,u.y+1)),u.y-1>=0&&!this.getBitXY(l,u.y-1)&&s.push(new qo(l,u.y-1));for(var h=u.x-1;h>=0&&(!o.getBitXY(h,u.y)&&!this.getBitXY(h,u.y));h++)o.setBitXY(h,u.y),u.y+1<this.height&&!this.getBitXY(h,u.y+1)&&s.push(new qo(h,u.y+1)),u.y-1>=0&&!this.getBitXY(h,u.y-1)&&s.push(new qo(h,u.y-1))}return o}function qo(t,e){this.x=t,this.y=e}var Ho=r(39),Go=r.n(Ho);function Wo(t,e,r){var n=[],i=(r/=100)*(e/=100),a=t/60,o=i*(1-Math.abs(a%2-1)),s=r-i;return n=a>=0&&a<1?[i,o,0]:a>=1&&a<2?[o,i,0]:a>=2&&a<3?[0,i,o]:t>=3&&a<4?[0,o,i]:t>=4&&a<5?[o,0,i]:t>=5&&a<=6?[i,0,o]:[0,0,0],{r:Math.round(255*(n[0]+s)),g:Math.round(255*(n[1]+s)),b:Math.round(255*(n[2]+s))}}function Ko(t,e,r){var n=function(t,e,r){return{h:t,s:2*(e*=(r<50?r:100-r)/100)/(r+e)*100,v:r+e}}(t,e,r);return Wo(n.h,n.s,n.v)}var Zo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]};function Qo(t){return function(t){var e=Zo[t.toLowerCase()];if(!e)return;return{r:e[0],g:e[1],b:e[2],a:100}}(t)||function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:100}}(t)||function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:100}}(t)||function(t){var e=t.match(/rgb\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100}}}(t)||function(t){var e=t.match(/rgba\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */).map(Number);return{r:r[0],g:r[1],b:r[2],a:100*r[3]}}}(t)||function(t){var e=t.match(/hsl\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),a=parseInt(r[2],10),o=Ko(n,i,a);return Go()({},o,{a:100})}}(t)||function(t){var e=t.match(/hsla\(([^)]+)\)/);if(e){var r=e[1].split(/ *, */),n=parseInt(r[0],10),i=parseInt(r[1],10),a=parseInt(r[2],10),o=parseInt(100*parseFloat(r[3]),10),s=Ko(n,i,a);return Go()({},s,{a:o})}}(t)}function $o(t){var e=Qo(t);return[e.r,e.g,e.b,Math.round(255*e.a/100)]}function Jo(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ts(t,e,r){var n,i,a,o,s,u;return r/=100,0===(e/=100)?o=s=u=255*r:(o=Jo(n=2*r-(i=r<=.5?r*(e+1):r+e-r*e),i,(a=t/360)+1/3),s=Jo(n,i,a),u=Jo(n,i,a-1/3)),{r:o,g:s,b:u}}function es(t){var e=t.color,r=t.colors,n=t.randomColors,i=t.numberColors,a=void 0===i?50:i;if(e&&!Array.isArray(e)&&(e=$o(e)),e)return[e];if(r)return r=r.map(function(t){return Array.isArray(t)?t:$o(t)});if(n){r=new Array(a);for(var o=0;o<a;o++)r[o]=[Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random())]}return function(t){for(var e=new Array(t),r=0,n=0;n<360;n+=360/t){var i=ts(n,100,++r%4*15+30);e[r-1]=[Math.round(255*i.r),Math.round(255*i.g),Math.round(255*i.b)]}return e}(a)}function rs(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.color,i=void 0===n?"blue":n,a=r.colors,o=r.font,s=void 0===o?"12px Helvetica":o,u=r.rotate,l=void 0===u?0:u;if(this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:ln}),!Array.isArray(t))throw Error("paintLabels: labels must be an array");if(!Array.isArray(e))throw Error("paintLabels: positions must be an array");if(i&&!Array.isArray(i)&&(i=$o(i)),a=a?a.map(function(t){return Array.isArray(t)?t:$o(t)}):[i],t.length!==e.length)throw Error("paintLabels: positions and labels must be arrays from the same size");Array.isArray(s)||(s=[s]),Array.isArray(l)||(l=[l]);for(var h=this.getCanvas().getContext("2d"),c=0;c<t.length;c++){h.save();var f=a[c%a.length];h.fillStyle="rgba(".concat(f[0],",").concat(f[1],",").concat(f[2],",").concat(f[3]/this.maxValue,")"),h.font=s[c%s.length];var d=e[c];h.translate(d[0],d[1]),h.rotate(l[c%l.length]/180*Math.PI),h.fillText(t[c],0,0),h.restore()}return this.data=Uint8Array.from(h.getImageData(0,0,this.width,this.height).data),this}function ns(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.alpha,n=void 0===r?255:r,i=e.labels,a=void 0===i?[]:i,o=e.labelsPosition,s=void 0===o?[]:o,u=e.labelColor,l=void 0===u?"blue":u,h=e.labelFont,c=void 0===h?"12px Helvetica":h;this.checkProcessable("paintMasks",{channels:[3,4],bitDepth:[8,16],colorModel:ln});var f=es(Object.assign({},e,{numberColors:t.length}));Array.isArray(t)||(t=[t]);for(var d=0;d<t.length;d++)for(var p=t[d],m=f[d%f.length],g=0;g<p.width;g++)for(var v=0;v<p.height;v++)if(p.getBitXY(g,v))for(var y=0;y<Math.min(this.components,m.length);y++)if(255===n)this.setValueXY(g+p.position[0],v+p.position[1],y,m[y]);else{var w=this.getValueXY(g+p.position[0],v+p.position[1],y);w=Math.round((w*(255-n)+m[y]*n)/255),this.setValueXY(g+p.position[0],v+p.position[1],y,w)}if(Array.isArray(a)&&a.length>0){var b=this.getCanvas().getContext("2d");b.fillStyle=l,b.font=c;for(var k=0;k<Math.min(t.length,a.length);k++){var _=s[k]?s[k]:t[k].position;b.fillText(a[k],_[0],_[1])}this.data=Uint8Array.from(b.getImageData(0,0,this.width,this.height).data)}return this}function is(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=new Array(e).fill(0);return r}var as=[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0]],os=[[0,1,0],[1,1,1],[0,1,0]],ss=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,t);var r=e.kind,n=void 0===r?"cross":r,i=e.shape,a=e.size,o=e.width,u=e.height,l=e.filled,h=void 0===l||l;if(a&&(o=a,u=a),i)switch(i.toLowerCase()){case"square":case"rectangle":this.matrix=function(t,e,r){var n=is(e,t);if(r.filled)for(var i=0;i<e;i++)for(var a=0;a<t;a++)n[i][a]=1;else{for(var o=0,s=[0,e-1];o<s.length;o++)for(var u=s[o],l=0;l<t;l++)n[u][l]=1;for(var h=0;h<e;h++)for(var c=0,f=[0,t-1];c<f.length;c++){var d=f[c];n[h][d]=1}}return n}(o,u,{filled:h});break;case"circle":case"ellipse":this.matrix=function(t,e,r){var n=is(e,t),i=1-e%2,a=1-t%2,o=Math.floor((t-1)/2),s=Math.floor((e-1)/2),u=o*o,l=s*s;if(r.filled)for(var h=0;h<=s;h++)for(var c=Math.floor(Math.sqrt(u-u*h*h/l)),f=o-c;f<=o;f++)n[s-h][f]=1,n[s+h+i][f]=1,n[s-h][t-f-1]=1,n[s+h+i][t-f-1]=1;else{for(var d=0;d<=s;d++){var p=Math.floor(Math.sqrt(u-u*d*d/l)),m=o-p;n[s-d][m]=1,n[s+d+i][m]=1,n[s-d][t-m-1]=1,n[s+d+i][t-m-1]=1}for(var g=0;g<=o;g++){var v=Math.floor(Math.sqrt(l-l*g*g/u)),y=s-v;n[y][o-g]=1,n[y][o+g+a]=1,n[e-y-1][o-g]=1,n[e-y-1][o+g+a]=1}}return n}(o,u,{filled:h});break;case"triangle":this.matrix=function(t,e,r){if(!r.filled)throw new Error("Non filled triangle is not implemented");for(var n=is(e,t),i=0;i<e;i++)for(var a=Math.floor((1-i/e)*t/2),o=a;o<t-a;o++)n[i][o]=1;return n}(o,u,{filled:h});break;default:throw new Error("Shape: unexpected shape: ".concat(i))}else{if(!n)throw new Error("Shape: expected a kind or a shape option");switch(n.toLowerCase()){case"cross":this.matrix=as;break;case"smallcross":this.matrix=os;break;default:throw new Error("Shape: unexpected kind: ".concat(n))}}this.height=this.matrix.length,this.width=this.matrix[0].length,this.halfHeight=this.height/2>>0,this.halfWidth=this.width/2>>0}return Object(u.a)(t,[{key:"getPoints",value:function(){for(var t=this.matrix,e=[],r=0;r<t.length;r++)for(var n=0;n<t[0].length;n++)t[r][n]&&e.push([n-this.halfWidth,r-this.halfHeight]);return e}},{key:"getMask",value:function(){for(var t=new cu(this.width,this.height,{kind:dn}),e=0;e<this.matrix.length;e++)for(var r=0;r<this.matrix[0].length;r++)this.matrix[e][r]&&t.setBitXY(r,e);return t}}]),t}();function us(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.shape;this.checkProcessable("paintPoints",{bitDepth:[8,16]});for(var n=es(Object.assign({},e,{numberColors:t.length})),i=new ss(r).getPoints(),a=Math.min(this.channels,n[0].length),o=0;o<t.length;o++)for(var s=n[o%n.length],u=t[o][0],l=t[o][1],h=0;h<i.length;h++){var c=i[h][0],f=i[h][1];if(u+c>=0&&l+f>=0&&u+c<this.width&&l+f<this.height)for(var d=(u+c+(l+f)*this.width)*this.channels,p=0;p<a;p++)this.data[d+p]=s[p]}return this}function ls(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.color,n=void 0===r?[this.maxValue,0,0]:r,i=e.closed,a=void 0!==i&&i;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]});for(var o=Math.min(this.channels,n.length),s=0;s<t.length-1+a;s++)for(var u=t[s],l=t[(s+1)%t.length],h=l[0]-u[0],c=l[1]-u[1],f=Math.max(Math.abs(h),Math.abs(c)),d=h/f,p=c/f,m=u[0],g=u[1],v=0;v<=f;v++){var y=Math.round(m),w=Math.round(g);if(y>=0&&w>=0&&y<this.width&&w<this.height)if(1===this.bitDepth)this.setBitXY(y,w);else for(var b=(y+w*this.width)*this.channels,k=0;k<o;k++)this.data[b+k]=n[k];m+=d,g+=p}return this}function hs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);this.checkProcessable("paintPolylines",{bitDepth:[8,16]});for(var n=es(Object.assign({},e,{numberColors:t.length})),i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolyline(t[i],r);return this}function cs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.color,n=void 0===r?[this.maxValue,0,0]:r,i=e.filled,a=void 0!==i&&i;this.checkProcessable("paintPoints",{bitDepth:[1,8,16]}),e.closed=!0;var o=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]===t[(r+1)%t.length][0]&&t[r][1]===t[(r+1)%t.length][1]||t[r][0]===t[(r-1+t.length)%t.length][0]&&t[r][1]===t[(r-1+t.length)%t.length][1]||t[(r+1)%t.length][0]===t[(r-1+t.length)%t.length][0]&&t[(r-1+t.length)%t.length][1]===t[(r+1)%t.length][1]||e.push(t[r]);return e}(t);if(!1===a)return this.paintPolyline(t,e);for(var s=Array(this.height),u=0;u<this.height;u++){s[u]=[];for(var l=0;l<this.width;l++)s[u].push(0)}for(var h=0;h<o.length;h++)for(var c=fs(o[h],o[(h+1)%o.length]),f=0;f<this.height;f++)for(var d=0;d<this.width;d++)ds(d,f,c,this.height)&&(s[f][d]=0===s[f][d]?1:0);for(var p=0;p<this.height;p++)for(var m=0;m<this.width;m++)if(1===s[p][m])if(1===this.bitDepth)this.setBitXY(m,p);else for(var g=Math.min(this.channels,n.length),v=(m+p*this.width)*this.channels,y=0;y<g;y++)this.data[v+y]=n[y];return this.paintPolyline(t,e)}function fs(t,e){if(t[0]===e[0])return{a:0,b:t[0],vertical:!0};var r=(e[1]-t[1])/(e[0]-t[0]);return{a:r,b:t[1]-r*t[0],vertical:!1}}function ds(t,e,r,n){if(!0===r.vertical)return r.b<=t;if(0===r.a)return!1;var i=(e-r.b)/r.a;return i<t&&i>=0&&i<=n}function ps(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},e);this.checkProcessable("paintPolygons",{bitDepth:[8,16]});for(var n=es(Object.assign({},e,{numberColors:t.length})),i=0;i<t.length;i++)r.color=n[i%n.length],this.paintPolygon(t[i],r);return this}function ms(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.maxSlots,r=void 0===e?256:e,n=t.channel,i=t.useAlpha,a=void 0===i||i;if(this.checkProcessable("getHistogram",{bitDepth:[1,8,16]}),void 0===n){if(this.components>1)throw new RangeError("You need to define the channel for an image that contains more than one channel");n=0}return vs.call(this,n,{useAlpha:a,maxSlots:r})}function gs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.maxSlots,r=void 0===e?256:e,n=t.useAlpha,i=void 0===n||n;this.checkProcessable("getHistograms",{bitDepth:[8,16]});for(var a=new Array(i?this.components:this.channels),o=0;o<a.length;o++)a[o]=vs.call(this,o,{useAlpha:i,maxSlots:r});return a}function vs(t,e){var r=e.useAlpha,n=e.maxSlots;if(1===this.bitDepth){for(var i=[0,0],a=0;a<this.height;a++)for(var o=0;o<this.width;o++){var s=this.getBitXY(a,o);0===s?i[0]+=1:1===s&&(i[1]+=1)}return i}var u=Math.log2(n);if(!Ni()(u))throw new RangeError("maxSlots must be a power of 2, for example: 64, 256, 1024");var l=0;this.bitDepth>u&&(l=this.bitDepth-u);var h=this.data,c=Ki()(Math.pow(2,Math.min(this.bitDepth,u)),0);if(r&&this.alpha)for(var f=this.channels-t-1,d=t;d<h.length;d+=this.channels)c[h[d]>>l]+=h[d+f]/this.maxValue;else for(var p=t;p<h.length;p+=this.channels)c[h[p]>>l]++;return c}function ys(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.useAlpha,r=void 0===e||e,n=t.nbSlots,i=void 0===n?512:n;this.checkProcessable("getColorHistogram",{bitDepth:[8,16],components:[3]});var a=Math.log(i)/Math.log(8);if(a!==Math.floor(a))throw new RangeError("nbSlots must be a power of 8. Usually 8, 64, 512 or 4096");for(var o=this.bitDepth-a,s=this.data,u=Ki()(Math.pow(8,a),0),l=Math.pow(2,2*a),h=Math.pow(2,a),c=0;c<s.length;c+=this.channels){var f=(s[c]>>o)*l+(s[c+1]>>o)*h+(s[c+2]>>o);r&&this.alpha?u[f]+=s[c+this.channels-1]/this.maxValue:u[f]++}return u}function ws(){this.checkProcessable("min",{bitDepth:[8,16,32]});for(var t=Ki()(this.channels,1/0),e=0;e<this.data.length;e+=this.channels)for(var r=0;r<this.channels;r++)this.data[e+r]<t[r]&&(t[r]=this.data[e+r]);return t}function bs(){this.checkProcessable("max",{bitDepth:[8,16,32]});for(var t=Ki()(this.channels,-1/0),e=0;e<this.data.length;e+=this.channels)for(var r=0;r<this.channels;r++)this.data[e+r]>t[r]&&(t[r]=this.data[e+r]);return t}function ks(){this.checkProcessable("sum",{bitDepth:[8,16]});for(var t=Ki()(this.channels,0),e=0;e<this.data.length;e+=this.channels)for(var r=0;r<this.channels;r++)t[r]+=this.data[e+r];return t}function _s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.checkProcessable("getMoment",{bitDepth:[1]});for(var r=0,n=0;n<this.width;n++)for(var i=0;i<this.height;i++)1===this.getBitXY(n,i)&&(r+=Math.pow(n,t)*Math.pow(i,e));return r}function xs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mask,r=t.region,n=void 0===r?3:r,i=t.removeClosePoints,a=void 0===i?0:i,o=t.invert,s=void 0!==o&&o,u=t.maxEquals,l=void 0===u?2:u;this.checkProcessable("localMaxima",{bitDepth:[8,16],components:1});for(var h=s?0:1,c=[1,0,-1,0,1,1,-1,-1,2,0,-2,0,2,2,-2,-2],f=[0,1,0,-1,1,-1,1,-1,0,2,0,-2,2,-2,2,-2],d=(n*=4)<=8?1:2,p=[],m=d;m<this.height-d;m++)for(var g=d;g<this.width-d;g++)if(!e||e.getBitXY(g,m)===h){for(var v=0,y=0,w=this.data[g+m*this.width],b=0;b<n;b++)s?this.data[g+c[b]+(m+f[b])*this.width]>w&&v++:this.data[g+c[b]+(m+f[b])*this.width]<w&&v++,this.data[g+c[b]+(m+f[b])*this.width]===w&&y++;v+y===n&&y<=l&&p.push([g,m])}if(a>0)for(var k=0;k<p.length;k++)for(var _=k+1;_<p.length;_++)Math.sqrt(Math.pow(p[k][0]-p[_][0],2)+Math.pow(p[k][1]-p[_][1],2))<a&&(p[k][0]=p[k][0]+p[_][0]>>1,p[k][1]=p[k][1]+p[_][1]>>1,p.splice(_,1),_--);return p}function Ms(){for(var t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length),r=0;r<t.length;r++){var n=t[r];e[r]=ni(n)}return e}function Es(){for(var t=this.getHistograms({maxSlots:this.maxValue+1}),e=new Array(t.length),r=0;r<t.length;r++){var n=t[r];e[r]=ri(n)}return e}function Ss(){this.checkProcessable("points",{bitDepth:[1]});for(var t=[],e=0;e<this.width;e++)for(var r=0;r<this.height;r++)1===this.getBitXY(e,r)&&t.push([e,r]);return t}function As(){this.checkProcessable("extendedPoints",{bitDepth:[1]});for(var t=[],e=0;e<this.height;e++)for(var r=0;r<this.width;r++)if(1===this.getBitXY(r,e))for(t.push([r,e]),1!==this.getBitXY(r+1,e)?(t.push([r+1,e]),t.push([r+1,e+1]),1!==this.getBitXY(r,e+1)&&t.push([r,e+1])):1!==this.getBitXY(r,e+1)&&(t.push([r,e+1]),t.push([r+1,e+1]));r<this.width-2&&1===this.getBitXY(r+1,e)&&1===this.getBitXY(r+2,e);)r++;return t}function Ps(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this===t)return[0,0];for(var r=[0,0],n=this;n;){if(n===t)return r;n.position&&(r[0]+=n.position[0],r[1]+=n.position[1]),n=n.parent}return!!e.defaultFurther&&r}function Cs(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).alpha,e=void 0===t?1:t;this.checkProcessable("countAlphaPixels",{bitDepth:[8,16],alpha:1});var r=0;if(void 0!==e){for(var n=this.components;n<this.data.length;n+=this.channels)this.data[n]===e&&r++;return r}return this.size}function Os(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).sorted||t.sort(Is);for(var e=t.length,r=new Array(2*e),n=0,i=0;i<e;i++){for(var a=t[i];n>=2&&Ds(r[n-2],r[n-1],a)<=0;)n--;r[n++]=a}var o=n+1;for(i=e-2;i>=0;i--){for(var s=t[i];n>=o&&Ds(r[n-2],r[n-1],s)<=0;)n--;r[n++]=s}return r.slice(0,n-1)}function Ds(t,e,r){return(e[1]-t[1])*(r[0]-t[0])-(e[0]-t[0])*(r[1]-t[1])}function Is(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function Ts(){return Os(this.extendedPoints,{sorted:!1})}function Rs(t,e){return[t[0]-e[0],t[1]-e[1]]}function Us(t){var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function js(t,e,r){void 0===r&&(r=new Array(e.length));for(var n=Math.cos(t),i=Math.sin(t),a=0;a<r.length;++a)r[a]=[n*e[a][0]-i*e[a][1],i*e[a][0]+n*e[a][1]];return r}function Ls(t){for(var e=0,r=0;r<t.length;r++){var n=t[r][0],i=t[r][1],a=t[r===t.length-1?0:r+1][0],o=t[r===t.length-1?0:r+1][1];e+=Math.sqrt(Math.pow(a-n,2)+Math.pow(o-i,2))}return e}function Bs(t){for(var e=0,r=0;r<t.length;r++){e+=t[r][0]*t[r===t.length-1?0:r+1][1]*.5,e-=t[r===t.length-1?0:r+1][0]*t[r][1]*.5}return Math.abs(e)}function Ns(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<t.length;a++)t[a][0]<e&&(e=t[a][0]),t[a][0]>n&&(n=t[a][0]),t[a][1]<r&&(r=t[a][1]),t[a][1]>i&&(i=t[a][1]);return[[e,r],[n,i]]}function Fs(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).originalPoints,e=void 0===t?Ts.call(this):t;if(0===e.length)return[];if(1===e.length)return[e[0],e[0],e[0],e[0]];for(var r,n=new Array(e.length),i=1/0,a=0,o=0;o<n.length;o++){var s=zs(e[o],e[(o+1)%n.length]);js(-s,e,n);for(var u=n[o][0],l=n[o][1],h=n[(o+1)%n.length][0],c=n[(o+1)%n.length][1],f=!0,d=0,p=0,m=0,g=0;g<n.length;g++){var v=(n[g][0]-u)/(h-u);!0===f?(f=!1,d=v,p=v):(v<d&&(d=v),v>p&&(p=v));var y=(-(h-u)*n[g][1]+h*l-c*u)/(h-u);Math.abs(y)>Math.abs(m)&&(m=y)}var w=[u+d*(h-u),l],b=[u+p*(h-u),l],k=Math.abs(m*(d-p)*(h-u));k<i&&(a=s,i=k,r=[w,b,[b[0],b[1]-m],[w[0],w[1]-m]])}return js(a,r,r),r}function zs(t,e){var r=Us(Rs(e,t)),n=Math.acos(r[0]);return r[1]<0?-n:n}var Vs=r(68),Ys=r.n(Vs);var Xs=r(40),qs=r.n(Xs);function Hs(t,e){var r=Us(Rs(e,t)),n=Math.acos(r[0]);return r[1]<0?-n:n}var Gs=function(){function t(e,r){Object(s.a)(this,t),this.map=e,this.id=r,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,this.meanX=0,this.meanY=0,this.surface=0,this.computed={}}return Object(u.a)(t,[{key:"getMask",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.scale,n=void 0===r?1:r,i=e.kind;switch(void 0===i?"":i){case"contour":t=this.contourMask;break;case"box":t=this.boxMask;break;case"filled":t=this.filledMask;break;case"center":t=this.centerMask;break;case"mbr":t=this.mbrFilledMask;break;case"hull":t=this.convexHullFilledMask;break;case"hullContour":t=this.convexHullMask;break;case"mbrContour":t=this.mbrMask;break;case"feret":t=this.feretMask;break;default:t=this.mask}return n<1&&((t=t.resize({factor:n})).parent=this.mask.parent,t.position[0]+=this.minX,t.position[1]+=this.minY),t}},{key:"mean",get:function(){throw new Error("Roi mean not implemented yet")}},{key:"center",get:function(){return this.computed.center||(this.computed.center=[this.width/2>>0,this.height/2>>0]),this.computed.center}},{key:"ratio",get:function(){return this.width/this.height}},{key:"width",get:function(){return this.maxX-this.minX+1}},{key:"height",get:function(){return this.maxY-this.minY+1}},{key:"_computExternalIDs",value:function(){var t=this.borderIDs,e=this.borderLengths;this.computed.externalIDs=[],this.computed.externalLengths=[];for(var r=this.internalIDs,n=0;n<t.length;n++)r.includes(t[n])||(this.computed.externalIDs.push(t[n]),this.computed.externalLengths.push(e[n]))}},{key:"externalIDs",get:function(){return this.computed.externalIDs?this.computed.externalIDs:(this._computExternalIDs(),this.computed.externalIDs)}},{key:"externalLengths",get:function(){return this.computed.externalLengths?this.computed.externalLengths:(this._computExternalIDs(),this.computed.externalLengths)}},{key:"_computeBorderIDs",value:function(){var t=function(t){for(var e=t.map,r=e.data,n=new Set,i=new Map,a=new Set,o=[1,0,-1,0],s=[0,1,0,-1],u=t.minX;u<=t.maxX;u++)for(var l=t.minY;l<=t.maxY;l++){var h=u+l*e.width;if(r[h]===t.id)for(var c=0;c<4;c++){var f=u+o[c],d=l+s[c];if(f>=0&&d>=0&&f<e.width&&d<e.height){var p=f+d*e.width;if(r[p]!==t.id&&!a.has(p)){a.add(p),n.add(r[p]);var m=i.get(r[p]);m?i.set(r[p],++m):i.set(r[p],1)}}}}var g=Array.from(n),v=g.map(function(t){return i.get(t)});return{ids:g,lengths:v}}(this);this.computed.borderIDs=t.ids,this.computed.borderLengths=t.lengths}},{key:"borderIDs",get:function(){return this.computed.borderIDs?this.computed.borderIDs:(this._computeBorderIDs(),this.computed.borderIDs)}},{key:"borderLengths",get:function(){return this.computed.borderLengths?this.computed.borderLengths:(this._computeBorderIDs(),this.computed.borderLengths)}},{key:"boxIDs",get:function(){return this.computed.boxIDs||(this.computed.boxIDs=function(t){for(var e=new Set,r=t.map,n=r.data,i=0,a=[0,t.height-1];i<a.length;i++)for(var o=a[i],s=0;s<t.width;s++){var u=(o+t.minY)*r.width+s+t.minX;if(s-t.minX>0&&n[u]===t.id&&n[u-1]!==t.id){var l=n[u-1];e.add(l)}if(r.width-s-t.minX>1&&n[u]===t.id&&n[u+1]!==t.id){var h=n[u+1];e.add(h)}}for(var c=0,f=[0,t.width-1];c<f.length;c++)for(var d=f[c],p=0;p<t.height;p++){var m=(p+t.minY)*r.width+d+t.minX;if(p-t.minY>0&&n[m]===t.id&&n[m-r.width]!==t.id){var g=n[m-r.width];e.add(g)}if(r.height-p-t.minY>1&&n[m]===t.id&&n[m+r.width]!==t.id){var v=n[m+r.width];e.add(v)}}return Array.from(e)}(this)),this.computed.boxIDs}},{key:"internalIDs",get:function(){return this.computed.internalIDs||(this.computed.internalIDs=function(t){var e=[t.id],r=t.map,n=r.data;if(t.height>2)for(var i=0;i<t.width;i++){var a=t.minY*r.width+i+t.minX;if(e.includes(n[a])){var o=n[a+r.width];e.includes(o)||t.boxIDs.includes(o)||e.push(o)}}for(var s=new Array(4),u=1;u<t.width-1;u++)for(var l=1;l<t.height-1;l++){var h=(l+t.minY)*r.width+u+t.minX;if(e.includes(n[h])){s[0]=n[h-1],s[1]=n[h+1],s[2]=n[h-r.width],s[3]=n[h+r.width];for(var c=0;c<4;c++){var f=s[c];e.includes(f)||t.boxIDs.includes(f)||e.push(f)}}}return e}(this)),this.computed.internalIDs}},{key:"box",get:function(){return this.computed.box||(this.computed.box=function(t){var e=0,r=t.map,n=r.data,i=[0];t.height>1&&(i[1]=t.height-1);for(var a=0,o=i;a<o.length;a++)for(var s=o[a],u=1;u<t.width-1;u++){var l=(s+t.minY)*r.width+u+t.minX;n[l]===t.id&&e++}var h=[0];t.width>1&&(h[1]=t.width-1);for(var c=0,f=h;c<f.length;c++)for(var d=f[c],p=0;p<t.height;p++){var m=(p+t.minY)*r.width+d+t.minX;n[m]===t.id&&e++}return e}(this)),this.computed.box}},{key:"external",get:function(){return this.computed.external||(this.computed.external=function(t){for(var e=0,r=t.map,n=r.data,i=1;i<t.width-1;i++)for(var a=1;a<t.height-1;a++){var o=(a+t.minY)*r.width+i+t.minX;n[o]===t.id&&(t.externalIDs.includes(n[o-1])||t.externalIDs.includes(n[o+1])||t.externalIDs.includes(n[o-r.width])||t.externalIDs.includes(n[o+r.width]))&&e++}return e+t.box}(this)),this.computed.external}},{key:"holesInfo",get:function(){return this.computed.holesInfo||(this.computed.holesInfo=function(t){for(var e=0,r=t.map.width,n=t.map.data,i=1;i<t.width-1;i++)for(var a=1;a<t.height-1;a++){var o=(a+t.minY)*r+i+t.minX;t.internalIDs.includes(n[o])&&n[o]!==t.id&&e++}return{number:t.internalIDs.length-1,surface:e}}(this)),this.computed.holesInfo}},{key:"border",get:function(){return this.computed.border||(this.computed.border=function(t){for(var e=0,r=t.map,n=r.data,i=1;i<t.width-1;i++)for(var a=1;a<t.height-1;a++){var o=(a+t.minY)*r.width+i+t.minX;n[o]===t.id&&(n[o-1]===t.id&&n[o+1]===t.id&&n[o-r.width]===t.id&&n[o+r.width]===t.id||e++)}return e+t.box}(this)),this.computed.border}},{key:"contourMask",get:function(){if(!this.computed.contourMask){for(var t=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),e=0;e<this.width;e++)for(var r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||t.setBitXY(e,r));this.computed.contourMask=t}return this.computed.contourMask}},{key:"boxMask",get:function(){if(!this.computed.boxMask){for(var t=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),e=0;e<this.width;e++)t.setBitXY(e,0),t.setBitXY(e,this.height-1);for(var r=0;r<this.height;r++)t.setBitXY(0,r),t.setBitXY(this.width-1,r);this.computed.boxMask=t}return this.computed.boxMask}},{key:"mask",get:function(){if(!this.computed.mask){for(var t=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),e=0;e<this.width;e++)for(var r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&t.setBitXY(e,r);this.computed.mask=t}return this.computed.mask}},{key:"filledMask",get:function(){if(!this.computed.filledMask){for(var t=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),e=0;e<this.width;e++)for(var r=0;r<this.height;r++){var n=e+this.minX+(r+this.minY)*this.map.width;this.internalIDs.includes(this.map.data[n])&&t.setBitXY(e,r)}this.computed.filledMask=t}return this.computed.filledMask}},{key:"centerMask",get:function(){if(!this.computed.centerMask){var t=new ss({kind:"smallCross"}).getMask();t.parent=this.map.parent,t.position=[this.minX+this.center[0]-1,this.minY+this.center[1]-1],this.computed.centerMask=t}return this.computed.centerMask}},{key:"convexHull",get:function(){if(!this.computed.convexHull){for(var t=[],e=0;e<this.width;e++)for(var r=0;r<this.height;r++)this.map.data[e+this.minX+(r+this.minY)*this.map.width]===this.id&&(e>0&&e<this.width-1&&r>0&&r<this.height-1&&this.map.data[e-1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+1+this.minX+(r+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r-1+this.minY)*this.map.width]===this.id&&this.map.data[e+this.minX+(r+1+this.minY)*this.map.width]===this.id||(t.push([e,r]),t.push([e+1,r]),t.push([e,r+1]),t.push([e+1,r+1])));var n=Os(t);this.computed.convexHull={polyline:n,surface:Bs(n),perimeter:Ls(n)}}return this.computed.convexHull}},{key:"convexHullMask",get:function(){if(!this.computed.convexHullMask){var t=this.convexHull,e=new cu(this.width+1,this.height+1,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent});e.paintPolyline(t.polyline,{closed:!0}),this.computed.convexHullMask=e}return this.computed.convexHullMask}},{key:"convexHullFilledMask",get:function(){if(!this.computed.convexHullFilledMask){for(var t=this.convexHull,e=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),r=0;r<this.width;r++)for(var n=0;n<this.height;n++)1!==qs()(t.polyline,[r,n])&&e.setBitXY(r,n);this.computed.convexHullFilledMask=e}return this.computed.convexHullFilledMask}},{key:"mbr",get:function(){if(!this.computed.mbr){var t=Fs({originalPoints:this.convexHull.polyline});if(0===t.length)this.computed.mbr={width:0,height:0,surface:0,perimeter:0,rectangle:t};else{var e=t[0],r=t[1],n=t[2],i=Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2)),a=Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2));this.computed.mbr={width:i,height:a,elongation:1-i/a,aspectRatio:i/a,surface:i*a,perimeter:2*(i+a),rectangle:t}}}return this.computed.mbr}},{key:"fillRatio",get:function(){return this.surface/(this.surface+this.holesInfo.surface)}},{key:"feretDiameters",get:function(){return this.computed.feretDiameters||(this.computed.feretDiameters=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).originalPoints,e=void 0===t?Ts.call(this):t;if(0===e.length)return{min:0,max:0,minLine:[],maxLine:[],aspectRatio:1};if(1===e.length)return{min:1,max:1,minLine:[e[0],e[0]],maxLine:[e[0],e[0]],aspectRatio:1};for(var r=new Array(e.length),n=1/0,i=0,a=[],o=0;o<e.length;o++){var s=Hs(e[o],e[(o+1)%e.length]);js(-s,e,r);for(var u=0,l=[],h=0;h<e.length;h++){var c=Math.abs(r[o][1]-r[h][1]);c>u&&(u=c,(l=[]).push([r[h][0],r[o][1]],[r[h][0],r[h][1]]))}u<n&&(n=u,i=s,a=l)}js(i,a,a);for(var f=0,d=[],p=0,m=0;m<e.length-1;m++)for(var g=m+1;g<e.length;g++){var v=Math.pow(e[m][0]-e[g][0],2)+Math.pow(e[m][1]-e[g][1],2);v>p&&(p=v,f=Math.sqrt(v),d=[e[m],e[g]])}return{min:n,minLine:a,max:f,maxLine:d,aspectRatio:n/f}}({originalPoints:this.convexHull.polyline})),this.computed.feretDiameters}},{key:"eqpc",get:function(){return this.computed.eqpc||(this.computed.eqpc=2*Math.sqrt(this.surface/Math.PI)),this.computed.eqpc}},{key:"perimeterInfo",get:function(){return this.computed.perimeterInfo||(this.computed.perimeterInfo=function(t){for(var e=t.map,r=e.data,n=0,i=0,a=0,o=0,s=0;s<t.width;s++)for(var u=0;u<t.height;u++){var l=(u+t.minY)*e.width+s+t.minX;if(r[l]===t.id){var h=0;switch(0===s?h++:t.externalIDs.includes(r[l-1])&&h++,s===t.width-1?h++:t.externalIDs.includes(r[l+1])&&h++,0===u?h++:t.externalIDs.includes(r[l-e.width])&&h++,u===t.height-1?h++:t.externalIDs.includes(r[l+e.width])&&h++,h){case 1:n++;break;case 2:i++;break;case 3:a++;break;case 4:o++}}}return{one:n,two:i,three:a,four:o}}(this)),this.computed.perimeterInfo}},{key:"perimeter",get:function(){var t=this.perimeterInfo,e=2-Math.sqrt(2);return t.one+2*t.two+3*t.three+4*t.four-e*(t.two+2*t.three+t.four)}},{key:"ped",get:function(){return this.computed.ped||(this.computed.ped=this.perimeter/Math.PI),this.computed.ped}},{key:"feretMask",get:function(){if(!this.computed.feretMask){var t=new cu(this.width+1,this.height+1,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent});t.paintPolyline(this.feretDiameters.minLine),t.paintPolyline(this.feretDiameters.maxLine),this.computed.feretMask=t}return this.computed.feretMask}},{key:"mbrMask",get:function(){if(!this.computed.mbrMask){var t=function(t){for(var e=0;e<t.length;e++)t[e][0]=Math.round(t[e][0]),t[e][1]=Math.round(t[e][1]);return t}(this.mbr.rectangle);if(t.length>0){var e=Ns(t),r=new cu(e[1][0]-e[0][0]+1,e[1][1]-e[0][1]+1,{kind:dn,position:[this.minX+e[0][0],this.minY+e[0][1]],parent:this.map.parent});t=function(t,e){void 0===e&&(e=new Array(t.length).fill(0).map(function(){return[]}));for(var r=Ns(t),n=r[0][0],i=r[0][1],a=0;a<t.length;a++)e[a][0]=t[a][0]-n,e[a][1]=t[a][1]-i;return e}(t),r.paintPolyline(t,{closed:!0}),this.computed.mbrMask=r}else this.computed.mbrMask=new cu(1,1,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent})}return this.computed.mbrMask}},{key:"mbrFilledMask",get:function(){if(!this.computed.mbrFilledMask){for(var t=new cu(this.width,this.height,{kind:dn,position:[this.minX,this.minY],parent:this.map.parent}),e=this.mask.minimalBoundingRectangle(),r=0;r<this.width;r++)for(var n=0;n<this.height;n++)1!==qs()(e,[r,n])&&t.setBitXY(r,n);this.computed.mbrFilledMask=t}return this.computed.mbrFilledMask}},{key:"points",get:function(){if(!this.computed.points){for(var t=[],e=0;e<this.height;e++)for(var r=0;r<this.width;r++){var n=(e+this.minY)*this.map.width+r+this.minX;this.map.data[n]===this.id&&t.push([r,e])}this.computed.points=t}return this.computed.points}},{key:"maxLengthPoints",get:function(){if(!this.computed.maxLengthPoints){for(var t,e=0,r=this.points,n=0;n<r.length;n++)for(var i=n+1;i<r.length;i++){var a=Math.pow(r[n][0]-r[i][0],2)+Math.pow(r[n][1]-r[i][1],2);a>=e&&(e=a,t=[r[n],r[i]])}this.computed.maxLengthPoints=t}return this.computed.maxLengthPoints}},{key:"maxLength",get:function(){if(!this.computed.maxLength){var t=Math.sqrt(Math.pow(this.maxLengthPoints[0][0]-this.maxLengthPoints[1][0],2)+Math.pow(this.maxLengthPoints[0][1]-this.maxLengthPoints[1][1],2));this.computed.maxLength=t}return this.computed.maxLength}},{key:"roundness",get:function(){return 4*this.surface/(Math.PI*Math.pow(this.feretDiameters.max,2))}},{key:"sphericity",get:function(){return 2*Math.sqrt(this.surface*Math.PI)/this.perimeter}},{key:"solidity",get:function(){return this.surface/this.convexHull.surface}},{key:"angle",get:function(){if(!this.computed.angle){var t=this.maxLengthPoints,e=180*-Math.atan2(t[0][1]-t[1][1],t[0][0]-t[1][0])/Math.PI;this.computed.angle=e}return this.computed.angle}},{key:"toJSON",value:function(){return{id:this.id,minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,meanX:this.meanX,meanY:this.meanY,height:this.height,width:this.width,surface:this.surface,mbrWidth:this.mbr.width,mbrHeight:this.mbr.height,mbrSurface:this.mbr.surface,eqpc:this.eqpc,ped:this.ped,feretDiameterMin:this.feretDiameters.min,feretDiameterMax:this.feretDiameters.max,aspectRatio:this.feretDiameters.aspectRatio,fillRatio:this.fillRatio,sphericity:this.sphericity,roundness:this.roundness,solidity:this.solidity,perimeter:this.perimeter}}}]),t}();var Ws=function(){function t(e,r){Object(s.a)(this,t),this.roiMap=e,this.options=r,this.roi=this.createRoi()}return Object(u.a)(t,[{key:"createRoi",value:function(){var t=this.roiMap.data,e={};this.roiMap.positive=0,this.roiMap.negative=0;for(var r=0;r<t.length;r++)t[r]&&!e[t[r]]&&(e[t[r]]=!0,t[r]>0?this.roiMap.positive++:this.roiMap.negative++);var n={};for(var i in e)n[i]=new Gs(this.roiMap,1*i);for(var a=this.roiMap.width,o=this.roiMap.height,s=0;s<o;s++)for(var u=0;u<a;u++){var l=s*a+u;if(0!==t[l]){var h=n[t[l]];u<h.minX&&(h.minX=u),u>h.maxX&&(h.maxX=u),s<h.minY&&(h.minY=s),s>h.maxY&&(h.maxY=s),h.meanX+=u,h.meanY+=s,h.surface++}}var c=[];for(var f in e)n[f].meanX/=n[f].surface,n[f].meanY/=n[f].surface,c.push(n[f]);return c}}]),t}();var Ks=function(){function t(e,r){Object(s.a)(this,t),this.parent=e,this.width=e.width,this.height=e.height,this.data=r,this.negative=0,this.positive=0}return Object(u.a)(t,[{key:"total",get:function(){return this.negative+this.positive}},{key:"minMax",get:function(){for(var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER,r=0;r<this.data.length;r++)this.data[r]<t&&(t=this.data[r]),this.data[r]>e&&(e=this.data[r]);return{min:t,max:e}}},{key:"commonBorderLength",get:function(){return function(t){for(var e=t.data,r=[1,0,-1,0],n=[0,1,0,-1],i=t.minMax,a=-i.min,o=i.max+a,s=[],u=0;u<=o;u++)s.push(Object.create(null));for(var l=0;l<t.width;l++)for(var h=0;h<t.height;h++){var c=e[l+h*t.width];if(0!==c){for(var f=Object.create(null),d=!1,p=0;p<4;p++){var m=l+r[p],g=h+n[p];if(m>=0&&g>=0&&m<t.width&&g<t.height){var v=e[m+g*t.width];c!==v&&(d=!0,0!==v&&void 0===f[v]&&(f[v]=!0,s[v+a][c]?s[v+a][c]++:s[v+a][c]=1))}else d=!0}d&&(s[c+a][c]?s[c+a][c]++:s[c+a][c]=1)}}for(var y={},w=0;w<s.length;w++)Object.keys(s[w]).length>0&&(y[w-a]=s[w]);return y}(this)}},{key:"mergeRoi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.algorithm,r=void 0===e?"commonBorderLength":e,n=t.minCommonBorderLength,i=void 0===n?5:n,a=t.maxCommonBorderLength,o=void 0===a?100:a,s=t.minCommonBorderRatio,u=void 0===s?.3:s,l=t.maxCommonBorderRatio,h=void 0===l?1:l,c=function(t,e,r){return t[r]>=i&&t[r]<=o};"function"===typeof r&&(c=r),"commonborderratio"===r.toLowerCase()&&(c=function(t,e,r){var n=Math.min(t[r]/t[e],1);return n>=u&&n<=h});for(var f=this.commonBorderLength,d={},p={},m=0,g=Object.keys(f);m<g.length;m++)for(var v=g[m],y=f[v],w=0,b=Object.keys(y);w<b.length;w++){var k=b[w];if(k!==v&&c(y,v,k)){var _=k;p[k]&&(_=p[k]);var x=v;if(p[v]&&(x=p[v]),Number(_)!==x){var M=Math.min(_,x),E=Math.max(_,x);if(d[M]||(d[M]={}),d[M][E]=!0,p[E]=M,d[E]){for(var S=0,A=Object.keys(d[E]);S<A.length;S++){var P=A[S];d[M][P]=!0,p[P]=M}delete d[E]}}}}for(var C=this.minMax,O=-C.min,D=C.max+O,I=new Array(D+1).fill(0),T=0,R=Object.keys(p);T<R.length;T++){var U=R[T];I[Number(U)+O]=p[U]}for(var j=this.data,L=0;L<j.length;L++){var B=j[L];if(0!==B){var N=I[B+O];0!==N&&(j[L]=N)}}return this.computed={},this}.call(this,t)}},{key:"mergeRois",value:function(t){for(var e=t[0],r=t.slice(1),n=0;n<this.data.length;n++)r.includes(this.data[n])&&(this.data[n]=e)}},{key:"rowsInfo",value:function(){for(var t=new Array(this.height),e=0,r=0;r<this.data.length;r+=this.width){var n={row:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;for(var i={},a={},o=[],s=this.data[r],u=0,l=r;l<r+this.width;l++){var h=this.data[l];s!==h&&(s=h,o.push(u),u=0),u++,h>0?(n.positivePixel++,i[h]||(i[h]=!0)):h<0?(n.negativePixel++,a[h]||(a[h]=!0)):n.zeroPixel++}o.push(u),n.medianChange=o.sort(function(t,e){return t-e})[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(a),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}},{key:"colsInfo",value:function(){for(var t=new Array(this.width),e=0,r=0;r<this.width;r++){var n={col:e,positivePixel:0,negativePixel:0,zeroPixel:0,positiveRoi:0,negativeRoi:0,medianChange:0};t[e++]=n;for(var i={},a={},o=[],s=this.data[r],u=0,l=r;l<r+this.data.length;l+=this.width){var h=this.data[l];s!==h&&(s=h,o.push(u),u=0),u++,h>0?(n.positivePixel++,i[h]||(i[h]=!0)):h<0?(n.negativePixel++,a[h]||(a[h]=!0)):n.zeroPixel++}o.push(u),n.medianChange=o.sort(function(t,e){return t-e})[Math.floor(o.length/2)],n.positiveRoiIDs=Object.keys(i),n.negativeRoiIDs=Object.keys(a),n.positiveRoi=n.positiveRoiIDs.length,n.negativeRoi=n.negativeRoiIDs.length}return t}}]),t}();var Zs=r(69),Qs=r.n(Zs),$s=[-1,0],Js=[0,-1],tu=[null,null],eu=[-1,-1,0,1],ru=[0,-1,-1,-1],nu=[null,null,null,null];var iu=r(41),au=r.n(iu),ou=[1,0,-1,0,1,1,-1,-1],su=[0,1,0,-1,1,-1,1,-1];var uu=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(s.a)(this,t),this._image=e,this._options=r,this._options.label||(this._options.label="default"),this._layers={},this._painted=null}return Object(u.a)(t,[{key:"fromMaxima",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.allowCorner,r=void 0===e||e,n=t.onlyTop,i=void 0!==n&&n,a=(t.invert,this);a.checkProcessable("fromMaxima",{components:[1]});var o=1,s=2,u=0,l=0,h=new Int16Array(a.size),c=new Int8Array(a.size),f=new Float32Array(a.size),d=1048575,p=new Uint16Array(d+1),m=new Uint16Array(d+1),g=0,v=0,y=new Uint16Array(d+1),w=new Uint16Array(d+1),b=0,k=0;for(function(t){for(var e=t.maxima,n=void 0===e||e,i=1;i<a.height-1;i++)for(var o=1;o<a.width-1;o++){var s=o+i*a.width;if(0===c[s]){var f=n?a.data[s]:-a.data[o+i*a.width];if(a.data[i*a.width+o-1]>f)continue;if(a.data[i*a.width+o+1]>f)continue;if(a.data[(i-1)*a.width+o]>f)continue;if(a.data[(i+1)*a.width+o]>f)continue;if(r){if(a.data[(i-1)*a.width+o-1]>f)continue;if(a.data[(i-1)*a.width+o+1]>f)continue;if(a.data[(i+1)*a.width+o-1]>f)continue;if(a.data[(i+1)*a.width+o+1]>f)continue}h[s]=n?++u:--l;var d=_(o,i);d||(n?--u:++l)}}}(a);g<v;)x(p[g&d],m[g&d],s),g++;return new Ks(a,h);function _(t,e){var r=v;b=0,k=1,y[0]=t,w[0]=e;for(var n=!0;b<k;)n&=x(y[b&d],w[b&d],o),b++;if(!n){for(var i=0;i<k;i++){var s=y[i&d],u=w[i&d]*a.width+s;h[u]=0}v=r}return n}function x(t,e,r){for(var n=h[e*a.width+t],u=a.data[e*a.width+t],l=e-1;l<=e+1;l++)for(var g=t-1;g<=t+1;g++){var b=l*a.width+g;if(0===c[b])switch(c[b]=1,f[b]=a.data[b]-u,r){case o:if(0===f[b]){if(0===g||0===l||g===a.width-1||l===a.height-1)return!1;h[b]=n,y[k&d]=g,w[k&d]=l,k++}else{if(f[b]>0)return!1;i||(h[b]=n,p[v&d]=g,m[v&d]=l,v++)}break;case s:f[b]<=0&&(h[b]=n,p[v&d]=g,m[v&d]=l,v++);break;default:throw new Error("unreachable")}}return!0}}.call(this._image,t);this._layers[e.label]=new Ws(r,e)}},{key:"fromPoints",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new ss(e),n=new Int16Array(this.size),i=0,a=r.getPoints(),o=0;o<t.length;o++){i++;for(var s=t[o][0],u=t[o][1],l=0;l<a.length;l++){var h=a[l][0],c=a[l][1];s+h>=0&&u+c>=0&&s+h<this.width&&u+c<this.height&&(n[s+h+(u+c)*this.width]=i)}}return new Ks(this,n)}.call(this._image,t,e);return this._layers[r.label]=new Ws(n,r),this}},{key:"putMap",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new Ks(this._image,t),n=Object.assign({},this._options,e);return this._layers[n.label]=new Ws(r,n),this}},{key:"fromWaterShed",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.points,r=t.mask,n=t.image,i=t.fillMaxValue,a=void 0===i?this.maxValue:i,o=t.invert,s=void 0!==o&&o,u=n||this;u.checkProcessable("fromWaterShed",{bitDepth:[8,16],components:1}),s=!s,e||(e=u.getLocalMaxima({invert:s,mask:r}));for(var l=s?0:1,h=new Int16Array(u.size),c=u.width,f=u.height,d=new au.a({comparator:function(t,e){return t[2]-e[2]},strategy:au.a.BinaryHeapStrategy}),p=0;p<e.length;p++){var m=e[p][0]+e[p][1]*c;h[m]=p+1;var g=u.data[m];(s&&g<=a||!s&&g>=a)&&d.queue([e[p][0],e[p][1],g])}for(;d.length>0;)for(var v=d.dequeue(),y=v[0]+v[1]*c,w=0;w<4;w++){var b=v[0]+ou[w],k=v[1]+su[w];if(b>=0&&k>=0&&b<c&&k<f){var _=b+k*c;if(!r||r.getBit(_)===l){var x=u.data[_];(s&&x<=a||!s&&x>=a)&&0===h[_]&&(h[_]=h[y],d.queue([v[0]+ou[w],v[1]+su[w],x]))}}}return new Ks(u,h)}.call(this._image,t);this._layers[e.label]=new Ws(r,e)}},{key:"fromMask",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=function(t){for(var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowCorners,r=void 0!==e&&e,n=65535,i=new Int16Array(t.size),a=0,o=0,s=new Uint16Array(n+1),u=new Uint16Array(n+1),l=0;l<t.width;l++)for(var h=0;h<t.height;h++)0===i[h*t.width+l]&&c(l,h);function c(e,l){var h=0,c=0,f=t.getBitXY(e,l),d=f?++a:--o;if(a>32767||o<-32768)throw new Error("Too many regions of interest");for(s[0]=e,u[0]=l;h<=c;){var p=s[h&n],m=u[h&n];if(i[m*t.width+p]=d,p>0&&0===i[m*t.width+p-1]&&t.getBitXY(p-1,m)===f&&(s[++c&n]=p-1,u[c&n]=m,i[m*t.width+p-1]=-32768),m>0&&0===i[(m-1)*t.width+p]&&t.getBitXY(p,m-1)===f&&(s[++c&n]=p,u[c&n]=m-1,i[(m-1)*t.width+p]=-32768),p<t.width-1&&0===i[m*t.width+p+1]&&t.getBitXY(p+1,m)===f&&(s[++c&n]=p+1,u[c&n]=m,i[m*t.width+p+1]=-32768),m<t.height-1&&0===i[(m+1)*t.width+p]&&t.getBitXY(p,m+1)===f&&(s[++c&n]=p,u[c&n]=m+1,i[(m+1)*t.width+p]=-32768),r&&(p>0&&m>0&&0===i[(m-1)*t.width+p-1]&&t.getBitXY(p-1,m-1)===f&&(s[++c&n]=p-1,u[c&n]=m-1,i[(m-1)*t.width+p-1]=-32768),p<t.width-1&&m>0&&0===i[(m-1)*t.width+p+1]&&t.getBitXY(p+1,m-1)===f&&(s[++c&n]=p+1,u[c&n]=m-1,i[(m-1)*t.width+p+1]=-32768),p>0&&m<t.height-1&&0===i[(m+1)*t.width+p-1]&&t.getBitXY(p-1,m+1)===f&&(s[++c&n]=p-1,u[c&n]=m+1,i[(m+1)*t.width+p-1]=-32768),p<t.width-1&&m<t.height-1&&0===i[(m+1)*t.width+p+1]&&t.getBitXY(p+1,m+1)===f&&(s[++c&n]=p+1,u[c&n]=m+1,i[(m+1)*t.width+p+1]=-32768)),c-++h>n)throw new Error("analyseMask can not finish, the array to manage internal data is not big enough.You could improve mask by changing MAX_ARRAY")}}return new Ks(t,i)}.call(this._image,t,e);return this._layers[r.label]=new Ws(n,r),this}},{key:"fromMaskConnectedComponentLabelingAlgorithm",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},this._options,e),n=function(t){var e,r,n,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowCorners,a=4;if(void 0!==i&&i&&(a=8),8===a)e=eu,r=ru,n=nu;else{if(4!==a)throw new RangeError("unsupported neighbours count: ".concat(a));e=$s,r=Js,n=tu}for(var o=t.size,s=t.width,u=t.height,l=new Array(o),h=new Uint32Array(o),c=new Qs.a,f=1,d=0;d<u;d++)for(var p=0;p<s;p++){var m=p+d*s;if(t.getBit(m)){for(var g=null,v=0;v<n.length;v++){var y=p+e[v],w=d+r[v];if(y>=0&&w>=0&&y<s&&w<u){var b=l[y+w*s];b?(n[v]=b,(!g||n[v].value<g.value)&&(g=n[v])):n[v]=null}}if(g){l[m]=g;for(var k=0;k<n.length;k++)n[k]&&n[k]!==g&&c.union(g,n[k])}else l[m]=c.add(f++)}}for(var _=0;_<u;_++)for(var x=0;x<s;x++){var M=x+_*s;t.getBit(M)&&(h[M]=c.find(l[M]).value)}return new Ks(t,h)}.call(this._image,t,e);return this._layers[r.label]=new Ws(n,r),this}},{key:"getMap",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap}},{key:"rowsInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(t).rowsInfo()}},{key:"colsInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getMap(t).rowsInfo()}},{key:"getRoiIds",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getRois(t);if(e){for(var r=new Array(e.length),n=0;n<e.length;n++)r[n]=e[n].id;return r}throw new Error("ROIs not found")}},{key:"getRois",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.label,r=void 0===e?this._options.label:e,n=t.positive,i=void 0===n||n,a=t.negative,o=void 0===a||a,s=t.minSurface,u=void 0===s?0:s,l=t.maxSurface,h=void 0===l?Number.POSITIVE_INFINITY:l,c=t.minWidth,f=void 0===c?0:c,d=t.maxWidth,p=void 0===d?Number.POSITIVE_INFINITY:d,m=t.minHeight,g=void 0===m?0:m,v=t.maxHeight,y=void 0===v?Number.POSITIVE_INFINITY:v,w=t.minRatio,b=void 0===w?0:w,k=t.maxRatio,_=void 0===k?Number.POSITIVE_INFINITY:k;if(!this._layers[r])throw new Error("this Roi layer (".concat(r,") does not exist"));var x,M=[],E=En(this._layers[r].roi);try{for(E.s();!(x=E.n()).done;){var S=x.value;(S.id<0&&o||S.id>0&&i)&&S.surface>=u&&S.surface<=h&&S.width>=f&&S.width<=p&&S.height>=g&&S.height<=y&&S.ratio>=b&&S.ratio<=_&&M.push(S)}}catch(A){E.e(A)}finally{E.f()}return M}},{key:"getRoi",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).label,r=void 0===e?this._options.label:e;if(!this._layers[r])throw new Error("this Roi layer (".concat(r,") does not exist"));var n=this._layers[r].roi.find(function(e){return e.id===t});if(!n)throw new Error("found no Roi with id ".concat(t));return n}},{key:"getMasks",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getRois(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=e[n].getMask(t);return r}},{key:"getAnalysisMasks",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.analysisProperty,r="".concat(e,"Mask"),n=this.getRois(t);return 0!==n.length&&n[0][r]?n.map(function(t){return t[r]}):[]}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this._options,t);return this._assertLayerWithLabel(e.label),this._layers[e.label].roiMap.data}},{key:"paint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.labelProperty,r=t.analysisProperty;this._painted||(this._painted=this._image.rgba8());var n=this.getMasks(t);if(e){var i=this.getRois(t);t.labels=i.map(function(t){return function(t){var e,r=En((arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").split("."));try{for(r.s();!(e=r.n()).done;){var n=e.value;if(void 0===t[n])return;t=t[n]}}catch(i){r.e(i)}finally{r.f()}return t}(t,e)});var a=Math.max.apply(Math,Object(nn.a)(t.labels)),o=!1,s=!1;if(e.includes("surface")?o=!0:/(?:perimeter|min|max|external|width|height|length)/.test(e)&&(s=!0),isFinite(a)){var u="";if("pixel"!==t.unit&&t.pixelSize&&(s||o)){u=o?"".concat(t.unit,"^2"):t.unit;var l=o?"m^2":"m",h=o?Math.pow(t.pixelSize,2):t.pixelSize,c=Ys.a.swiftConverter(l,u);t.labels=t.labels.map(function(t){return c(h*t)})}t.labels=a>50?t.labels.map(function(t){return Math.round(t)+u}):a>10?t.labels.map(function(t){return t.toFixed(1)+u}):t.labels.map(function(t){return t.toFixed(2)+u})}t.labelsPosition=i.map(function(t){return[t.meanX,t.meanY]})}if(this._painted.paintMasks(n,t),r){var f=this.getAnalysisMasks(t);this._painted.paintMasks(f,{color:t.analysisColor,alpha:t.analysisAlpha})}return this._painted}},{key:"getMask",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new cu(this._image.width,this._image.height,{kind:"BINARY"}),r=this.getMasks(t),n=0;n<r.length;n++)for(var i=r[n],a=0;a<i.width;a++)for(var o=0;o<i.height;o++)i.getBitXY(a,o)&&e.setBitXY(a+i.position[0],o+i.position[1]);return e}},{key:"resetPainted",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).image;this._painted=t?this.image.rgba8():this._image.rgba8()}},{key:"mergeRoi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getMap(t);return e.mergeRoi(t),this.putMap(e.data,t),this}},{key:"mergeRois",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(t)||t.some(function(t){return!Number.isInteger(t)}))throw new Error("Roi ids must be an array of integers");if(t.length<2)throw new Error("Roi ids must have at least two elements");if(new Set(t).size!==t.length)throw new Error("Roi ids must be all different");t.forEach(function(t){return e.getRoi(t)});var n=this.getMap(r);return n.mergeRois(t),this.putMap(n.data,r),this}},{key:"findCorrespondingRoi",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRois(e),n=[],i=0;i<r.length;i++){var a=r[i],o=lu(a.minX,a.minY,a.points,t,Math.sign(a.id));n.push(o)}return n}},{key:"_assertLayerWithLabel",value:function(t){if(!this._layers[t])throw new Error("no layer with label ".concat(t))}}]),t}();function lu(t,e,r,n,i){for(var a={id:[],surface:[],roiSurfaceCovered:[],same:0,opposite:0,total:0},o=0;o<r.length;o++){var s=r[o],u=s[0]+t+(s[1]+e)*n.width,l=n.data[u];(l>0||l<0)&&(a.id.includes(l)?a.surface[a.id.indexOf(l)]+=1:(a.id.push(l),a.surface.push(1)))}for(var h=0;h<a.id.length;h++){Math.sign(a.id[h])===i?a.same+=a.surface[h]:a.opposite+=a.surface[h],a.roiSurfaceCovered[h]=a.surface[h]/r.length}return a.total=a.opposite+a.same,a}var hu=Object.prototype.toString,cu=function(t){function e(t,r,i,a){if(Object(s.a)(this,e),1===arguments.length){var o=a=t;t=o.width,r=o.height,i=o.data}else if(i&&!i.length){i=(a=i).data}if(void 0===t&&(t=1),void 0===r&&(r=1),void 0===a&&(a={}),"object"!==typeof a||null===a)throw new TypeError("options must be an object");if(!Number.isInteger(t)||t<=0)throw new RangeError("width must be a positive integer");if(!Number.isInteger(r)||r<=0)throw new RangeError("height must be a positive integer");var u=a.kind,l=void 0===u?pn:u;if("string"!==typeof l)throw new TypeError("kind must be a string");var h=function(t){var e=mn[t];if(!e)throw new RangeError("invalid image kind: ".concat(t));return e}(l),c=Object.assign({},a);for(var f in h)void 0===c[f]&&(c[f]=h[f]);!function(t){var e=t.components,r=t.alpha,i=t.bitDepth,a=t.colorModel;if(!Number.isInteger(e)||e<=0)throw new RangeError("invalid components: ".concat(e,". Must be a positive integer"));if(0!==r&&1!==r&&"boolean"!==typeof r)throw new TypeError("invalid alpha: ".concat(r,": must be a boolean, 0 or 1"));if(!gn.includes(i))throw new RangeError("invalid bitDepth: ".concat(i,". Must be one of ").concat(gn.join(", ")));if(!n[a])throw new RangeError("invalid colorModel: ".concat(a,". Must be one of ").concat(Object.keys(n).join(", ")))}(c);var d=c.components,p=c.bitDepth,m=c.colorModel,g=c.alpha+0,v=t*r,y=d+g,w=32===p?Number.MAX_VALUE:Math.pow(2,p)-1;if(void 0===i)i=function(t,e,r,n,i,a){var o,s=n*t;switch(i){case 1:o=new Uint8Array(Math.ceil(s/8));break;case 8:o=new Uint8Array(s);break;case 16:o=new Uint16Array(s);break;case 32:o=new Float32Array(s);break;default:throw new Error("Cannot create pixel array for bit depth ".concat(i))}if(r)for(var u=e;u<o.length;u+=n)o[u]=a;return o}(v,d,g,y,p,w);else{var b=function(t,e,r){var n=e*t;return 1===r&&(n=Math.ceil(n/8)),n}(v,y,p);if(i.length!==b)throw new RangeError("incorrect data size: ".concat(i.length,". Should be ").concat(b))}this.width=t,this.height=r,this.data=i,this.size=v,this.components=d,this.alpha=g,this.bitDepth=p,this.maxValue=w,this.colorModel=m,this.channels=y,this.meta=a.meta||{},Object.defineProperty(this,"parent",{enumerable:!1,writable:!0,configurable:!0,value:a.parent||null}),this.position=a.position||[0,0],this.computed=null,this.sizes=[this.width,this.height],this.multiplierX=this.channels,this.multiplierY=this.channels*this.width,this.isClamped=this.bitDepth<32,this.borderSizes=[0,0]}return Object(u.a)(e,[{key:t,get:function(){return"IJSImage"}},{key:"getRoiManager",value:function(t){return new uu(this,t)}},{key:"clone",value:function(){var t=this.data.slice();return new e(this.width,this.height,t,this)}},{key:"apply",value:function(t){for(var e=0;e<this.height;e++)for(var r=0;r<this.width;r++){var n=(e*this.width+r)*this.channels;t.call(this,n)}}}],[{key:"isImage",value:function(t){return"[object IJSImage]"===hu.call(t)}},{key:"fromCanvas",value:function(t){var r=t.getContext("2d").getImageData(0,0,t.width,t.height);return new e(r.width,r.height,r.data)}},{key:"createFrom",value:function(t,r){var n=wi(t);return Object.assign(n,{parent:t,position:[0,0]},r),new e(n)}}]),e}(Symbol.toStringTag);!function(t){for(var e in yi)t.prototype[e]=yi[e]}(cu),function(t){for(var e in l)t.prototype[e]=l[e]}(cu),function(t){for(var e in rn)t.prototype[e]=rn[e]}(cu),cu.prototype.checkProcessable=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.bitDepth,n=e.alpha,i=e.colorModel,a=e.components,o=e.channels;if("string"!==typeof t||0===t.length)throw new TypeError("processName must be a string");if(r&&(Array.isArray(r)||(r=[r]),!r.includes(this.bitDepth)))throw new TypeError("The process: ".concat(t," can only be applied if bit depth is in: ").concat(r));if(n&&(Array.isArray(n)||(n=[n]),!n.includes(this.alpha)))throw new TypeError("The process: ".concat(t," can only be applied if alpha is in: ").concat(n));if(i&&(Array.isArray(i)||(i=[i]),!i.includes(this.colorModel)))throw new TypeError("The process: ".concat(t," can only be applied if color model is in: ").concat(i));if(a&&(Array.isArray(a)||(a=[a]),!a.includes(this.components))){var s="The process: ".concat(t," can only be applied if the number of components is in: ").concat(a);throw 1===a.length&&1===a[0]?new TypeError("".concat(s,'.\rYou should transform your image using "image.grey()" before applying the algorithm.')):new TypeError(s)}if(o&&(Array.isArray(o)||(o=[o]),!o.includes(this.channels)))throw new TypeError("The process: ".concat(t," can only be applied if the number of channels is in: ").concat(o))},cu.prototype.getRGBAData=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clamped;this.checkProcessable("getRGBAData",{components:[1,3],bitDepth:[1,8,16,32]});var e=this.width*this.height*4,r=t?new Uint8ClampedArray(e):new Uint8Array(e);return 1===this.bitDepth?function(t,e){for(var r=0;r<t.size;r++){var n=t.getBit(r);e[4*r]=255*n,e[4*r+1]=255*n,e[4*r+2]=255*n}}(this,r):32===this.bitDepth?(this.checkProcessable("getRGBAData",{alpha:0}),1===this.components?function(t,e){for(var r=t.min[0],n=t.max[0]-r,i=0;i<t.size;i++){var a=Math.floor(255*(t.data[i]-r)/n);e[4*i]=a,e[4*i+1]=a,e[4*i+2]=a}}(this,r):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[ln]}),function(t,e){for(var r=Math.min.apply(Math,Object(nn.a)(t.min)),n=Math.max.apply(Math,Object(nn.a)(t.max))-r,i=0;i<t.size;i++){var a=Math.floor(255*(t.data[3*i]-r)/n),o=Math.floor(255*(t.data[3*i+1]-r)/n),s=Math.floor(255*(t.data[3*i+2]-r)/n);e[4*i]=a,e[4*i+1]=o,e[4*i+2]=s}}(this,r))):1===this.components?function(t,e){for(var r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels]>>>t.bitDepth-8}(this,r):3===this.components&&(this.checkProcessable("getRGBAData",{colorModel:[ln]}),function(t,e){for(var r=0;r<t.size;r++)e[4*r]=t.data[r*t.channels]>>>t.bitDepth-8,e[4*r+1]=t.data[r*t.channels+1]>>>t.bitDepth-8,e[4*r+2]=t.data[r*t.channels+2]>>>t.bitDepth-8}(this,r)),1===this.alpha?(this.checkProcessable("getRGBAData",{bitDepth:[8,16]}),function(t,e){for(var r=0;r<t.size;r++)e[4*r+3]=t.data[r*t.channels+t.components]>>t.bitDepth-8}(this,r)):function(t,e){for(var r=0;r<t.size;r++)e[4*r+3]=255}(this,r),r},cu.load=function(t,e){if("string"===typeof t)return function(t,e){var r=t.slice(0,64).match(di);return(null!==r?Promise.resolve(function(t){var e,r,n,i,a=.75*t.length,o=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);for(var u=new Uint8Array(a),l=0;l<o;l+=4)e=Wr[t.charCodeAt(l)],r=Wr[t.charCodeAt(l+1)],n=Wr[t.charCodeAt(l+2)],i=Wr[t.charCodeAt(l+3)],u[s++]=e<<2|r>>4,u[s++]=(15&r)<<4|n>>2,u[s++]=(3&n)<<6|63&i;return u}(t.slice(r[0].length))):function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).withCredentials,r=void 0!==e&&e;return new Promise(function(e,n){var i=new self.XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.withCredentials=r,i.onload=function(t){200!==this.status?n(t):e(this.response)},i.onerror=n,i.send()})}(t,e)).then(function(e){var n=new Uint8Array(e);return pi(n,r?t:void 0)})}(t,e);if(t instanceof ArrayBuffer)return Promise.resolve(pi(new Uint8Array(t)));if(t.buffer)return Promise.resolve(pi(t));throw new Error('argument to "load" must be a string or buffer.')},cu.extendMethod=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.inPlace,i=void 0!==n&&n,a=r.returnThis,o=void 0===a||a,s=r.partialArgs,u=void 0===s?[]:s;return cu.prototype[t]=i?function(){this.computed=null;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=e.apply(this,[].concat(Object(nn.a)(u),r));return o?this:i}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,[].concat(Object(nn.a)(u),r))},cu},cu.extendProperty=function(t,e){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).partialArgs,n=void 0===r?[]:r;return sn.get=function(){if(null===this.computed)this.computed={};else if(on()(t,this.computed))return this.computed[t];var r=e.apply(this,n);return this.computed[t]=r,r},Object.defineProperty(cu.prototype,t,sn),cu},function(t){var e={inPlace:!0};t.extendMethod("invert",xi),t.extendMethod("abs",_i),t.extendMethod("level",Zi,e),t.extendMethod("add",ta,e),t.extendMethod("subtract",ea,e),t.extendMethod("subtractImage",ra),t.extendMethod("multiply",ia,e),t.extendMethod("divide",aa,e),t.extendMethod("hypotenuse",na),t.extendMethod("background",pa),t.extendMethod("flipX",Mi),t.extendMethod("flipY",Ei),t.extendMethod("blurFilter",Si),t.extendMethod("medianFilter",Di),t.extendMethod("gaussianFilter",Ii),t.extendMethod("sobelFilter",Hi),t.extendMethod("gradientFilter",qi),t.extendMethod("scharrFilter",Gi),t.extendMethod("dilate",ma),t.extendMethod("erode",ba),t.extendMethod("open",Ea),t.extendMethod("close",Sa),t.extendMethod("topHat",Aa),t.extendMethod("blackHat",Pa),t.extendMethod("morphologicalGradient",Ca),t.extendMethod("warpingFourPoints",Ua),t.extendMethod("crop",ja),t.extendMethod("cropAlpha",La),t.extendMethod("resize",Va).extendMethod("scale",Va),t.extendMethod("hsv",Ya),t.extendMethod("hsl",Xa),t.extendMethod("cmyk",qa),t.extendMethod("rgba8",Ha),t.extendMethod("grey",Ka).extendMethod("gray",Ka),t.extendMethod("mask",so),t.extendMethod("pad",uo),t.extendMethod("colorDepth",lo),t.extendMethod("setBorder",go,e),t.extendMethod("rotate",co),t.extendMethod("rotateLeft",fo),t.extendMethod("rotateRight",po),t.extendMethod("insert",mo),t.extendMethod("getRow",So),t.extendMethod("getColumn",Ao),t.extendMethod("getMatrix",Po),t.extendMethod("setMatrix",Co),t.extendMethod("getPixelsArray",Oo),t.extendMethod("getIntersection",Do),t.extendMethod("getClosestCommonParent",To),t.extendMethod("getThreshold",ao),t.extendMethod("split",vo),t.extendMethod("getChannel",yo),t.extendMethod("combineChannels",wo),t.extendMethod("setChannel",ko),t.extendMethod("getSimilarity",_o),t.extendMethod("getPixelsGrid",xo),t.extendMethod("getBestMatch",Eo),t.extendMethod("cannyEdge",Fo),t.extendMethod("convolution",Xi),t.extendMethod("extract",zo),t.extendMethod("floodFill",Xo),t.extendMethod("paintLabels",rs,e),t.extendMethod("paintMasks",ns,e),t.extendMethod("paintPoints",us,e),t.extendMethod("paintPolyline",ls,e),t.extendMethod("paintPolylines",hs,e),t.extendMethod("paintPolygon",cs,e),t.extendMethod("paintPolygons",ps,e),t.extendMethod("countAlphaPixels",Cs),t.extendMethod("monotoneChainConvexHull",Ts),t.extendMethod("minimalBoundingRectangle",Fs),t.extendMethod("getHistogram",ms).extendProperty("histogram",ms),t.extendMethod("getHistograms",gs).extendProperty("histograms",gs),t.extendMethod("getColorHistogram",ys).extendProperty("colorHistogram",ys),t.extendMethod("getMin",ws).extendProperty("min",ws),t.extendMethod("getMax",bs).extendProperty("max",bs),t.extendMethod("getSum",ks).extendProperty("sum",ks),t.extendMethod("getMoment",_s).extendProperty("moment",_s),t.extendMethod("getLocalMaxima",xs),t.extendMethod("getMedian",Es).extendProperty("median",Es),t.extendMethod("getMean",Ms).extendProperty("mean",Ms),t.extendMethod("getPoints",Ss).extendProperty("points",Ss),t.extendMethod("getExtendedPoints",As).extendProperty("extendedPoints",As),t.extendMethod("getRelativePosition",Ps)}(cu);var fu=r(42),du=r.n(fu),pu={regression:{kernelType:"polynomial",kernelOptions:{degree:2,constant:1}},threshold:.02,roi:{minSurface:100,positive:!1},sampling:20,include:[]};function mu(t,e,r){return t.post("data",[e,r]).then(function(t){for(var e in t)t[e]=new cu(t[e]);return t})}var gu={run:function(t,e,r){e=Object.assign({},pu,e);var n=this.manager;return Array.isArray(t)?Promise.all(t.map(function(t){var i=mu(n,t,e);return"function"===typeof r&&i.then(r),i})):mu(n,t,e)},work:function(){worker.on("data",function(t,e,r){e=new IJS(e);var n={},i=[],a=e.grey(),o=a.sobelFilter();d("sobel",o);var s=o.level().mask({threshold:r.threshold});d("mask",s);var u=o.getRoiManager();u.fromMask(s);var l=u.getMask(r.roi);d("realMask",l);var h=a.getPixelsGrid({sampling:r.sampling,mask:l}),c=e.getBackground(h.xyS,h.zS,r.regression);d("background",c);var f=e.subtract(c);function d(t,e){r.include.includes(t)&&(n[t]=e,i.push(e.data.buffer))}n.result=f,i.push(f.data.buffer),t(n,i)})}};var vu=function(){function t(){Object(s.a)(this,t),this._url=null,this._deps=[null]}return Object(u.a)(t,[{key:"checkUrl",value:function(){if(null===this._url)throw new Error("image worker must be initialized with an URL")}},{key:"url",get:function(){return this._url},set:function(t){if("string"!==typeof t)throw new TypeError("worker URL must be a string");this._url=t,this._deps[0]=t}}],[{key:"extendMethod",value:function(e,r){var n,i,a={};function o(){var t;n||(this.checkUrl(),i=this.url,n=new du.a(r.work,{deps:i}),a.manager=n);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=r.run).call.apply(t,[a].concat(o))}o.reset=function(){n&&(n.terminate(),n=new du.a(r.work,{deps:i}),a.manager=n)},t.prototype[e]=o}}]),t}();vu.extendMethod("background",gu);new vu;r.d(e,"a",function(){return cu})},,,function(t,e,r){"use strict";var n=r(43),i=60103,a=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var c=Symbol.for;i=c("react.element"),a=c("react.portal"),e.Fragment=c("react.fragment"),e.StrictMode=c("react.strict_mode"),e.Profiler=c("react.profiler"),o=c("react.provider"),s=c("react.context"),u=c("react.forward_ref"),e.Suspense=c("react.suspense"),l=c("react.memo"),h=c("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||p}function v(){}function y(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=g.prototype;var w=y.prototype=new v;w.constructor=y,n(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,r){var n,a={},o=null,s=null;if(null!=e)for(n in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)k.call(e,n)&&!_.hasOwnProperty(n)&&(a[n]=e[n]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];a.children=l}if(t&&t.defaultProps)for(n in u=t.defaultProps)void 0===a[n]&&(a[n]=u[n]);return{$$typeof:i,type:t,key:o,ref:s,props:a,_owner:b.current}}function M(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var E=/\/+/g;function S(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return e[t]})}(""+t.key):e.toString(36)}function A(t,e,r,n,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=t),t=""===n?"."+S(u,0):n,Array.isArray(o)?(r="",null!=t&&(r=t.replace(E,"$&/")+"/"),A(o,e,r,"",function(t){return t})):null!=o&&(M(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,r+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+t)),e.push(o)),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var h=n+S(s=t[l],l);u+=A(s,e,r,h,o)}else if("function"===typeof(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t)))for(t=h.call(t),l=0;!(s=t.next()).done;)u+=A(s=s.value,e,r,h=n+S(s,l++),o);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function P(t,e,r){if(null==t)return t;var n=[],i=0;return A(t,n,"","",function(t){return e.call(r,t,i++)}),n}function C(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)})}if(1===t._status)return t._result;throw t._result}var O={current:null};function D(){var t=O.current;if(null===t)throw Error(d(321));return t}var I={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:n};e.Children={map:P,forEach:function(t,e,r){P(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return P(t,function(){e++}),e},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!M(t))throw Error(d(143));return t}},e.Component=g,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error(d(267,t));var a=n({},t.props),o=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)k.call(e,h)&&!_.hasOwnProperty(h)&&(a[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)a.children=r;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:i,type:t.type,key:o,ref:s,props:a,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=x,e.createFactory=function(t){var e=x.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:C}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return D().useCallback(t,e)},e.useContext=function(t,e){return D().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return D().useEffect(t,e)},e.useImperativeHandle=function(t,e,r){return D().useImperativeHandle(t,e,r)},e.useLayoutEffect=function(t,e){return D().useLayoutEffect(t,e)},e.useMemo=function(t,e){return D().useMemo(t,e)},e.useReducer=function(t,e,r){return D().useReducer(t,e,r)},e.useRef=function(t){return D().useRef(t)},e.useState=function(t){return D().useState(t)},e.version="17.0.2"},function(t,e,r){"use strict";var n=r(6),i=r(43),a=r(76);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));var s=new Set,u={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(t,e,r,n,i,a,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){v[t]=new g(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){v[t]=new g(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){v[t]=new g(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){v[t]=new g(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){v[t]=new g(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function w(t){return t[1].toUpperCase()}function b(t,e,r,n){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!n&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!d.call(m,t)||!d.call(p,t)&&(f.test(t)?m[t]=!0:(p[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(y,w);v[e]=new g(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(y,w);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(y,w);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)});var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,M=60107,E=60108,S=60114,A=60109,P=60110,C=60112,O=60113,D=60120,I=60115,T=60116,R=60121,U=60128,j=60129,L=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;_=N("react.element"),x=N("react.portal"),M=N("react.fragment"),E=N("react.strict_mode"),S=N("react.profiler"),A=N("react.provider"),P=N("react.context"),C=N("react.forward_ref"),O=N("react.suspense"),D=N("react.suspense_list"),I=N("react.memo"),T=N("react.lazy"),R=N("react.block"),N("react.scope"),U=N("react.opaque.id"),j=N("react.debug_trace_mode"),L=N("react.offscreen"),B=N("react.legacy_hidden")}var F,z="function"===typeof Symbol&&Symbol.iterator;function V(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=z&&t[z]||t["@@iterator"])?t:null}function Y(t){if(void 0===F)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);F=e&&e[1]||""}return"\n"+F+t}var X=!1;function q(t,e){if(!t||X)return"";X=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{X=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Y(t):""}function H(t){switch(t.tag){case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return t=q(t.type,!1);case 11:return t=q(t.type.render,!1);case 22:return t=q(t.type._render,!1);case 1:return t=q(t.type,!0);default:return""}}function G(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case M:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case C:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return G(t.type);case R:return G(t._render);case T:e=t._payload,t=t._init;try{return G(t(e))}catch(r){}}return null}function W(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,a.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=K(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function $(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var r=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function tt(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=W(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function rt(t,e){et(t,e);var r=W(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,r):e.hasOwnProperty("defaultValue")&&it(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function nt(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function it(t,e,r){"number"===e&&$(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function at(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return n.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}(e.children))&&(t.children=e),t}function ot(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+W(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:W(r)}}function lt(t,e){var r=W(e.value),n=W(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function ht(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ct={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,mt,gt=(mt=function(t,e){if(t.namespaceURI!==ct.svg||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction(function(){return mt(t,e)})}:mt);function vt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var yt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wt=["Webkit","ms","Moz","O"];function bt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||yt.hasOwnProperty(t)&&yt[t]?(""+e).trim():e+"px"}function kt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=bt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(yt).forEach(function(t){wt.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yt[e]=yt[t]})});var _t=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(t,e){if(e){if(_t[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if(!("object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function Mt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Et(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var St=null,At=null,Pt=null;function Ct(t){if(t=Qn(t)){if("function"!==typeof St)throw Error(o(280));var e=t.stateNode;e&&(e=Jn(e),St(t.stateNode,t.type,e))}}function Ot(t){At?Pt?Pt.push(t):Pt=[t]:At=t}function Dt(){if(At){var t=At,e=Pt;if(Pt=At=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function It(t,e){return t(e)}function Tt(t,e,r,n,i){return t(e,r,n,i)}function Rt(){}var Ut=It,jt=!1,Lt=!1;function Bt(){null===At&&null===Pt||(Rt(),Dt())}function Nt(t,e){var r=t.stateNode;if(null===r)return null;var n=Jn(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(o(231,e,typeof r));return r}var Ft=!1;if(c)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(mt){Ft=!1}var Vt=!1,Yt=null,Xt=!1,qt=null,Ht={onError:function(t){Vt=!0,Yt=t}};function Gt(t,e,r,n,i,a,o,s,u){Vt=!1,Yt=null,function(t,e,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(h){this.onError(h)}}.apply(Ht,arguments)}function Wt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Kt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Zt(t){if(Wt(t)!==t)throw Error(o(188))}function Qt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Wt(t)))throw Error(o(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Zt(i),t;if(a===n)return Zt(i),e;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function $t(t,e){for(var r=t.alternate;null!==e;){if(e===t||e===r)return!0;e=e.return}return!1}var Jt,te,ee,re,ne=!1,ie=[],ae=null,oe=null,se=null,ue=new Map,le=new Map,he=[],ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fe(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function de(t,e){switch(t){case"focusin":case"focusout":ae=null;break;case"dragenter":case"dragleave":oe=null;break;case"mouseover":case"mouseout":se=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":le.delete(e.pointerId)}}function pe(t,e,r,n,i,a){return null===t||t.nativeEvent!==a?(t=fe(e,r,n,i,a),null!==e&&(null!==(e=Qn(e))&&te(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=Zn(t.target);if(null!==e){var r=Wt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Kt(r)))return t.blockedOn=e,void re(t.lanePriority,function(){a.unstable_runWithPriority(t.priority,function(){ee(r)})})}else if(3===e&&r.stateNode.hydrate)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function ge(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=Qn(r))&&te(e),t.blockedOn=r,!1;e.shift()}return!0}function ve(t,e,r){ge(t)&&r.delete(e)}function ye(){for(ne=!1;0<ie.length;){var t=ie[0];if(null!==t.blockedOn){null!==(t=Qn(t.blockedOn))&&Jt(t);break}for(var e=t.targetContainers;0<e.length;){var r=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r){t.blockedOn=r;break}e.shift()}null===t.blockedOn&&ie.shift()}null!==ae&&ge(ae)&&(ae=null),null!==oe&&ge(oe)&&(oe=null),null!==se&&ge(se)&&(se=null),ue.forEach(ve),le.forEach(ve)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,ne||(ne=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,ye)))}function be(t){function e(e){return we(e,t)}if(0<ie.length){we(ie[0],t);for(var r=1;r<ie.length;r++){var n=ie[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==ae&&we(ae,t),null!==oe&&we(oe,t),null!==se&&we(se,t),ue.forEach(e),le.forEach(e),r=0;r<he.length;r++)(n=he[r]).blockedOn===t&&(n.blockedOn=null);for(;0<he.length&&null===(r=he[0]).blockedOn;)me(r),null===r.blockedOn&&he.shift()}function ke(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _e={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},xe={},Me={};function Ee(t){if(xe[t])return xe[t];if(!_e[t])return t;var e,r=_e[t];for(e in r)if(r.hasOwnProperty(e)&&e in Me)return xe[t]=r[e];return t}c&&(Me=document.createElement("div").style,"AnimationEvent"in window||(delete _e.animationend.animation,delete _e.animationiteration.animation,delete _e.animationstart.animation),"TransitionEvent"in window||delete _e.transitionend.transition);var Se=Ee("animationend"),Ae=Ee("animationiteration"),Pe=Ee("animationstart"),Ce=Ee("transitionend"),Oe=new Map,De=new Map,Ie=["abort","abort",Se,"animationEnd",Ae,"animationIteration",Pe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ce,"transitionEnd","waiting","waiting"];function Te(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),De.set(n,e),Oe.set(n,i),l(i,[n])}}(0,a.unstable_now)();var Re=8;function Ue(t){if(0!==(1&t))return Re=15,1;if(0!==(2&t))return Re=14,2;if(0!==(4&t))return Re=13,4;var e=24&t;return 0!==e?(Re=12,e):0!==(32&t)?(Re=11,32):0!==(e=192&t)?(Re=10,e):0!==(256&t)?(Re=9,256):0!==(e=3584&t)?(Re=8,e):0!==(4096&t)?(Re=7,4096):0!==(e=4186112&t)?(Re=6,e):0!==(e=62914560&t)?(Re=5,e):67108864&t?(Re=4,67108864):0!==(134217728&t)?(Re=3,134217728):0!==(e=805306368&t)?(Re=2,e):0!==(1073741824&t)?(Re=1,1073741824):(Re=8,t)}function je(t,e){var r=t.pendingLanes;if(0===r)return Re=0;var n=0,i=0,a=t.expiredLanes,o=t.suspendedLanes,s=t.pingedLanes;if(0!==a)n=a,i=Re=15;else if(0!==(a=134217727&r)){var u=a&~o;0!==u?(n=Ue(u),i=Re):0!==(s&=a)&&(n=Ue(s),i=Re)}else 0!==(a=r&~o)?(n=Ue(a),i=Re):0!==s&&(n=Ue(s),i=Re);if(0===n)return 0;if(n=r&((0>(n=31-Ve(n))?0:1<<n)<<1)-1,0!==e&&e!==n&&0===(e&o)){if(Ue(e),i<=Re)return e;Re=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-Ve(e)),n|=t[r],e&=~i;return n}function Le(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Be(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ne(24&~e))?Be(10,e):t;case 10:return 0===(t=Ne(192&~e))?Be(8,e):t;case 8:return 0===(t=Ne(3584&~e))&&(0===(t=Ne(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ne(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function Ne(t){return t&-t}function Fe(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ze(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,(t=t.eventTimes)[e=31-Ve(e)]=r}var Ve=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ye(t)/Xe|0)|0},Ye=Math.log,Xe=Math.LN2;var qe=a.unstable_UserBlockingPriority,He=a.unstable_runWithPriority,Ge=!0;function We(t,e,r,n){jt||Rt();var i=Ze,a=jt;jt=!0;try{Tt(i,t,e,r,n)}finally{(jt=a)||Bt()}}function Ke(t,e,r,n){He(qe,Ze.bind(null,t,e,r,n))}function Ze(t,e,r,n){var i;if(Ge)if((i=0===(4&e))&&0<ie.length&&-1<ce.indexOf(t))t=fe(null,t,e,r,n),ie.push(t);else{var a=Qe(t,e,r,n);if(null===a)i&&de(t,n);else{if(i){if(-1<ce.indexOf(t))return t=fe(a,t,e,r,n),void ie.push(t);if(function(t,e,r,n,i){switch(e){case"focusin":return ae=pe(ae,t,e,r,n,i),!0;case"dragenter":return oe=pe(oe,t,e,r,n,i),!0;case"mouseover":return se=pe(se,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return ue.set(a,pe(ue.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,le.set(a,pe(le.get(a)||null,t,e,r,n,i)),!0}return!1}(a,t,e,r,n))return;de(t,n)}Cn(t,e,n,null,r)}}}function Qe(t,e,r,n){var i=Et(n);if(null!==(i=Zn(i))){var a=Wt(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Kt(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Cn(t,e,n,i,r),null}var $e=null,Je=null,tr=null;function er(){if(tr)return tr;var t,e,r=Je,n=r.length,i="value"in $e?$e.value:$e.textContent,a=i.length;for(t=0;t<n&&r[t]===i[t];t++);var o=n-t;for(e=1;e<=o&&r[n-e]===i[a-e];e++);return tr=i.slice(t,1<e?1-e:void 0)}function rr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nr(){return!0}function ir(){return!1}function ar(t){function e(e,r,n,i,a){for(var o in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nr:ir,this.isPropagationStopped=ir,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),e}var or,sr,ur,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hr=ar(lr),cr=i({},lr,{view:0,detail:0}),fr=ar(cr),dr=i({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ur&&(ur&&"mousemove"===t.type?(or=t.screenX-ur.screenX,sr=t.screenY-ur.screenY):sr=or=0,ur=t),or)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),pr=ar(dr),mr=ar(i({},dr,{dataTransfer:0})),gr=ar(i({},cr,{relatedTarget:0})),vr=ar(i({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=ar(i({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wr=ar(i({},lr,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_r[t])&&!!e[t]}function Mr(){return xr}var Er=ar(i({},cr,{key:function(t){if(t.key){var e=br[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?kr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return"keypress"===t.type?rr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Sr=ar(i({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=ar(i({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr})),Pr=ar(i({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=ar(i({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Or=[9,13,27,32],Dr=c&&"CompositionEvent"in window,Ir=null;c&&"documentMode"in document&&(Ir=document.documentMode);var Tr=c&&"TextEvent"in window&&!Ir,Rr=c&&(!Dr||Ir&&8<Ir&&11>=Ir),Ur=String.fromCharCode(32),jr=!1;function Lr(t,e){switch(t){case"keyup":return-1!==Or.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Nr=!1;var Fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Fr[t.type]:"textarea"===e}function Vr(t,e,r,n){Ot(n),0<(e=Dn(e,"onChange")).length&&(r=new hr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yr=null,Xr=null;function qr(t){xn(t,0)}function Hr(t){if(Q($n(t)))return t}function Gr(t,e){if("change"===t)return e}var Wr=!1;if(c){var Kr;if(c){var Zr="oninput"in document;if(!Zr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Zr="function"===typeof Qr.oninput}Kr=Zr}else Kr=!1;Wr=Kr&&(!document.documentMode||9<document.documentMode)}function $r(){Yr&&(Yr.detachEvent("onpropertychange",Jr),Xr=Yr=null)}function Jr(t){if("value"===t.propertyName&&Hr(Xr)){var e=[];if(Vr(e,Xr,t,Et(t)),t=qr,jt)t(e);else{jt=!0;try{It(t,e)}finally{jt=!1,Bt()}}}}function tn(t,e,r){"focusin"===t?($r(),Xr=r,(Yr=e).attachEvent("onpropertychange",Jr)):"focusout"===t&&$r()}function en(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Hr(Xr)}function rn(t,e){if("click"===t)return Hr(e)}function nn(t,e){if("input"===t||"change"===t)return Hr(e)}var an="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},on=Object.prototype.hasOwnProperty;function sn(t,e){if(an(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!on.call(e,r[n])||!an(t[r[n]],e[r[n]]))return!1;return!0}function un(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var r,n=un(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=un(n)}}function hn(){for(var t=window,e=$();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=$((t=e.contentWindow).document)}return e}function cn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var fn=c&&"documentMode"in document&&11>=document.documentMode,dn=null,pn=null,mn=null,gn=!1;function vn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;gn||null==dn||dn!==$(n)||("selectionStart"in(n=dn)&&cn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},mn&&sn(mn,n)||(mn=n,0<(n=Dn(pn,"onSelect")).length&&(e=new hr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=dn)))}Te("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Te("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Te(Ie,2);for(var yn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wn=0;wn<yn.length;wn++)De.set(yn[wn],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kn=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function _n(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,a,s,u,l){if(Gt.apply(this,arguments),Vt){if(!Vt)throw Error(o(198));var h=Yt;Vt=!1,Yt=null,Xt||(Xt=!0,qt=h)}}(n,e,void 0,t),t.currentTarget=null}function xn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break t;_n(i,s,l),a=u}else for(o=0;o<n.length;o++){if(u=(s=n[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break t;_n(i,s,l),a=u}}}if(Xt)throw t=qt,Xt=!1,qt=null,t}function Mn(t,e){var r=ti(e),n=t+"__bubble";r.has(n)||(Pn(e,t,2,!1),r.add(n))}var En="_reactListening"+Math.random().toString(36).slice(2);function Sn(t){t[En]||(t[En]=!0,s.forEach(function(e){kn.has(e)||An(e,!1,t,null),An(e,!0,t,null)}))}function An(t,e,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=r;if("selectionchange"===t&&9!==r.nodeType&&(a=r.ownerDocument),null!==n&&!e&&kn.has(t)){if("scroll"!==t)return;i|=2,a=n}var o=ti(a),s=t+"__"+(e?"capture":"bubble");o.has(s)||(e&&(i|=4),Pn(a,t,i,e),o.add(s))}function Pn(t,e,r,n){var i=De.get(e);switch(void 0===i?2:i){case 0:i=We;break;case 1:i=Ke;break;default:i=Ze}r=i.bind(null,e,r,t),i=void 0,!Ft||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Cn(t,e,r,n,i){var a=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Zn(s)))return;if(5===(u=o.tag)||6===u){n=a=o;continue t}s=s.parentNode}}n=n.return}!function(t,e,r){if(Lt)return t(e,r);Lt=!0;try{Ut(t,e,r)}finally{Lt=!1,Bt()}}(function(){var n=a,i=Et(r),o=[];t:{var s=Oe.get(t);if(void 0!==s){var u=hr,l=t;switch(t){case"keypress":if(0===rr(r))break t;case"keydown":case"keyup":u=Er;break;case"focusin":l="focus",u=gr;break;case"focusout":l="blur",u=gr;break;case"beforeblur":case"afterblur":u=gr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ar;break;case Se:case Ae:case Pe:u=vr;break;case Ce:u=Pr;break;case"scroll":u=fr;break;case"wheel":u=Cr;break;case"copy":case"cut":case"paste":u=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Sr}var h=0!==(4&e),c=!h&&"scroll"===t,f=h?null!==s?s+"Capture":null:s;h=[];for(var d,p=n;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=Nt(p,f))&&h.push(On(p,m,d)))),c)break;p=p.return}0<h.length&&(s=new u(s,l,null,r,i),o.push({event:s,listeners:h}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=r.relatedTarget||r.fromElement)||!Zn(l)&&!l[Wn])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?Zn(l):null)&&(l!==(c=Wt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(h=pr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Sr,m="onPointerLeave",f="onPointerEnter",p="pointer"),c=null==u?s:$n(u),d=null==l?s:$n(l),(s=new h(m,p+"leave",u,r,i)).target=c,s.relatedTarget=d,m=null,Zn(i)===n&&((h=new h(f,p+"enter",l,r,i)).target=d,h.relatedTarget=c,m=h),c=m,u&&l)t:{for(f=l,p=0,d=h=u;d;d=In(d))p++;for(d=0,m=f;m;m=In(m))d++;for(;0<p-d;)h=In(h),p--;for(;0<d-p;)f=In(f),d--;for(;p--;){if(h===f||null!==f&&h===f.alternate)break t;h=In(h),f=In(f)}h=null}else h=null;null!==u&&Tn(o,s,u,h,!1),null!==l&&null!==c&&Tn(o,c,l,h,!0)}if("select"===(u=(s=n?$n(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Gr;else if(zr(s))if(Wr)g=nn;else{g=en;var v=tn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=rn);switch(g&&(g=g(t,n))?Vr(o,g,r,i):(v&&v(t,s,n),"focusout"===t&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&it(s,"number",s.value)),v=n?$n(n):window,t){case"focusin":(zr(v)||"true"===v.contentEditable)&&(dn=v,pn=n,mn=null);break;case"focusout":mn=pn=dn=null;break;case"mousedown":gn=!0;break;case"contextmenu":case"mouseup":case"dragend":gn=!1,vn(o,r,i);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":vn(o,r,i)}var y;if(Dr)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else Nr?Lr(t,r)&&(w="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(w="onCompositionStart");w&&(Rr&&"ko"!==r.locale&&(Nr||"onCompositionStart"!==w?"onCompositionEnd"===w&&Nr&&(y=er()):(Je="value"in($e=i)?$e.value:$e.textContent,Nr=!0)),0<(v=Dn(n,w)).length&&(w=new wr(w,t,null,r,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Br(r))&&(w.data=y))),(y=Tr?function(t,e){switch(t){case"compositionend":return Br(e);case"keypress":return 32!==e.which?null:(jr=!0,Ur);case"textInput":return(t=e.data)===Ur&&jr?null:t;default:return null}}(t,r):function(t,e){if(Nr)return"compositionend"===t||!Dr&&Lr(t,e)?(t=er(),tr=Je=$e=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rr&&"ko"!==e.locale?null:e.data;default:return null}}(t,r))&&(0<(n=Dn(n,"onBeforeInput")).length&&(i=new wr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=y))}xn(o,e)})}function On(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Dn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Nt(t,r))&&n.unshift(On(t,a,i)),null!=(a=Nt(t,e))&&n.push(On(t,a,i))),t=t.return}return n}function In(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Tn(t,e,r,n,i){for(var a=e._reactName,o=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Nt(r,a))&&o.unshift(On(r,u,s)):i||null!=(u=Nt(r,a))&&o.push(On(r,u,s))),r=r.return}0!==o.length&&t.push({event:e,listeners:o})}function Rn(){}var Un=null,jn=null;function Ln(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Bn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Nn="function"===typeof setTimeout?setTimeout:void 0,Fn="function"===typeof clearTimeout?clearTimeout:void 0;function zn(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Vn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var Xn=0;var qn=Math.random().toString(36).slice(2),Hn="__reactFiber$"+qn,Gn="__reactProps$"+qn,Wn="__reactContainer$"+qn,Kn="__reactEvents$"+qn;function Zn(t){var e=t[Hn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wn]||r[Hn]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=Yn(t);null!==t;){if(r=t[Hn])return r;t=Yn(t)}return e}r=(t=r).parentNode}return null}function Qn(t){return!(t=t[Hn]||t[Wn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function $n(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function Jn(t){return t[Gn]||null}function ti(t){var e=t[Kn];return void 0===e&&(e=t[Kn]=new Set),e}var ei=[],ri=-1;function ni(t){return{current:t}}function ii(t){0>ri||(t.current=ei[ri],ei[ri]=null,ri--)}function ai(t,e){ei[++ri]=t.current,t.current=e}var oi={},si=ni(oi),ui=ni(!1),li=oi;function hi(t,e){var r=t.type.contextTypes;if(!r)return oi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function ci(t){return null!==(t=t.childContextTypes)&&void 0!==t}function fi(){ii(ui),ii(si)}function di(t,e,r){if(si.current!==oi)throw Error(o(168));ai(si,e),ai(ui,r)}function pi(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(o(108,G(e)||"Unknown",a));return i({},r,n)}function mi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,li=si.current,ai(si,t),ai(ui,ui.current),!0}function gi(t,e,r){var n=t.stateNode;if(!n)throw Error(o(169));r?(t=pi(t,e,li),n.__reactInternalMemoizedMergedChildContext=t,ii(ui),ii(si),ai(si,t)):ii(ui),ai(ui,r)}var vi=null,yi=null,wi=a.unstable_runWithPriority,bi=a.unstable_scheduleCallback,ki=a.unstable_cancelCallback,_i=a.unstable_shouldYield,xi=a.unstable_requestPaint,Mi=a.unstable_now,Ei=a.unstable_getCurrentPriorityLevel,Si=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Ci=a.unstable_LowPriority,Oi=a.unstable_IdlePriority,Di={},Ii=void 0!==xi?xi:function(){},Ti=null,Ri=null,Ui=!1,ji=Mi(),Li=1e4>ji?Mi:function(){return Mi()-ji};function Bi(){switch(Ei()){case Si:return 99;case Ai:return 98;case Pi:return 97;case Ci:return 96;case Oi:return 95;default:throw Error(o(332))}}function Ni(t){switch(t){case 99:return Si;case 98:return Ai;case 97:return Pi;case 96:return Ci;case 95:return Oi;default:throw Error(o(332))}}function Fi(t,e){return t=Ni(t),wi(t,e)}function zi(t,e,r){return t=Ni(t),bi(t,e,r)}function Vi(){if(null!==Ri){var t=Ri;Ri=null,ki(t)}Yi()}function Yi(){if(!Ui&&null!==Ti){Ui=!0;var t=0;try{var e=Ti;Fi(99,function(){for(;t<e.length;t++){var r=e[t];do{r=r(!0)}while(null!==r)}}),Ti=null}catch(r){throw null!==Ti&&(Ti=Ti.slice(t+1)),bi(Si,Vi),r}finally{Ui=!1}}}var Xi=k.ReactCurrentBatchConfig;function qi(t,e){if(t&&t.defaultProps){for(var r in e=i({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var Hi=ni(null),Gi=null,Wi=null,Ki=null;function Zi(){Ki=Wi=Gi=null}function Qi(t){var e=Hi.current;ii(Hi),t.type._context._currentValue=e}function $i(t,e){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)===e){if(null===r||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,null!==r&&(r.childLanes|=e);t=t.return}}function Ji(t,e){Gi=t,Ki=Wi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Oo=!0),t.firstContext=null)}function ta(t,e){if(Ki!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Ki=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Wi){if(null===Gi)throw Error(o(308));Wi=e,Gi.dependencies={lanes:0,firstContext:e,responders:null}}else Wi=Wi.next=e;return t._currentValue}var ea=!1;function ra(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function na(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ia(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function aa(t,e){if(null!==(t=t.updateQueue)){var r=(t=t.shared).pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function oa(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=e:a=a.next=e}else i=a=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function sa(t,e,r,n){var a=t.updateQueue;ea=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,h=l.next;l.next=null,null===s?o=h:s.next=h,s=l;var c=t.alternate;if(null!==c){var f=(c=c.updateQueue).lastBaseUpdate;f!==s&&(null===f?c.firstBaseUpdate=h:f.next=h,c.lastBaseUpdate=l)}}if(null!==o){for(f=a.baseState,s=0,c=h=l=null;;){u=o.lane;var d=o.eventTime;if((n&u)===u){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var p=t,m=o;switch(u=e,d=r,m.tag){case 1:if("function"===typeof(p=m.payload)){f=p.call(d,f,u);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,f,u):p)||void 0===u)break t;f=i({},f,u);break t;case 2:ea=!0}}null!==o.callback&&(t.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(h=c=d,l=f):c=c.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===c&&(l=f),a.baseState=l,a.firstBaseUpdate=h,a.lastBaseUpdate=c,Ts|=s,t.lanes=s,t.memoizedState=f}}function ua(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var la=(new n.Component).refs;function ha(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:i({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var ca={isMounted:function(t){return!!(t=t._reactInternals)&&Wt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=iu(),i=au(t),a=ia(n,i);a.payload=e,void 0!==r&&null!==r&&(a.callback=r),aa(t,a),ou(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=iu(),i=au(t),a=ia(n,i);a.tag=1,a.payload=e,void 0!==r&&null!==r&&(a.callback=r),aa(t,a),ou(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=iu(),n=au(t),i=ia(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),aa(t,i),ou(t,n,r)}};function fa(t,e,r,n,i,a,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,a,o):!e.prototype||!e.prototype.isPureReactComponent||(!sn(r,n)||!sn(i,a))}function da(t,e,r){var n=!1,i=oi,a=e.contextType;return"object"===typeof a&&null!==a?a=ta(a):(i=ci(e)?li:si.current,a=(n=null!==(n=e.contextTypes)&&void 0!==n)?hi(t,i):oi),e=new e(r,a),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ca,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function pa(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ca.enqueueReplaceState(e,e.state,null)}function ma(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=la,ra(t);var a=e.contextType;"object"===typeof a&&null!==a?i.context=ta(a):(a=ci(e)?li:si.current,i.context=hi(t,a)),sa(t,r,i,n),i.state=t.memoizedState,"function"===typeof(a=e.getDerivedStateFromProps)&&(ha(t,e,a,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ca.enqueueReplaceState(i,i.state,null),sa(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var ga=Array.isArray;function va(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=n.refs;e===la&&(e=n.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(o(284));if(!r._owner)throw Error(o(290,t))}return t}function ya(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wa(t){function e(e,r){if(t){var n=e.lastEffect;null!==n?(n.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Uu(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags=2,r):n:(e.flags=2,r):r}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,r,n){return null===e||6!==e.tag?((e=Nu(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function l(t,e,r,n){return null!==e&&e.elementType===r.type?((n=i(e,r.props)).ref=va(t,e,r),n.return=t,n):((n=ju(r.type,r.key,r.props,null,t.mode,n)).ref=va(t,e,r),n.return=t,n)}function h(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Fu(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,a){return null===e||7!==e.tag?((e=Lu(r,t.mode,n,a)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e||"number"===typeof e)return(e=Nu(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case _:return(r=ju(e.type,e.key,e.props,null,t.mode,r)).ref=va(t,null,e),r.return=t,r;case x:return(e=Fu(e,t.mode,r)).return=t,e}if(ga(e)||V(e))return(e=Lu(e,t.mode,r,null)).return=t,e;ya(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===i?r.type===M?c(t,e,r.props.children,n,i):l(t,e,r,n):null;case x:return r.key===i?h(t,e,r,n):null}if(ga(r)||V(r))return null!==i?null:c(t,e,r,n,null);ya(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n||"number"===typeof n)return u(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return t=t.get(null===n.key?r:n.key)||null,n.type===M?c(e,t,n.props.children,i,n.key):l(e,t,n,i);case x:return h(e,t=t.get(null===n.key?r:n.key)||null,n,i)}if(ga(n)||V(n))return c(e,t=t.get(r)||null,n,i,null);ya(e,n)}return null}function m(i,o,s,u){for(var l=null,h=null,c=o,m=o=0,g=null;null!==c&&m<s.length;m++){c.index>m?(g=c,c=null):g=c.sibling;var v=d(i,c,s[m],u);if(null===v){null===c&&(c=g);break}t&&c&&null===v.alternate&&e(i,c),o=a(v,o,m),null===h?l=v:h.sibling=v,h=v,c=g}if(m===s.length)return r(i,c),l;if(null===c){for(;m<s.length;m++)null!==(c=f(i,s[m],u))&&(o=a(c,o,m),null===h?l=c:h.sibling=c,h=c);return l}for(c=n(i,c);m<s.length;m++)null!==(g=p(c,i,m,s[m],u))&&(t&&null!==g.alternate&&c.delete(null===g.key?m:g.key),o=a(g,o,m),null===h?l=g:h.sibling=g,h=g);return t&&c.forEach(function(t){return e(i,t)}),l}function g(i,s,u,l){var h=V(u);if("function"!==typeof h)throw Error(o(150));if(null==(u=h.call(u)))throw Error(o(151));for(var c=h=null,m=s,g=s=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=d(i,m,y.value,l);if(null===w){null===m&&(m=v);break}t&&m&&null===w.alternate&&e(i,m),s=a(w,s,g),null===c?h=w:c.sibling=w,c=w,m=v}if(y.done)return r(i,m),h;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,g),null===c?h=y:c.sibling=y,c=y);return h}for(m=n(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(t&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===c?h=y:c.sibling=y,c=y);return t&&m.forEach(function(t){return e(i,t)}),h}return function(t,n,a,u){var l="object"===typeof a&&null!==a&&a.type===M&&null===a.key;l&&(a=a.props.children);var h="object"===typeof a&&null!==a;if(h)switch(a.$$typeof){case _:t:{for(h=a.key,l=n;null!==l;){if(l.key===h){switch(l.tag){case 7:if(a.type===M){r(t,l.sibling),(n=i(l,a.props.children)).return=t,t=n;break t}break;default:if(l.elementType===a.type){r(t,l.sibling),(n=i(l,a.props)).ref=va(t,l,a),n.return=t,t=n;break t}}r(t,l);break}e(t,l),l=l.sibling}a.type===M?((n=Lu(a.props.children,t.mode,u,a.key)).return=t,t=n):((u=ju(a.type,a.key,a.props,null,t.mode,u)).ref=va(t,n,a),u.return=t,t=u)}return s(t);case x:t:{for(l=a.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){r(t,n.sibling),(n=i(n,a.children||[])).return=t,t=n;break t}r(t,n);break}e(t,n),n=n.sibling}(n=Fu(a,t.mode,u)).return=t,t=n}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==n&&6===n.tag?(r(t,n.sibling),(n=i(n,a)).return=t,t=n):(r(t,n),(n=Nu(a,t.mode,u)).return=t,t=n),s(t);if(ga(a))return m(t,n,a,u);if(V(a))return g(t,n,a,u);if(h&&ya(t,a),"undefined"===typeof a&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(t.type)||"Component"))}return r(t,n)}}var ba=wa(!0),ka=wa(!1),_a={},xa=ni(_a),Ma=ni(_a),Ea=ni(_a);function Sa(t){if(t===_a)throw Error(o(174));return t}function Aa(t,e){switch(ai(Ea,e),ai(Ma,t),ai(xa,_a),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ii(xa),ai(xa,e)}function Pa(){ii(xa),ii(Ma),ii(Ea)}function Ca(t){Sa(Ea.current);var e=Sa(xa.current),r=dt(e,t.type);e!==r&&(ai(Ma,t),ai(xa,r))}function Oa(t){Ma.current===t&&(ii(xa),ii(Ma))}var Da=ni(0);function Ia(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ta=null,Ra=null,Ua=!1;function ja(t,e){var r=Tu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function La(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Ba(t){if(Ua){var e=Ra;if(e){var r=e;if(!La(t,e)){if(!(e=Vn(r.nextSibling))||!La(t,e))return t.flags=-1025&t.flags|2,Ua=!1,void(Ta=t);ja(Ta,r)}Ta=t,Ra=Vn(e.firstChild)}else t.flags=-1025&t.flags|2,Ua=!1,Ta=t}}function Na(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Ta=t}function Fa(t){if(t!==Ta)return!1;if(!Ua)return Na(t),Ua=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Bn(e,t.memoizedProps))for(e=Ra;e;)ja(t,e),e=Vn(e.nextSibling);if(Na(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){Ra=Vn(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}Ra=null}}else Ra=Ta?Vn(t.stateNode.nextSibling):null;return!0}function za(){Ra=Ta=null,Ua=!1}var Va=[];function Ya(){for(var t=0;t<Va.length;t++)Va[t]._workInProgressVersionPrimary=null;Va.length=0}var Xa=k.ReactCurrentDispatcher,qa=k.ReactCurrentBatchConfig,Ha=0,Ga=null,Wa=null,Ka=null,Za=!1,Qa=!1;function $a(){throw Error(o(321))}function Ja(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!an(t[r],e[r]))return!1;return!0}function to(t,e,r,n,i,a){if(Ha=a,Ga=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xa.current=null===t||null===t.memoizedState?So:Ao,t=r(n,i),Qa){a=0;do{if(Qa=!1,!(25>a))throw Error(o(301));a+=1,Ka=Wa=null,e.updateQueue=null,Xa.current=Po,t=r(n,i)}while(Qa)}if(Xa.current=Eo,e=null!==Wa&&null!==Wa.next,Ha=0,Ka=Wa=Ga=null,Za=!1,e)throw Error(o(300));return t}function eo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Ga.memoizedState=Ka=t:Ka=Ka.next=t,Ka}function ro(){if(null===Wa){var t=Ga.alternate;t=null!==t?t.memoizedState:null}else t=Wa.next;var e=null===Ka?Ga.memoizedState:Ka.next;if(null!==e)Ka=e,Wa=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Wa=t).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Ka?Ga.memoizedState=Ka=t:Ka=Ka.next=t}return Ka}function no(t,e){return"function"===typeof e?e(t):e}function io(t){var e=ro(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=Wa,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=a=null,l=i;do{var h=l.lane;if((Ha&h)===h)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===t?l.eagerState:t(n,l.action);else{var c={lane:h,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=c,a=n):u=u.next=c,Ga.lanes|=h,Ts|=h}l=l.next}while(null!==l&&l!==i);null===u?a=n:u.next=s,an(n,e.memoizedState)||(Oo=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function ao(t){var e=ro(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);an(a,e.memoizedState)||(Oo=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function oo(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===n:(t=t.mutableReadLanes,(t=(Ha&t)===t)&&(e._workInProgressVersionPrimary=n,Va.push(e))),t)return r(e._source);throw Va.push(e),Error(o(350))}function so(t,e,r,n){var i=Es;if(null===i)throw Error(o(349));var a=e._getVersion,s=a(e._source),u=Xa.current,l=u.useState(function(){return oo(i,e,r)}),h=l[1],c=l[0];l=Ka;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Ga;return t.memoizedState={refs:d,source:e,subscribe:n},u.useEffect(function(){d.getSnapshot=r,d.setSnapshot=h;var t=a(e._source);if(!an(s,t)){t=r(e._source),an(c,t)||(h(t),t=au(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var n=i.entanglements,o=t;0<o;){var u=31-Ve(o),l=1<<u;n[u]|=t,o&=~l}}},[r,e,n]),u.useEffect(function(){return n(e._source,function(){var t=d.getSnapshot,r=d.setSnapshot;try{r(t(e._source));var n=au(g);i.mutableReadLanes|=n&i.pendingLanes}catch(a){r(function(){throw a})}})},[e,n]),an(p,r)&&an(m,e)&&an(f,n)||((t={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:c}).dispatch=h=Mo.bind(null,Ga,t),l.queue=t,l.baseQueue=null,c=oo(i,e,r),l.memoizedState=l.baseState=c),c}function uo(t,e,r){return so(ro(),t,e,r)}function lo(t){var e=eo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:no,lastRenderedState:t}).dispatch=Mo.bind(null,Ga,t),[e.memoizedState,t]}function ho(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=Ga.updateQueue)?(e={lastEffect:null},Ga.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function co(t){return t={current:t},eo().memoizedState=t}function fo(){return ro().memoizedState}function po(t,e,r,n){var i=eo();Ga.flags|=t,i.memoizedState=ho(1|e,r,void 0,void 0===n?null:n)}function mo(t,e,r,n){var i=ro();n=void 0===n?null:n;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==n&&Ja(n,o.deps))return void ho(e,r,a,n)}Ga.flags|=t,i.memoizedState=ho(1|e,r,a,n)}function go(t,e){return po(516,4,t,e)}function vo(t,e){return mo(516,4,t,e)}function yo(t,e){return mo(4,2,t,e)}function wo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function bo(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,mo(4,2,wo.bind(null,e,t),r)}function ko(){}function _o(t,e){var r=ro();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Ja(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xo(t,e){var r=ro();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Ja(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Mo(t,e,r){var n=iu(),i=au(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),e.pending=a,o=t.alternate,t===Ga||null!==o&&o===Ga)Qa=Za=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=o(s,r);if(a.eagerReducer=o,a.eagerState=u,an(u,s))return}catch(l){}ou(t,i,n)}}var Eo={readContext:ta,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useMutableSource:$a,useOpaqueIdentifier:$a,unstable_isNewReconciler:!1},So={readContext:ta,useCallback:function(t,e){return eo().memoizedState=[t,void 0===e?null:e],t},useContext:ta,useEffect:go,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,po(4,2,wo.bind(null,e,t),r)},useLayoutEffect:function(t,e){return po(4,2,t,e)},useMemo:function(t,e){var r=eo();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=eo();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t=(t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Mo.bind(null,Ga,t),[n.memoizedState,t]},useRef:co,useState:lo,useDebugValue:ko,useDeferredValue:function(t){var e=lo(t),r=e[0],n=e[1];return go(function(){var e=qa.transition;qa.transition=1;try{n(t)}finally{qa.transition=e}},[t]),r},useTransition:function(){var t=lo(!1),e=t[0];return co(t=function(t,e){var r=Bi();Fi(98>r?98:r,function(){t(!0)}),Fi(97<r?97:r,function(){var r=qa.transition;qa.transition=1;try{t(!1),e()}finally{qa.transition=r}})}.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,r){var n=eo();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},so(n,t,e,r)},useOpaqueIdentifier:function(){if(Ua){var t=!1,e=function(t){return{$$typeof:U,toString:t,valueOf:t}}(function(){throw t||(t=!0,r("r:"+(Xn++).toString(36))),Error(o(355))}),r=lo(e)[1];return 0===(2&Ga.mode)&&(Ga.flags|=516,ho(5,function(){r("r:"+(Xn++).toString(36))},void 0,null)),e}return lo(e="r:"+(Xn++).toString(36)),e},unstable_isNewReconciler:!1},Ao={readContext:ta,useCallback:_o,useContext:ta,useEffect:vo,useImperativeHandle:bo,useLayoutEffect:yo,useMemo:xo,useReducer:io,useRef:fo,useState:function(){return io(no)},useDebugValue:ko,useDeferredValue:function(t){var e=io(no),r=e[0],n=e[1];return vo(function(){var e=qa.transition;qa.transition=1;try{n(t)}finally{qa.transition=e}},[t]),r},useTransition:function(){var t=io(no)[0];return[fo().current,t]},useMutableSource:uo,useOpaqueIdentifier:function(){return io(no)[0]},unstable_isNewReconciler:!1},Po={readContext:ta,useCallback:_o,useContext:ta,useEffect:vo,useImperativeHandle:bo,useLayoutEffect:yo,useMemo:xo,useReducer:ao,useRef:fo,useState:function(){return ao(no)},useDebugValue:ko,useDeferredValue:function(t){var e=ao(no),r=e[0],n=e[1];return vo(function(){var e=qa.transition;qa.transition=1;try{n(t)}finally{qa.transition=e}},[t]),r},useTransition:function(){var t=ao(no)[0];return[fo().current,t]},useMutableSource:uo,useOpaqueIdentifier:function(){return ao(no)[0]},unstable_isNewReconciler:!1},Co=k.ReactCurrentOwner,Oo=!1;function Do(t,e,r,n){e.child=null===t?ka(e,null,r,n):ba(e,t.child,r,n)}function Io(t,e,r,n,i){r=r.render;var a=e.ref;return Ji(e,i),n=to(t,e,r,n,a,i),null===t||Oo?(e.flags|=1,Do(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jo(t,e,i))}function To(t,e,r,n,i,a){if(null===t){var o=r.type;return"function"!==typeof o||Ru(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=ju(r.type,null,n,e,e.mode,a)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ro(t,e,o,n,i,a))}return o=t.child,0===(i&a)&&(i=o.memoizedProps,(r=null!==(r=r.compare)?r:sn)(i,n)&&t.ref===e.ref)?Jo(t,e,a):(e.flags|=1,(t=Uu(o,n)).ref=e.ref,t.return=e,e.child=t)}function Ro(t,e,r,n,i,a){if(null!==t&&sn(t.memoizedProps,n)&&t.ref===e.ref){if(Oo=!1,0===(a&i))return e.lanes=t.lanes,Jo(t,e,a);0!==(16384&t.flags)&&(Oo=!0)}return Lo(t,e,r,n,a)}function Uo(t,e,r){var n=e.pendingProps,i=n.children,a=null!==t?t.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},du(e,r);else{if(0===(1073741824&r))return t=null!==a?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},du(e,t),null;e.memoizedState={baseLanes:0},du(e,null!==a?a.baseLanes:r)}else null!==a?(n=a.baseLanes|r,e.memoizedState=null):n=r,du(e,n);return Do(t,e,i,r),e.child}function jo(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=128)}function Lo(t,e,r,n,i){var a=ci(r)?li:si.current;return a=hi(e,a),Ji(e,i),r=to(t,e,r,n,a,i),null===t||Oo?(e.flags|=1,Do(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jo(t,e,i))}function Bo(t,e,r,n,i){if(ci(r)){var a=!0;mi(e)}else a=!1;if(Ji(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),da(e,r,n),ma(e,r,n,i),n=!0;else if(null===t){var o=e.stateNode,s=e.memoizedProps;o.props=s;var u=o.context,l=r.contextType;"object"===typeof l&&null!==l?l=ta(l):l=hi(e,l=ci(r)?li:si.current);var h=r.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;c||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||u!==l)&&pa(e,o,n,l),ea=!1;var f=e.memoizedState;o.state=f,sa(e,n,o,i),u=e.memoizedState,s!==n||f!==u||ui.current||ea?("function"===typeof h&&(ha(e,r,h,n),u=e.memoizedState),(s=ea||fa(e,r,s,n,f,u,l))?(c||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4)):("function"===typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):("function"===typeof o.componentDidMount&&(e.flags|=4),n=!1)}else{o=e.stateNode,na(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:qi(e.type,s),o.props=l,c=e.pendingProps,f=o.context,"object"===typeof(u=r.contextType)&&null!==u?u=ta(u):u=hi(e,u=ci(r)?li:si.current);var d=r.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==c||f!==u)&&pa(e,o,n,u),ea=!1,f=e.memoizedState,o.state=f,sa(e,n,o,i);var p=e.memoizedState;s!==c||f!==p||ui.current||ea?("function"===typeof d&&(ha(e,r,d,n),p=e.memoizedState),(l=ea||fa(e,r,l,n,f,p,u))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=u,n=l):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),n=!1)}return No(t,e,r,n,a,i)}function No(t,e,r,n,i,a){jo(t,e);var o=0!==(64&e.flags);if(!n&&!o)return i&&gi(e,r,!1),Jo(t,e,a);n=e.stateNode,Co.current=e;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&o?(e.child=ba(e,t.child,null,a),e.child=ba(e,null,s,a)):Do(t,e,s,a),e.memoizedState=n.state,i&&gi(e,r,!0),e.child}function Fo(t){var e=t.stateNode;e.pendingContext?di(0,e.pendingContext,e.pendingContext!==e.context):e.context&&di(0,e.context,!1),Aa(t,e.containerInfo)}var zo,Vo,Yo,Xo,qo={dehydrated:null,retryLane:0};function Ho(t,e,r){var n,i=e.pendingProps,a=Da.current,o=!1;return(n=0!==(64&e.flags))||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ai(Da,1&a),null===t?(void 0!==i.fallback&&Ba(e),t=i.children,a=i.fallback,o?(t=Go(e,t,a,r),e.child.memoizedState={baseLanes:r},e.memoizedState=qo,t):"number"===typeof i.unstable_expectedLoadTime?(t=Go(e,t,a,r),e.child.memoizedState={baseLanes:r},e.memoizedState=qo,e.lanes=33554432,t):((r=Bu({mode:"visible",children:t},e.mode,r,null)).return=e,e.child=r)):(t.memoizedState,o?(i=Ko(t,e,i.children,i.fallback,r),o=e.child,a=t.child.memoizedState,o.memoizedState=null===a?{baseLanes:r}:{baseLanes:a.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=qo,i):(r=Wo(t,e,i.children,r),e.memoizedState=null,r))}function Go(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=e):a=Bu(e,i,0,null),r=Lu(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function Wo(t,e,r,n){var i=t.child;return t=i.sibling,r=Uu(i,{mode:"visible",children:r}),0===(2&e.mode)&&(r.lanes=n),r.return=e,r.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function Ko(t,e,r,n,i){var a=e.mode,o=t.child;t=o.sibling;var s={mode:"hidden",children:r};return 0===(2&a)&&e.child!==o?((r=e.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Uu(o,s),null!==t?n=Uu(t,n):(n=Lu(n,a,i,null)).flags|=2,n.return=e,r.return=e,r.sibling=n,e.child=r,n}function Zo(t,e){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),$i(t.return,e)}function Qo(t,e,r,n,i,a){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=a)}function $o(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Do(t,e,n.children,r),0!==(2&(n=Da.current)))n=1&n|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Zo(t,r);else if(19===t.tag)Zo(t,r);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ai(Da,n),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===Ia(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Qo(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ia(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Qo(e,!0,r,null,a,e.lastEffect);break;case"together":Qo(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Jo(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Ts|=e.lanes,0!==(r&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(r=Uu(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Uu(t,t.pendingProps)).return=e;r.sibling=null}return e.child}return null}function ts(t,e){if(!Ua)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function es(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ci(e.type)&&fi(),null;case 3:return Pa(),ii(ui),ii(si),Ya(),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(Fa(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Vo(e),null;case 5:Oa(e);var a=Sa(Ea.current);if(r=e.type,null!==t&&null!=e.stateNode)Yo(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(null===e.stateNode)throw Error(o(166));return null}if(t=Sa(xa.current),Fa(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Hn]=e,n[Gn]=s,r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(t=0;t<bn.length;t++)Mn(bn[t],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":tt(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":ut(n,s),Mn("invalid",n)}for(var l in xt(r,s),t=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?n.textContent!==a&&(t=["children",a]):"number"===typeof a&&n.textContent!==""+a&&(t=["children",""+a]):u.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Mn("scroll",n));switch(r){case"input":Z(n),nt(n,s,!0);break;case"textarea":Z(n),ht(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Rn)}n=t,e.updateQueue=n,null!==n&&(e.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,t===ct.html&&(t=ft(r)),t===ct.html?"script"===r?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),"select"===r&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[Hn]=e,t[Gn]=n,zo(t,e,!1,!1),e.stateNode=t,l=Mt(r,n),r){case"dialog":Mn("cancel",t),Mn("close",t),a=n;break;case"iframe":case"object":case"embed":Mn("load",t),a=n;break;case"video":case"audio":for(a=0;a<bn.length;a++)Mn(bn[a],t);a=n;break;case"source":Mn("error",t),a=n;break;case"img":case"image":case"link":Mn("error",t),Mn("load",t),a=n;break;case"details":Mn("toggle",t),a=n;break;case"input":tt(t,n),a=J(t,n),Mn("invalid",t);break;case"option":a=at(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=i({},n,{value:void 0}),Mn("invalid",t);break;case"textarea":ut(t,n),a=st(t,n),Mn("invalid",t);break;default:a=n}xt(r,a);var h=a;for(s in h)if(h.hasOwnProperty(s)){var c=h[s];"style"===s?kt(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&gt(t,c):"children"===s?"string"===typeof c?("textarea"!==r||""!==c)&&vt(t,c):"number"===typeof c&&vt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Mn("scroll",t):null!=c&&b(t,s,c,l))}switch(r){case"input":Z(t),nt(t,n,!1);break;case"textarea":Z(t),ht(t);break;case"option":null!=n.value&&t.setAttribute("value",""+W(n.value));break;case"select":t.multiple=!!n.multiple,null!=(s=n.value)?ot(t,!!n.multiple,s,!1):null!=n.defaultValue&&ot(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(t.onclick=Rn)}Ln(r,n)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Xo(t,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));r=Sa(Ea.current),Sa(xa.current),Fa(e)?(n=e.stateNode,r=e.memoizedProps,n[Hn]=e,n.nodeValue!==r&&(e.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Hn]=e,e.stateNode=n)}return null;case 13:return ii(Da),n=e.memoizedState,0!==(64&e.flags)?(e.lanes=r,e):(n=null!==n,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Fa(e):r=null!==t.memoizedState,n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Da.current)?0===Os&&(Os=3):(0!==Os&&3!==Os||(Os=4),null===Es||0===(134217727&Ts)&&0===(134217727&Rs)||lu(Es,As))),(n||r)&&(e.flags|=4),null);case 4:return Pa(),Vo(e),null===t&&Sn(e.stateNode.containerInfo),null;case 10:return Qi(e),null;case 17:return ci(e.type)&&fi(),null;case 19:if(ii(Da),null===(n=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=n.rendering))if(s)ts(n,!1);else{if(0!==Os||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Ia(t))){for(e.flags|=64,ts(n,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===n.lastEffect&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;null!==r;)t=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ai(Da,1&Da.current|2),e.child}t=t.sibling}null!==n.tail&&Li()>Bs&&(e.flags|=64,s=!0,ts(n,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Ia(l))){if(e.flags|=64,s=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),ts(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Ua)return null!==(e=e.lastEffect=n.lastEffect)&&(e.nextEffect=null),null}else 2*Li()-n.renderingStartTime>Bs&&1073741824!==r&&(e.flags|=64,s=!0,ts(n,!1),e.lanes=33554432);n.isBackwards?(l.sibling=e.child,e.child=l):(null!==(r=n.last)?r.sibling=l:e.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Li(),r.sibling=null,e=Da.current,ai(Da,s?1&e|2:1&e),r):null;case 23:case 24:return pu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function rs(t){switch(t.tag){case 1:ci(t.type)&&fi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Pa(),ii(ui),ii(si),Ya(),0!==(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Oa(t),null;case 13:return ii(Da),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ii(Da),null;case 4:return Pa(),null;case 10:return Qi(t),null;case 23:case 24:return pu(),null;default:return null}}function ns(t,e){try{var r="",n=e;do{r+=H(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:t,source:e,stack:i}}function is(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}zo=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Vo=function(){},Yo=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Sa(xa.current);var o,s=null;switch(r){case"input":a=J(t,a),n=J(t,n),s=[];break;case"option":a=at(t,a),n=at(t,n),s=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":a=st(t,a),n=st(t,n),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(t.onclick=Rn)}for(c in xt(r,n),r=null,a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(l=null!=a?a[c]:void 0,n.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&l[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(s=s||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(s=s||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Mn("scroll",t),s||l===h||(s=[])):"object"===typeof h&&null!==h&&h.$$typeof===U?h.toString():(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},Xo=function(t,e,r,n){r!==n&&(e.flags|=4)};var as="function"===typeof WeakMap?WeakMap:Map;function os(t,e,r){(r=ia(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vs||(Vs=!0,Ys=n),is(0,e)},r}function ss(t,e,r){(r=ia(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return is(0,e),n(i)}}var a=t.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Xs?Xs=new Set([this]):Xs.add(this),is(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}var us="function"===typeof WeakSet?WeakSet:Set;function ls(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(r){Ou(t,r)}else e.current=null}function hs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var r=t.memoizedProps,n=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?r:qi(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&zn(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function cs(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=r.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=r.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Au(r,t),Su(r,t)),t=n}while(t!==e)}return;case 1:return t=r.stateNode,4&r.flags&&(null===e?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:qi(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=r.updateQueue)&&ua(r,e,t));case 3:if(null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}ua(r,e,t)}return;case 5:return t=r.stateNode,void(null===e&&4&r.flags&&Ln(r.type,r.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&be(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function fs(t,e){for(var r=t;;){if(5===r.tag){var n=r.stateNode;if(e)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=bt("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===t)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ds(t,e){if(yi&&"function"===typeof yi.onCommitFiberUnmount)try{yi.onCommitFiberUnmount(vi,e)}catch(a){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))Au(e,r);else{n=e;try{i()}catch(a){Ou(n,a)}}r=r.next}while(r!==t)}break;case 1:if(ls(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){Ou(e,a)}break;case 5:ls(e);break;case 4:vs(t,e)}}function ps(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ms(t){return 5===t.tag||3===t.tag||4===t.tag}function gs(t){t:{for(var e=t.return;null!==e;){if(ms(e))break t;e=e.return}throw Error(o(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:e=e.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.flags&&(vt(e,""),r.flags&=-17);t:e:for(r=t;;){for(;null===r.sibling;){if(null===r.return||ms(r.return)){r=null;break t}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue e;if(null===r.child||4===r.tag)continue e;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break t}}n?function t(e,r,n){var i=e.tag,a=5===i||6===i;if(a)e=a?e.stateNode:e.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(8===n.nodeType?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==r.onclick||(r.onclick=Rn));else if(4!==i&&(e=e.child,null!==e))for(t(e,r,n),e=e.sibling;null!==e;)t(e,r,n),e=e.sibling}(t,r,e):function t(e,r,n){var i=e.tag,a=5===i||6===i;if(a)e=a?e.stateNode:e.stateNode.instance,r?n.insertBefore(e,r):n.appendChild(e);else if(4!==i&&(e=e.child,null!==e))for(t(e,r,n),e=e.sibling;null!==e;)t(e,r,n),e=e.sibling}(t,r,e)}function vs(t,e){for(var r,n,i=e,a=!1;;){if(!a){a=i.return;t:for(;;){if(null===a)throw Error(o(160));switch(r=a.stateNode,a.tag){case 5:n=!1;break t;case 3:case 4:r=r.containerInfo,n=!0;break t}a=a.return}a=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,l=u;;)if(ds(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(ds(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function ys(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(t=n.destroy,n.destroy=void 0,void 0!==t&&t()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(null!=(r=e.stateNode)){n=e.memoizedProps;var i=null!==t?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(r[Gn]=n,"input"===t&&"radio"===n.type&&null!=n.name&&et(r,n),Mt(t,i),e=Mt(t,n),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?kt(r,u):"dangerouslySetInnerHTML"===s?gt(r,u):"children"===s?vt(r,u):b(r,s,u,e)}switch(t){case"input":rt(r,n);break;case"textarea":lt(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(a=n.value)?ot(r,!!n.multiple,a,!1):t!==!!n.multiple&&(null!=n.defaultValue?ot(r,!!n.multiple,n.defaultValue,!0):ot(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((r=e.stateNode).hydrate&&(r.hydrate=!1,be(r.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Ls=Li(),fs(e.child,!0)),void ws(e);case 19:return void ws(e);case 17:return;case 23:case 24:return void fs(e,null!==e.memoizedState)}throw Error(o(163))}function ws(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new us),e.forEach(function(e){var n=function(t,e){var r=t.stateNode;null!==r&&r.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Bi()?1:2:(0===tu&&(tu=Is),0===(e=Ne(62914560&~tu))&&(e=4194304))),r=iu(),null!==(t=su(t,e))&&(ze(t,e,r),uu(t,r))}.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))})}}function bs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var ks=Math.ceil,_s=k.ReactCurrentDispatcher,xs=k.ReactCurrentOwner,Ms=0,Es=null,Ss=null,As=0,Ps=0,Cs=ni(0),Os=0,Ds=null,Is=0,Ts=0,Rs=0,Us=0,js=null,Ls=0,Bs=1/0;function Ns(){Bs=Li()+500}var Fs,zs=null,Vs=!1,Ys=null,Xs=null,qs=!1,Hs=null,Gs=90,Ws=[],Ks=[],Zs=null,Qs=0,$s=null,Js=-1,tu=0,eu=0,ru=null,nu=!1;function iu(){return 0!==(48&Ms)?Li():-1!==Js?Js:Js=Li()}function au(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Bi()?1:2;if(0===tu&&(tu=Is),0!==Xi.transition){0!==eu&&(eu=null!==js?js.pendingLanes:0),t=tu;var e=4186112&~eu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Bi(),0!==(4&Ms)&&98===t?t=Be(12,tu):t=Be(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),tu),t}function ou(t,e,r){if(50<Qs)throw Qs=0,$s=null,Error(o(185));if(null===(t=su(t,e)))return null;ze(t,e,r),t===Es&&(Rs|=e,4===Os&&lu(t,As));var n=Bi();1===e?0!==(8&Ms)&&0===(48&Ms)?hu(t):(uu(t,r),0===Ms&&(Ns(),Vi())):(0===(4&Ms)||98!==n&&99!==n||(null===Zs?Zs=new Set([t]):Zs.add(t)),uu(t,r)),js=t}function su(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}function uu(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ve(s),l=1<<u,h=a[u];if(-1===h){if(0===(l&n)||0!==(l&i)){h=e,Ue(l);var c=Re;a[u]=10<=c?h+250:6<=c?h+5e3:-1}}else h<=e&&(t.expiredLanes|=l);s&=~l}if(n=je(t,t===Es?As:0),e=Re,0===n)null!==r&&(r!==Di&&ki(r),t.callbackNode=null,t.callbackPriority=0);else{if(null!==r){if(t.callbackPriority===e)return;r!==Di&&ki(r)}15===e?(r=hu.bind(null,t),null===Ti?(Ti=[r],Ri=bi(Si,Yi)):Ti.push(r),r=Di):14===e?r=zi(99,hu.bind(null,t)):r=zi(r=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),function t(e){Js=-1;eu=tu=0;if(0!==(48&Ms))throw Error(o(327));var r=e.callbackNode;if(Eu()&&e.callbackNode!==r)return null;var n=je(e,e===Es?As:0);if(0===n)return null;var i=n;var a=Ms;Ms|=16;var s=vu();Es===e&&As===i||(Ns(),mu(e,i));for(;;)try{bu();break}catch(u){gu(e,u)}Zi();_s.current=s;Ms=a;null!==Ss?i=0:(Es=null,As=0,i=Os);if(0!==(Is&Rs))mu(e,0);else if(0!==i){if(2===i&&(Ms|=64,e.hydrate&&(e.hydrate=!1,zn(e.containerInfo)),0!==(n=Le(e))&&(i=yu(e,n))),1===i)throw r=Ds,mu(e,0),lu(e,n),uu(e,Li()),r;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(o(345));case 2:xu(e);break;case 3:if(lu(e,n),(62914560&n)===n&&10<(i=Ls+500-Li())){if(0!==je(e,0))break;if(((a=e.suspendedLanes)&n)!==n){iu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Nn(xu.bind(null,e),i);break}xu(e);break;case 4:if(lu(e,n),(4186112&n)===n)break;for(i=e.eventTimes,a=-1;0<n;){var l=31-Ve(n);s=1<<l,(l=i[l])>a&&(a=l),n&=~s}if(n=a,10<(n=(120>(n=Li()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Nn(xu.bind(null,e),n);break}xu(e);break;case 5:xu(e);break;default:throw Error(o(329))}}uu(e,Li());return e.callbackNode===r?t.bind(null,e):null}.bind(null,t)),t.callbackPriority=e,t.callbackNode=r}}function lu(t,e){for(e&=~Us,e&=~Rs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ve(e),n=1<<r;t[r]=-1,e&=~n}}function hu(t){if(0!==(48&Ms))throw Error(o(327));if(Eu(),t===Es&&0!==(t.expiredLanes&As)){var e=As,r=yu(t,e);0!==(Is&Rs)&&(r=yu(t,e=je(t,e)))}else r=yu(t,e=je(t,0));if(0!==t.tag&&2===r&&(Ms|=64,t.hydrate&&(t.hydrate=!1,zn(t.containerInfo)),0!==(e=Le(t))&&(r=yu(t,e))),1===r)throw r=Ds,mu(t,0),lu(t,e),uu(t,Li()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,xu(t),uu(t,Li()),null}function cu(t,e){var r=Ms;Ms|=1;try{return t(e)}finally{0===(Ms=r)&&(Ns(),Vi())}}function fu(t,e){var r=Ms;Ms&=-2,Ms|=8;try{return t(e)}finally{0===(Ms=r)&&(Ns(),Vi())}}function du(t,e){ai(Cs,Ps),Ps|=e,Is|=e}function pu(){Ps=Cs.current,ii(Cs)}function mu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,Fn(r)),null!==Ss)for(r=Ss.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&fi();break;case 3:Pa(),ii(ui),ii(si),Ya();break;case 5:Oa(n);break;case 4:Pa();break;case 13:case 19:ii(Da);break;case 10:Qi(n);break;case 23:case 24:pu()}r=r.return}Es=t,Ss=Uu(t.current,null),As=Ps=Is=e,Os=0,Ds=null,Us=Rs=Ts=0}function gu(t,e){for(;;){var r=Ss;try{if(Zi(),Xa.current=Eo,Za){for(var n=Ga.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}Za=!1}if(Ha=0,Ka=Wa=Ga=null,Qa=!1,xs.current=null,null===r||null===r.return){Os=1,Ds=e,Ss=null;break}t:{var a=t,o=r.return,s=r,u=e;if(e=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&Da.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!c)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ia(-1,1);y.tag=2,aa(s,y)}s.lanes|=1;break t}u=void 0,s=e;var w=a.pingCache;if(null===w?(w=a.pingCache=new as,u=new Set,w.set(l,u)):void 0===(u=w.get(l))&&(u=new Set,w.set(l,u)),!u.has(s)){u.add(s);var b=Du.bind(null,a,l,s);l.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Os&&(Os=2),u=ns(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,e&=-e,f.lanes|=e,oa(f,os(0,a,e));break t;case 1:a=u;var k=f.type,_=f.stateNode;if(0===(64&f.flags)&&("function"===typeof k.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xs||!Xs.has(_)))){f.flags|=4096,e&=-e,f.lanes|=e,oa(f,ss(f,a,e));break t}}f=f.return}while(null!==f)}_u(r)}catch(x){e=x,Ss===r&&null!==r&&(Ss=r=r.return);continue}break}}function vu(){var t=_s.current;return _s.current=Eo,null===t?Eo:t}function yu(t,e){var r=Ms;Ms|=16;var n=vu();for(Es===t&&As===e||mu(t,e);;)try{wu();break}catch(i){gu(t,i)}if(Zi(),Ms=r,_s.current=n,null!==Ss)throw Error(o(261));return Es=null,As=0,Os}function wu(){for(;null!==Ss;)ku(Ss)}function bu(){for(;null!==Ss&&!_i();)ku(Ss)}function ku(t){var e=Fs(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,null===e?_u(t):Ss=e,xs.current=null}function _u(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(r=es(r,e,Ps)))return void(Ss=r);if(24!==(r=e).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ps)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(r=rs(e)))return r.flags&=2047,void(Ss=r);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ss=e);Ss=e=t}while(null!==e);0===Os&&(Os=5)}function xu(t){var e=Bi();return Fi(99,function(t,e){do{Eu()}while(null!==Hs);if(0!==(48&Ms))throw Error(o(327));var r=t.finishedWork;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(o(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<a;){var l=31-Ve(a),h=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~h}if(null!==Zs&&0===(24&n)&&Zs.has(t)&&Zs.delete(t),t===Es&&(Ss=Es=null,As=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Ms,Ms|=32,xs.current=null,Un=Ge,cn(s=hn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(h=u.getSelection&&u.getSelection())&&0!==h.rangeCount){u=h.anchorNode,a=h.anchorOffset,l=h.focusNode,h=h.focusOffset;try{u.nodeType,l.nodeType}catch(S){u=null;break t}var c=0,f=-1,d=-1,p=0,m=0,g=s,v=null;e:for(;;){for(var y;g!==u||0!==a&&3!==g.nodeType||(f=c+a),g!==l||0!==h&&3!==g.nodeType||(d=c+h),3===g.nodeType&&(c+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break e;if(v===u&&++p===a&&(f=c),v===l&&++m===h&&(d=c),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;jn={focusedElem:s,selectionRange:u},Ge=!1,ru=null,nu=!1,zs=n;do{try{Mu()}catch(S){if(null===zs)throw Error(o(330));Ou(zs,S),zs=zs.nextEffect}}while(null!==zs);ru=null,zs=n;do{try{for(s=t;null!==zs;){var w=zs.flags;if(16&w&&vt(zs.stateNode,""),128&w){var b=zs.alternate;if(null!==b){var k=b.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&w){case 2:gs(zs),zs.flags&=-3;break;case 6:gs(zs),zs.flags&=-3,ys(zs.alternate,zs);break;case 1024:zs.flags&=-1025;break;case 1028:zs.flags&=-1025,ys(zs.alternate,zs);break;case 4:ys(zs.alternate,zs);break;case 8:vs(s,u=zs);var _=u.alternate;ps(u),null!==_&&ps(_)}zs=zs.nextEffect}}catch(S){if(null===zs)throw Error(o(330));Ou(zs,S),zs=zs.nextEffect}}while(null!==zs);if(k=jn,b=hn(),w=k.focusedElem,s=k.selectionRange,b!==w&&w&&w.ownerDocument&&function t(e,r){return!(!e||!r)&&(e===r||(!e||3!==e.nodeType)&&(r&&3===r.nodeType?t(e,r.parentNode):"contains"in e?e.contains(r):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(r))))}(w.ownerDocument.documentElement,w)){null!==s&&cn(w)&&(b=s.start,void 0===(k=s.end)&&(k=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(k,w.value.length)):(k=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),u=w.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!k.extend&&_>s&&(u=s,s=_,_=u),u=ln(w,_),a=ln(w,s),u&&a&&(1!==k.rangeCount||k.anchorNode!==u.node||k.anchorOffset!==u.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),k.removeAllRanges(),_>s?(k.addRange(b),k.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),k.addRange(b))))),b=[];for(k=w;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<b.length;w++)(k=b[w]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Ge=!!Un,jn=Un=null,t.current=r,zs=n;do{try{for(w=t;null!==zs;){var x=zs.flags;if(36&x&&cs(w,zs.alternate,zs),128&x){b=void 0;var M=zs.ref;if(null!==M){var E=zs.stateNode;switch(zs.tag){case 5:b=E;break;default:b=E}"function"===typeof M?M(b):M.current=b}}zs=zs.nextEffect}}catch(S){if(null===zs)throw Error(o(330));Ou(zs,S),zs=zs.nextEffect}}while(null!==zs);zs=null,Ii(),Ms=i}else t.current=r;if(qs)qs=!1,Hs=t,Gs=e;else for(zs=n;null!==zs;)e=zs.nextEffect,zs.nextEffect=null,8&zs.flags&&((x=zs).sibling=null,x.stateNode=null),zs=e;if(0===(n=t.pendingLanes)&&(Xs=null),1===n?t===$s?Qs++:(Qs=0,$s=t):Qs=0,r=r.stateNode,yi&&"function"===typeof yi.onCommitFiberRoot)try{yi.onCommitFiberRoot(vi,r,void 0,64===(64&r.current.flags))}catch(S){}if(uu(t,Li()),Vs)throw Vs=!1,t=Ys,Ys=null,t;return 0!==(8&Ms)?null:(Vi(),null)}.bind(null,t,e)),null}function Mu(){for(;null!==zs;){var t=zs.alternate;nu||null===ru||(0!==(8&zs.flags)?$t(zs,ru)&&(nu=!0):13===zs.tag&&bs(t,zs)&&$t(zs,ru)&&(nu=!0));var e=zs.flags;0!==(256&e)&&hs(t,zs),0===(512&e)||qs||(qs=!0,zi(97,function(){return Eu(),null})),zs=zs.nextEffect}}function Eu(){if(90!==Gs){var t=97<Gs?97:Gs;return Gs=90,Fi(t,Pu)}return!1}function Su(t,e){Ws.push(e,t),qs||(qs=!0,zi(97,function(){return Eu(),null}))}function Au(t,e){Ks.push(e,t),qs||(qs=!0,zi(97,function(){return Eu(),null}))}function Pu(){if(null===Hs)return!1;var t=Hs;if(Hs=null,0!==(48&Ms))throw Error(o(331));var e=Ms;Ms|=32;var r=Ks;Ks=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Ou(a,l)}}for(r=Ws,Ws=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Ou(a,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ms=e,Vi(),!0}function Cu(t,e,r){aa(t,e=os(0,e=ns(r,e),1)),e=iu(),null!==(t=su(t,1))&&(ze(t,1,e),uu(t,e))}function Ou(t,e){if(3===t.tag)Cu(t,t,e);else for(var r=t.return;null!==r;){if(3===r.tag){Cu(r,t,e);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Xs||!Xs.has(n))){var i=ss(r,t=ns(e,t),1);if(aa(r,i),i=iu(),null!==(r=su(r,1)))ze(r,1,i),uu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Xs||!Xs.has(n)))try{n.componentDidCatch(e,t)}catch(a){}break}}r=r.return}}function Du(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=iu(),t.pingedLanes|=t.suspendedLanes&r,Es===t&&(As&r)===r&&(4===Os||3===Os&&(62914560&As)===As&&500>Li()-Ls?mu(t,0):Us|=r),uu(t,e)}function Iu(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(t,e,r,n){return new Iu(t,e,r,n)}function Ru(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Uu(t,e){var r=t.alternate;return null===r?((r=Tu(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ju(t,e,r,n,i,a){var s=2;if(n=t,"function"===typeof t)Ru(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case M:return Lu(r.children,i,a,e);case j:s=8,i|=16;break;case E:s=8,i|=1;break;case S:return(t=Tu(12,r,e,8|i)).elementType=S,t.type=S,t.lanes=a,t;case O:return(t=Tu(13,r,e,i)).type=O,t.elementType=O,t.lanes=a,t;case D:return(t=Tu(19,r,e,i)).elementType=D,t.lanes=a,t;case L:return Bu(r,i,a,e);case B:return(t=Tu(24,r,e,i)).elementType=B,t.lanes=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:s=10;break t;case P:s=9;break t;case C:s=11;break t;case I:s=14;break t;case T:s=16,n=null;break t;case R:s=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Tu(s,r,e,i)).elementType=t,e.type=n,e.lanes=a,e}function Lu(t,e,r,n){return(t=Tu(7,t,n,e)).lanes=r,t}function Bu(t,e,r,n){return(t=Tu(23,t,n,e)).elementType=L,t.lanes=r,t}function Nu(t,e,r){return(t=Tu(6,t,null,e)).lanes=r,t}function Fu(t,e,r){return(e=Tu(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zu(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Fe(0),this.expirationTimes=Fe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.mutableSourceEagerHydrationData=null}function Vu(t,e,r,n){var i=e.current,a=iu(),s=au(i);t:if(r){e:{if(Wt(r=r._reactInternals)!==r||1!==r.tag)throw Error(o(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(ci(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(o(171))}if(1===r.tag){var l=r.type;if(ci(l)){r=pi(r,l,u);break t}}r=u}else r=oi;return null===e.context?e.context=r:e.pendingContext=r,(e=ia(a,s)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),aa(i,e),ou(i,s,a),s}function Yu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Xu(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function qu(t,e){Xu(t,e),(t=t.alternate)&&Xu(t,e)}function Hu(t,e,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new zu(t,e,null!=r&&!0===r.hydrate),e=Tu(3,null,null,2===e?7:1===e?3:0),r.current=e,e.stateNode=r,ra(e),t[Wn]=r.current,Sn(8===t.nodeType?t.parentNode:t),n)for(t=0;t<n.length;t++){var i=(e=n[t])._getVersion;i=i(e._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}function Gu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Wu(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Yu(o);s.call(t)}}Vu(e,o,t,i)}else{if(a=r._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new Hu(t,0,e?{hydrate:!0}:void 0)}(r,n),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var t=Yu(o);u.call(t)}}fu(function(){Vu(e,o,t,i)})}return Yu(o)}function Ku(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gu(e))throw Error(o(200));return function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)}Fs=function(t,e,r){var n=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ui.current)Oo=!0;else{if(0===(r&n)){switch(Oo=!1,e.tag){case 3:Fo(e),za();break;case 5:Ca(e);break;case 1:ci(e.type)&&mi(e);break;case 4:Aa(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;ai(Hi,i._currentValue),i._currentValue=n;break;case 13:if(null!==e.memoizedState)return 0!==(r&e.child.childLanes)?Ho(t,e,r):(ai(Da,1&Da.current),null!==(e=Jo(t,e,r))?e.sibling:null);ai(Da,1&Da.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(64&t.flags)){if(n)return $o(t,e,r);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Da,Da.current),n)break;return null;case 23:case 24:return e.lanes=0,Uo(t,e,r)}return Jo(t,e,r)}Oo=0!==(16384&t.flags)}else Oo=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=hi(e,si.current),Ji(e,r),i=to(null,e,n,t,i,r),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(n)){var a=!0;mi(e)}else a=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ra(e);var s=n.getDerivedStateFromProps;"function"===typeof s&&ha(e,n,s,t),i.updater=ca,e.stateNode=i,i._reactInternals=e,ma(e,n,t,r),e=No(null,e,n,!0,a,r)}else e.tag=0,Do(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(a=i._init)(i._payload),e.type=i,a=e.tag=function(t){if("function"===typeof t)return Ru(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===C)return 11;if(t===I)return 14}return 2}(i),t=qi(i,t),a){case 0:e=Lo(null,e,i,t,r);break t;case 1:e=Bo(null,e,i,t,r);break t;case 11:e=Io(null,e,i,t,r);break t;case 14:e=To(null,e,i,qi(i.type,t),n,r);break t}throw Error(o(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,Lo(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 1:return n=e.type,i=e.pendingProps,Bo(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 3:if(Fo(e),n=e.updateQueue,null===t||null===n)throw Error(o(282));if(n=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,na(t,e),sa(e,n,null,r),(n=e.memoizedState.element)===i)za(),e=Jo(t,e,r);else{if((a=(i=e.stateNode).hydrate)&&(Ra=Vn(e.stateNode.containerInfo.firstChild),Ta=e,a=Ua=!0),a){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(a=t[i])._workInProgressVersionPrimary=t[i+1],Va.push(a);for(r=ka(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Do(t,e,n,r),za();e=e.child}return e;case 5:return Ca(e),null===t&&Ba(e),n=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,Bn(n,i)?s=null:null!==a&&Bn(n,a)&&(e.flags|=16),jo(t,e),Do(t,e,s,r),e.child;case 6:return null===t&&Ba(e),null;case 13:return Ho(t,e,r);case 4:return Aa(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=ba(e,null,n,r):Do(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Io(t,e,n,i=e.elementType===n?i:qi(n,i),r);case 7:return Do(t,e,e.pendingProps,r),e.child;case 8:case 12:return Do(t,e,e.pendingProps.children,r),e.child;case 10:t:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value;var u=e.type._context;if(ai(Hi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=an(u,a)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!ui.current){e=Jo(t,e,r);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var h=l.firstContext;null!==h;){if(h.context===n&&0!==(h.observedBits&a)){1===u.tag&&((h=ia(-1,r&-r)).tag=2,aa(u,h)),u.lanes|=r,null!==(h=u.alternate)&&(h.lanes|=r),$i(u.return,r),l.lanes|=r;break}h=h.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Do(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=(a=e.pendingProps).children,Ji(e,r),n=n(i=ta(i,a.unstable_observedBits)),e.flags|=1,Do(t,e,n,r),e.child;case 14:return a=qi(i=e.type,e.pendingProps),To(t,e,i,a=qi(i.type,a),n,r);case 15:return Ro(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:qi(n,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ci(n)?(t=!0,mi(e)):t=!1,Ji(e,r),da(e,n,i),ma(e,n,i,r),No(null,e,n,!0,t,r);case 19:return $o(t,e,r);case 23:case 24:return Uo(t,e,r)}throw Error(o(156,e.tag))},Hu.prototype.render=function(t){Vu(t,this._internalRoot,null,null)},Hu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Vu(null,t,null,function(){e[Wn]=null})},Jt=function(t){13===t.tag&&(ou(t,4,iu()),qu(t,4))},te=function(t){13===t.tag&&(ou(t,67108864,iu()),qu(t,67108864))},ee=function(t){if(13===t.tag){var e=iu(),r=au(t);ou(t,r,e),qu(t,r)}},re=function(t,e){return e()},St=function(t,e,r){switch(e){case"input":if(rt(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Jn(n);if(!i)throw Error(o(90));Q(n),rt(n,i)}}}break;case"textarea":lt(t,r);break;case"select":null!=(e=r.value)&&ot(t,!!r.multiple,e,!1)}},It=cu,Tt=function(t,e,r,n,i){var a=Ms;Ms|=4;try{return Fi(98,t.bind(null,e,r,n,i))}finally{0===(Ms=a)&&(Ns(),Vi())}},Rt=function(){0===(49&Ms)&&(function(){if(null!==Zs){var t=Zs;Zs=null,t.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,uu(t,Li())})}Vi()}(),Eu())},Ut=function(t,e){var r=Ms;Ms|=2;try{return t(e)}finally{0===(Ms=r)&&(Ns(),Vi())}};var Zu={Events:[Qn,$n,Jn,Ot,Dt,Eu,{current:!1}]},Qu={findFiberByHostInstance:Zn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},$u={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Qt(t))?null:t.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{vi=Ju.inject($u),yi=Ju}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,e.createPortal=Ku,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=Qt(e))?null:t.stateNode},e.flushSync=function(t,e){var r=Ms;if(0!==(48&r))return t(e);Ms|=1;try{if(t)return Fi(99,t.bind(null,e))}finally{Ms=r,Vi()}},e.hydrate=function(t,e,r){if(!Gu(e))throw Error(o(200));return Wu(null,t,e,!0,r)},e.render=function(t,e,r){if(!Gu(e))throw Error(o(200));return Wu(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!Gu(t))throw Error(o(40));return!!t._reactRootContainer&&(fu(function(){Wu(null,null,t,!1,function(){t._reactRootContainer=null,t[Wn]=null})}),!0)},e.unstable_batchedUpdates=cu,e.unstable_createPortal=function(t,e){return Ku(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Gu(r))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Wu(t,e,r,!1,n)},e.version="17.0.2"},function(t,e,r){"use strict";t.exports=r(77)},function(t,e,r){"use strict";var n,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var h=null,c=null,f=function t(){if(null!==h)try{var r=e.unstable_now();h(!0,r),h=null}catch(n){throw setTimeout(t,0),n}};n=function(t){null!==h?setTimeout(n,0,t):(h=t,setTimeout(f,0))},i=function(t,e){c=setTimeout(t,e)},a=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,w=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,_=k.port2;k.port1.onmessage=function(){if(null!==v){var t=e.unstable_now();b=t+w;try{v(!0,t)?_.postMessage(null):(g=!1,v=null)}catch(r){throw _.postMessage(null),r}}else g=!1},n=function(t){v=t,g||(g=!0,_.postMessage(null))},i=function(t,r){y=d(function(){t(e.unstable_now())},r)},a=function(){p(y),y=-1}}function x(t,e){var r=t.length;t.push(e);t:for(;;){var n=r-1>>>1,i=t[n];if(!(void 0!==i&&0<S(i,e)))break t;t[n]=e,t[r]=i,r=n}}function M(t){return void 0===(t=t[0])?null:t}function E(t){var e=t[0];if(void 0!==e){var r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length;n<i;){var a=2*(n+1)-1,o=t[a],s=a+1,u=t[s];if(void 0!==o&&0>S(o,r))void 0!==u&&0>S(u,o)?(t[n]=u,t[s]=r,n=s):(t[n]=o,t[a]=r,n=a);else{if(!(void 0!==u&&0>S(u,r)))break t;t[n]=u,t[s]=r,n=s}}}return e}return null}function S(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}var A=[],P=[],C=1,O=null,D=3,I=!1,T=!1,R=!1;function U(t){for(var e=M(P);null!==e;){if(null===e.callback)E(P);else{if(!(e.startTime<=t))break;E(P),e.sortIndex=e.expirationTime,x(A,e)}e=M(P)}}function j(t){if(R=!1,U(t),!T)if(null!==M(A))T=!0,n(L);else{var e=M(P);null!==e&&i(j,e.startTime-t)}}function L(t,r){T=!1,R&&(R=!1,a()),I=!0;var n=D;try{for(U(r),O=M(A);null!==O&&(!(O.expirationTime>r)||t&&!e.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,D=O.priorityLevel;var s=o(O.expirationTime<=r);r=e.unstable_now(),"function"===typeof s?O.callback=s:O===M(A)&&E(A),U(r)}else E(A);O=M(A)}if(null!==O)var u=!0;else{var l=M(P);null!==l&&i(j,l.startTime-r),u=!1}return u}finally{O=null,D=n,I=!1}}var B=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){T||I||(T=!0,n(L))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return M(A)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var r=D;D=e;try{return t()}finally{D=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=B,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=D;D=t;try{return e()}finally{D=r}},e.unstable_scheduleCallback=function(t,r,o){var s=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:C++,callback:r,priorityLevel:t,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(t.sortIndex=o,x(P,t),null===M(A)&&t===M(P)&&(R?a():R=!0,i(j,o-s))):(t.sortIndex=u,x(A,t),T||I||(T=!0,n(L))),t},e.unstable_wrapCallback=function(t){var e=D;return function(){var r=D;D=e;try{return t.apply(this,arguments)}finally{D=r}}}},,,function(t,e,r){"use strict";for(var n=r(81),i=r(87),a=[],o=0;o<=8;o++)a.push(255<<o);t.exports=function(t){if(1!==t.bitDepth)throw new Error("Only bitDepth of 1 is supported");if(!t.height||!t.width)throw new Error("ImageData width and height are required");if(1!==t.components)throw new Error("Only 1 component is supported");if(1!==t.channels)throw new Error("Only 1 channel is supported");var e=new n;e.skip(14),function(t,e){t.writeUint32(124).writeInt32(e.width).writeInt32(e.height).writeUint16(1).writeUint16(e.bitDepth).writeUint32(i.BITMAPV5HEADER.Compression.BI_RGB).writeUint32(e.width*e.height*e.bitDepth).writeInt32(0).writeInt32(0).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(Math.pow(2,e.bitDepth)).writeUint32(4278190080).writeUint32(16711680).writeUint32(65280).writeUint32(255).writeUint32(i.BITMAPV5HEADER.LogicalColorSpace.LCS_sRGB).skip(36).skip(12).writeUint32(i.BITMAPV5HEADER.GamutMappingIntent.LCS_GM_IMAGES).skip(12)}(e,t),function(t,e){if(e.bitDepth>8)return;t.writeUint32(0).writeUint32(16777215)}(e,t);var r=e.offset;return function(t,e){var r,i,o=4*Math.floor((e.bitDepth*e.width+31)/32),s=Math.ceil(e.bitDepth*e.width/8),u=o-s,l=e.bitDepth*e.width%8,h=0===l?0:8-l,c=o*e.height,f=new n(e.data),d=0,p=0,m=8;t.mark(),i=f.readUint8();for(var g=e.height-1;g>=0;g--){var v=0===g;t.reset(),t.skip(g*o);for(var y=0;y<s;y++){var w=y===s-1;p<=h&&w?(t.writeByte(i<<p),0!==h&&h!==p||v||(r=i,i=f.readByte())):0===p?(r=i,i=f.readUint8(),t.writeByte(r)):(r=i,i=f.readUint8(),t.writeByte(r<<p&a[p]|i>>m)),w?(d+=l||8,t.skip(u),m=8-(p=d%8)):d+=8}}o>s&&(t.reset(),t.skip(c-1),t.writeUint8(0))}(e,t),e.rewind(),function(t,e){t.writeChars("BM"),t.writeInt32(t._lastWrittenByte),t.writeUint16(0),t.writeUint16(0),t.writeUint32(e)}(e,r),e.getBuffer()}},function(t,e,r){"use strict";(function(e){var n=r(9),i=r(10),a=r(85),o=8192,s=[],u=function(){function t(e,r){n(this,t),r=r||{};var i=!1;void 0===e&&(e=o),"number"===typeof e?e=new ArrayBuffer(e):(i=!0,this._lastWrittenByte=e.byteLength);var a=r.offset?r.offset>>>0:0,s=e.byteLength-a,u=a;e.buffer&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),this._lastWrittenByte=i?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,s),this._mark=0,this._marks=[]}return i(t,[{key:"available",value:function(t){return void 0===t&&(t=1),this.offset+t<=this.length}},{key:"isLittleEndian",value:function(){return this.littleEndian}},{key:"setLittleEndian",value:function(){return this.littleEndian=!0,this}},{key:"isBigEndian",value:function(){return!this.littleEndian}},{key:"setBigEndian",value:function(){return this.littleEndian=!1,this}},{key:"skip",value:function(t){return void 0===t&&(t=1),this.offset+=t,this}},{key:"seek",value:function(t){return this.offset=t,this}},{key:"mark",value:function(){return this._mark=this.offset,this}},{key:"reset",value:function(){return this.offset=this._mark,this}},{key:"pushMark",value:function(){return this._marks.push(this.offset),this}},{key:"popMark",value:function(){var t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}},{key:"rewind",value:function(){return this.offset=0,this}},{key:"ensureAvailable",value:function(t){if(void 0===t&&(t=1),!this.available(t)){var e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=this.byteLength=e,this._data=new DataView(this.buffer)}return this}},{key:"readBoolean",value:function(){return 0!==this.readUint8()}},{key:"readInt8",value:function(){return this._data.getInt8(this.offset++)}},{key:"readUint8",value:function(){return this._data.getUint8(this.offset++)}},{key:"readByte",value:function(){return this.readUint8()}},{key:"readBytes",value:function(t){void 0===t&&(t=1);for(var e=new Uint8Array(t),r=0;r<t;r++)e[r]=this.readByte();return e}},{key:"readInt16",value:function(){var t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readUint16",value:function(){var t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}},{key:"readInt32",value:function(){var t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readUint32",value:function(){var t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat32",value:function(){var t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}},{key:"readFloat64",value:function(){var t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}},{key:"readChar",value:function(){return String.fromCharCode(this.readInt8())}},{key:"readChars",value:function(t){void 0===t&&(t=1),s.length=t;for(var e=0;e<t;e++)s[e]=this.readChar();return s.join("")}},{key:"readUtf8",value:function(t){void 0===t&&(t=1);var e=this.readChars(t);return a.decode(e)}},{key:"writeBoolean",value:function(t){return this.writeUint8(t?255:0),this}},{key:"writeInt8",value:function(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeUint8",value:function(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}},{key:"writeByte",value:function(t){return this.writeUint8(t)}},{key:"writeBytes",value:function(t){this.ensureAvailable(t.length);for(var e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}},{key:"writeInt16",value:function(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeUint16",value:function(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}},{key:"writeInt32",value:function(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeUint32",value:function(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat32",value:function(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}},{key:"writeFloat64",value:function(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}},{key:"writeChar",value:function(t){return this.writeUint8(t.charCodeAt(0))}},{key:"writeChars",value:function(t){for(var e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}},{key:"writeUtf8",value:function(t){var e=a.encode(t);return this.writeChars(e)}},{key:"toArray",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)}},{key:"getBuffer",value:function(){return"undefined"!==typeof e?e.from(this.toArray()):this.toArray()}},{key:"_updateLastWrittenByte",value:function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)}}]),t}();t.exports=u}).call(this,r(27).Buffer)},function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=l(t),o=n[0],s=n[1],u=new a(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),h=0,c=s>0?o-4:o;for(r=0;r<c;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[h++]=e>>16&255,u[h++]=e>>8&255,u[h++]=255&e;2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[h++]=255&e);1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[h++]=e>>8&255,u[h++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(h(t,o,o+16383>s?s:o+16383));1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var i,a,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,h=-7,c=r?i-1:0,f=r?-1:1,d=t[e+c];for(c+=f,a=d&(1<<-h)-1,d>>=-h,h+=s;h>0;a=256*a+t[e+c],c+=f,h-=8);for(o=a&(1<<-h)-1,a>>=-h,h+=n;h>0;o=256*o+t[e+c],c+=f,h-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,u,l=8*a-i-1,h=(1<<l)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=h?(s=0,o=h):o+c>=1?(s=(e*u-1)*Math.pow(2,i),o+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[r+d]=255&o,d+=p,o/=256,l-=8);t[r+d-p]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(t,n){var i;!function(a){var o=e,s=(t&&t.exports,"object"==typeof n&&n);s.global!==s&&s.window;var u,l,h,c=String.fromCharCode;function f(t){for(var e,r,n=[],i=0,a=t.length;i<a;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<a?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function d(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function p(t,e){return c(t>>e&63|128)}function m(t){if(0==(4294967168&t))return c(t);var e="";return 0==(4294965248&t)?e=c(t>>6&31|192):0==(4294901760&t)?(d(t),e=c(t>>12&15|224),e+=p(t,6)):0==(4292870144&t)&&(e=c(t>>18&7|240),e+=p(t,12),e+=p(t,6)),e+=c(63&t|128)}function g(){if(h>=l)throw Error("Invalid byte index");var t=255&u[h];if(h++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(){var t,e;if(h>l)throw Error("Invalid byte index");if(h==l)return!1;if(t=255&u[h],h++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|g())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|g()<<6|g())>=2048)return d(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(7&t)<<18|g()<<12|g()<<6|g())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var y={version:"2.1.2",encode:function(t){for(var e=f(t),r=e.length,n=-1,i="";++n<r;)i+=m(e[n]);return i},decode:function(t){u=f(t),l=u.length,h=0;for(var e,r=[];!1!==(e=v());)r.push(e);return function(t){for(var e,r=t.length,n=-1,i="";++n<r;)(e=t[n])>65535&&(i+=c((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=c(e);return i}(r)}};void 0===(i=function(){return y}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(86)(t),r(44))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={BITMAPV5HEADER:{LogicalColorSpace:{LCS_CALIBRATED_RGB:0,LCS_sRGB:1934772034,LCS_WINDOWS_COLOR_SPACE:1466527264},Compression:{BI_RGB:0,BI_RLE8:1,BI_RLE4:2,BI_BITFIELDS:3,BI_JPEG:4,BI_PNG:5,BI_CMYK:11,BI_CMYKRLE8:12,BI_CMYKRLE4:13},GamutMappingIntent:{LCS_GM_ABS_COLORIMETRIC:8,LCS_GM_BUSINESS:1,LCS_GM_GRAPHICS:2,LCS_GM_IMAGES:4}}}},function(t,e,r){"use strict";!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==t)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(t,"') is invalid."))}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==t)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(t,"') is invalid."));if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var e=0,r=t.length,n=0,i=Math.max(32,r+(r>>1)+7),a=new Uint8Array(i>>3<<3);e<r;){var o=t.charCodeAt(e++);if(o>=55296&&o<=56319){if(e<r){var s=t.charCodeAt(e);56320===(64512&s)&&(++e,o=((1023&o)<<10)+(1023&s)+65536)}if(o>=55296&&o<=56319)continue}if(n+4>a.length){i+=8,i=(i*=1+e/t.length*2)>>3<<3;var u=new Uint8Array(i);u.set(a),a=u}if(0!==(4294967168&o)){if(0===(4294965248&o))a[n++]=o>>6&31|192;else if(0===(4294901760&o))a[n++]=o>>12&15|224,a[n++]=o>>6&63|128;else{if(0!==(4292870144&o))continue;a[n++]=o>>18&7|240,a[n++]=o>>12&63|128,a[n++]=o>>6&63|128}a[n++]=63&o|128}else a[n++]=o}return a.slice(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var e=new Uint8Array(t),r=0,n=e.length,i=[];r<n;){var a=e[r++];if(0===a)break;if(0===(128&a))i.push(a);else if(192===(224&a)){var o=63&e[r++];i.push((31&a)<<6|o)}else if(224===(240&a)){var s=63&e[r++],u=63&e[r++];i.push((31&a)<<12|s<<6|u)}else if(240===(248&a)){var l=(7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l)}}return String.fromCharCode.apply(null,i)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},function(t,e,r){(function(e){function r(t){Math.round;var r,n,i,a,o,s=Math.floor,u=new Array(64),l=new Array(64),h=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),m=new Array(64),g=[],v=0,y=7,w=new Array(64),b=new Array(64),k=new Array(64),_=new Array(256),x=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],I=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function T(t,e){for(var r=0,n=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=t[a];o++)i[e[n]]=[],i[e[n]][0]=r,i[e[n]][1]=a,n++,r++;r*=2}return i}function R(t){for(var e=t[0],r=t[1]-1;r>=0;)e&1<<r&&(v|=1<<y),r--,--y<0&&(255==v?(U(255),U(0)):U(v),y=7,v=0)}function U(t){g.push(t)}function j(t){U(t>>8&255),U(255&t)}function L(t,e,r,n,i){for(var a,o=i[0],s=i[240],u=function(t,e){var r,n,i,a,o,s,u,l,h,c,f=0;for(h=0;h<8;++h){r=t[f],n=t[f+1],i=t[f+2],a=t[f+3],o=t[f+4],s=t[f+5],u=t[f+6];var d=r+(l=t[f+7]),m=r-l,g=n+u,v=n-u,y=i+s,w=i-s,b=a+o,k=a-o,_=d+b,x=d-b,M=g+y,E=g-y;t[f]=_+M,t[f+4]=_-M;var S=.707106781*(E+x);t[f+2]=x+S,t[f+6]=x-S;var A=.382683433*((_=k+w)-(E=v+m)),P=.5411961*_+A,C=1.306562965*E+A,O=.707106781*(M=w+v),D=m+O,I=m-O;t[f+5]=I+P,t[f+3]=I-P,t[f+1]=D+C,t[f+7]=D-C,f+=8}for(f=0,h=0;h<8;++h){r=t[f],n=t[f+8],i=t[f+16],a=t[f+24],o=t[f+32],s=t[f+40],u=t[f+48];var T=r+(l=t[f+56]),R=r-l,U=n+u,j=n-u,L=i+s,B=i-s,N=a+o,F=a-o,z=T+N,V=T-N,Y=U+L,X=U-L;t[f]=z+Y,t[f+32]=z-Y;var q=.707106781*(X+V);t[f+16]=V+q,t[f+48]=V-q;var H=.382683433*((z=F+B)-(X=j+R)),G=.5411961*z+H,W=1.306562965*X+H,K=.707106781*(Y=B+j),Z=R+K,Q=R-K;t[f+40]=Q+G,t[f+24]=Q-G,t[f+8]=Z+W,t[f+56]=Z-W,f++}for(h=0;h<64;++h)c=t[h]*e[h],p[h]=c>0?c+.5|0:c-.5|0;return p}(t,e),l=0;l<64;++l)m[M[l]]=u[l];var h=m[0]-r;r=m[0],0==h?R(n[0]):(R(n[d[a=32767+h]]),R(f[a]));for(var c=63;c>0&&0==m[c];c--);if(0==c)return R(o),r;for(var g,v=1;v<=c;){for(var y=v;0==m[v]&&v<=c;++v);var w=v-y;if(w>=16){g=w>>4;for(var b=1;b<=g;++b)R(s);w&=15}a=32767+m[v],R(i[(w<<4)+d[a]]),R(f[a]),v++}return 63!=c&&R(o),r}function B(t){if(t<=0&&(t=1),t>100&&(t=100),o!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((e[r]*t+50)/100);n<1?n=1:n>255&&(n=255),u[M[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var o=s((i[a]*t+50)/100);o<1?o=1:o>255&&(o=255),l[M[a]]=o}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var m=0;m<8;m++)h[d]=1/(u[M[d]]*f[p]*f[m]*8),c[d]=1/(l[M[d]]*f[p]*f[m]*8),d++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t}}this.encode=function(t,o){(new Date).getTime();o&&B(o),g=new Array,v=0,y=7,j(65496),j(65504),j(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),j(1),j(1),U(0),U(0),function(t){if(t){j(65505),69===t[0]&&120===t[1]&&105===t[2]&&102===t[3]?j(t.length+2):(j(t.length+5+2),U(69),U(120),U(105),U(102),U(0));for(var e=0;e<t.length;e++)U(t[e])}}(t.exifBuffer),function(){j(65499),j(132),U(0);for(var t=0;t<64;t++)U(u[t]);U(1);for(var e=0;e<64;e++)U(l[e])}(),function(t,e){j(65472),j(17),U(8),j(e),j(t),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(t.width,t.height),function(){j(65476),j(418),U(0);for(var t=0;t<16;t++)U(E[t+1]);for(var e=0;e<=11;e++)U(S[e]);U(16);for(var r=0;r<16;r++)U(A[r+1]);for(var n=0;n<=161;n++)U(P[n]);U(1);for(var i=0;i<16;i++)U(C[i+1]);for(var a=0;a<=11;a++)U(O[a]);U(17);for(var o=0;o<16;o++)U(D[o+1]);for(var s=0;s<=161;s++)U(I[s])}(),j(65498),j(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var s=0,f=0,d=0;v=0,y=7,this.encode.displayName="_encode_";for(var p,m,_,M,T,N,F,z,V,Y=t.data,X=t.width,q=t.height,H=4*X,G=0;G<q;){for(p=0;p<H;){for(N=T=H*G+p,F=-1,z=0,V=0;V<64;V++)N=T+(z=V>>3)*H+(F=4*(7&V)),G+z>=q&&(N-=H*(G+1+z-q)),p+F>=H&&(N-=p+F-H+4),m=Y[N++],_=Y[N++],M=Y[N++],w[V]=(x[m]+x[_+256>>0]+x[M+512>>0]>>16)-128,b[V]=(x[m+768>>0]+x[_+1024>>0]+x[M+1280>>0]>>16)-128,k[V]=(x[m+1280>>0]+x[_+1536>>0]+x[M+1792>>0]>>16)-128;s=L(w,h,s,r,i),f=L(b,c,f,n,a),d=L(k,c,d,n,a),p+=32}G+=8}if(y>=0){var W=[];W[1]=y+1,W[0]=(1<<y+1)-1,R(W)}return j(65497),e.from(g)},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)_[e]=t(e)}(),r=T(E,S),n=T(C,O),i=T(A,P),a=T(D,I),function(){for(var t=1,e=2,r=1;r<=15;r++){for(var n=t;n<e;n++)d[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(e-1);i<=-t;i++)d[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),B(t),(new Date).getTime()}()}t.exports=function(t,e){"undefined"===typeof e&&(e=50);return{data:new r(e).encode(t,e),width:t.width,height:t.height}}}).call(this,r(27).Buffer)},function(t,e,r){(function(e){var n=r(91),i=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,n=3406,i=2276,a=1567,o=3784,s=5793,u=2896;function l(){}function h(t,e){for(var r,n,i=0,a=[],o=16;o>0&&!t[o-1];)o--;a.push({children:[],index:0});var s,u=a[0];for(r=0;r<o;r++){for(n=0;n<t[r];n++){for((u=a.pop()).children[u.index]=e[i];u.index>0;){if(0===a.length)throw new Error("Could not recreate Huffman Table");u=a.pop()}for(u.index++,a.push(u);a.length<=r;)a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;i++}r+1<o&&(a.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return a[0].children}function c(e,r,n,i,a,o,s,u,l,h){n.precision,n.samplesPerLine,n.scanLines;var c=n.mcusPerLine,f=n.progressive,d=(n.maxH,n.maxV,r),p=0,m=0;function g(){if(m>0)return p>>--m&1;if(255==(p=e[r++])){var t=e[r++];if(t)throw new Error("unexpected marker: "+(p<<8|t).toString(16))}return m=7,p>>>7}function v(t){for(var e,r=t;null!==(e=g());){if("number"===typeof(r=r[e]))return r;if("object"!==typeof r)throw new Error("invalid huffman sequence")}return null}function y(t){for(var e=0;t>0;){var r=g();if(null===r)return;e=e<<1|r,t--}return e}function w(t){var e=y(t);return e>=1<<t-1?e:e+(-1<<t)+1}var b=0;var k,_=0;function x(t,e,r,n,i){var a=r%c,o=(r/c|0)*t.v+n,s=a*t.h+i;void 0===t.blocks[o]&&h.tolerantDecoding||e(t,t.blocks[o][s])}function M(t,e,r){var n=r/t.blocksPerLine|0,i=r%t.blocksPerLine;void 0===t.blocks[n]&&h.tolerantDecoding||e(t,t.blocks[n][i])}var E,S,A,P,C,O,D=i.length;O=f?0===o?0===u?function(t,e){var r=v(t.huffmanTableDC),n=0===r?0:w(r)<<l;e[0]=t.pred+=n}:function(t,e){e[0]|=g()<<l}:0===u?function(e,r){if(b>0)b--;else for(var n=o,i=s;n<=i;){var a=v(e.huffmanTableAC),u=15&a,h=a>>4;if(0!==u)r[t[n+=h]]=w(u)*(1<<l),n++;else{if(h<15){b=y(h)+(1<<h)-1;break}n+=16}}}:function(e,r){for(var n=o,i=s,a=0;n<=i;){var u=t[n],h=r[u]<0?-1:1;switch(_){case 0:var c=v(e.huffmanTableAC),f=15&c;if(a=c>>4,0===f)a<15?(b=y(a)+(1<<a),_=4):(a=16,_=1);else{if(1!==f)throw new Error("invalid ACn encoding");k=w(f),_=a?2:3}continue;case 1:case 2:r[u]?r[u]+=(g()<<l)*h:0===--a&&(_=2==_?3:0);break;case 3:r[u]?r[u]+=(g()<<l)*h:(r[u]=k<<l,_=0);break;case 4:r[u]&&(r[u]+=(g()<<l)*h)}n++}4===_&&0===--b&&(_=0)}:function(e,r){var n=v(e.huffmanTableDC),i=0===n?0:w(n);r[0]=e.pred+=i;for(var a=1;a<64;){var o=v(e.huffmanTableAC),s=15&o,u=o>>4;if(0!==s)r[t[a+=u]]=w(s),a++;else{if(u<15)break;a+=16}}};var I,T,R,U,j=0;for(T=1==D?i[0].blocksPerLine*i[0].blocksPerColumn:c*n.mcusPerColumn,a||(a=T);j<T;){for(S=0;S<D;S++)i[S].pred=0;if(b=0,1==D)for(E=i[0],C=0;C<a;C++)M(E,O,j),j++;else for(C=0;C<a;C++){for(S=0;S<D;S++)for(R=(E=i[S]).h,U=E.v,A=0;A<U;A++)for(P=0;P<R;P++)x(E,O,j,A,P);if(++j===T)break}if(j===T)do{if(255===e[r]&&0!==e[r+1])break;r+=1}while(r<e.length-2);if(m=0,(I=e[r]<<8|e[r+1])<65280)throw new Error("marker was not found");if(!(I>=65488&&I<=65495))break;r+=2}return r-d}function f(t,l){var h,c,f=[],d=l.blocksPerLine,p=l.blocksPerColumn,m=d<<3,v=new Int32Array(64),y=new Uint8Array(64);function w(t,h,c){var f,d,p,m,g,v,y,w,b,k,_=l.quantizationTable,x=c;for(k=0;k<64;k++)x[k]=t[k]*_[k];for(k=0;k<8;++k){var M=8*k;0!=x[1+M]||0!=x[2+M]||0!=x[3+M]||0!=x[4+M]||0!=x[5+M]||0!=x[6+M]||0!=x[7+M]?(f=s*x[0+M]+128>>8,d=s*x[4+M]+128>>8,p=x[2+M],m=x[6+M],g=u*(x[1+M]-x[7+M])+128>>8,w=u*(x[1+M]+x[7+M])+128>>8,v=x[3+M]<<4,y=x[5+M]<<4,b=f-d+1>>1,f=f+d+1>>1,d=b,b=p*o+m*a+128>>8,p=p*a-m*o+128>>8,m=b,b=g-y+1>>1,g=g+y+1>>1,y=b,b=w+v+1>>1,v=w-v+1>>1,w=b,b=f-m+1>>1,f=f+m+1>>1,m=b,b=d-p+1>>1,d=d+p+1>>1,p=b,b=g*i+w*n+2048>>12,g=g*n-w*i+2048>>12,w=b,b=v*r+y*e+2048>>12,v=v*e-y*r+2048>>12,y=b,x[0+M]=f+w,x[7+M]=f-w,x[1+M]=d+y,x[6+M]=d-y,x[2+M]=p+v,x[5+M]=p-v,x[3+M]=m+g,x[4+M]=m-g):(b=s*x[0+M]+512>>10,x[0+M]=b,x[1+M]=b,x[2+M]=b,x[3+M]=b,x[4+M]=b,x[5+M]=b,x[6+M]=b,x[7+M]=b)}for(k=0;k<8;++k){var E=k;0!=x[8+E]||0!=x[16+E]||0!=x[24+E]||0!=x[32+E]||0!=x[40+E]||0!=x[48+E]||0!=x[56+E]?(f=s*x[0+E]+2048>>12,d=s*x[32+E]+2048>>12,p=x[16+E],m=x[48+E],g=u*(x[8+E]-x[56+E])+2048>>12,w=u*(x[8+E]+x[56+E])+2048>>12,v=x[24+E],y=x[40+E],b=f-d+1>>1,f=f+d+1>>1,d=b,b=p*o+m*a+2048>>12,p=p*a-m*o+2048>>12,m=b,b=g-y+1>>1,g=g+y+1>>1,y=b,b=w+v+1>>1,v=w-v+1>>1,w=b,b=f-m+1>>1,f=f+m+1>>1,m=b,b=d-p+1>>1,d=d+p+1>>1,p=b,b=g*i+w*n+2048>>12,g=g*n-w*i+2048>>12,w=b,b=v*r+y*e+2048>>12,v=v*e-y*r+2048>>12,y=b,x[0+E]=f+w,x[56+E]=f-w,x[8+E]=d+y,x[48+E]=d-y,x[16+E]=p+v,x[40+E]=p-v,x[24+E]=m+g,x[32+E]=m-g):(b=s*c[k+0]+8192>>14,x[0+E]=b,x[8+E]=b,x[16+E]=b,x[24+E]=b,x[32+E]=b,x[40+E]=b,x[48+E]=b,x[56+E]=b)}for(k=0;k<64;++k){var S=128+(x[k]+8>>4);h[k]=S<0?0:S>255?255:S}}g(m*p*8);for(var b=0;b<p;b++){var k=b<<3;for(h=0;h<8;h++)f.push(new Uint8Array(m));for(var _=0;_<d;_++){w(l.blocks[b][_],y,v);var x=0,M=_<<3;for(c=0;c<8;c++){var E=f[k+c];for(h=0;h<8;h++)E[M+h]=y[x++]}}}return f}function d(t){return t<0?0:t>255?255:t}l.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;e.length;function i(){var t=e[n]<<8|e[n+1];return n+=2,t}function a(){var t=i(),r=e.subarray(n,n+t-2);return n+=r.length,r}function o(t){var e,r,n=0,i=0;for(r in t.components)t.components.hasOwnProperty(r)&&(n<(e=t.components[r]).h&&(n=e.h),i<e.v&&(i=e.v));var a=Math.ceil(t.samplesPerLine/8/n),o=Math.ceil(t.scanLines/8/i);for(r in t.components)if(t.components.hasOwnProperty(r)){e=t.components[r];var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/n),u=Math.ceil(Math.ceil(t.scanLines/8)*e.v/i),l=a*e.h,h=o*e.v,c=[];g(256*(h*l));for(var f=0;f<h;f++){for(var d=[],p=0;p<l;p++)d.push(new Int32Array(64));c.push(d)}e.blocksPerLine=s,e.blocksPerColumn=u,e.blocks=c}t.maxH=n,t.maxV=i,t.mcusPerLine=a,t.mcusPerColumn=o}var s,u,l=null,d=null,p=[],m=[],v=[],y=[],w=i(),b=-1;if(this.comments=[],65496!=w)throw new Error("SOI not found");for(w=i();65497!=w;){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var k=a();if(65534===w){var _=String.fromCharCode.apply(null,k);this.comments.push(_)}65504===w&&74===k[0]&&70===k[1]&&73===k[2]&&70===k[3]&&0===k[4]&&(l={version:{major:k[5],minor:k[6]},densityUnits:k[7],xDensity:k[8]<<8|k[9],yDensity:k[10]<<8|k[11],thumbWidth:k[12],thumbHeight:k[13],thumbData:k.subarray(14,14+3*k[12]*k[13])}),65505===w&&69===k[0]&&120===k[1]&&105===k[2]&&102===k[3]&&0===k[4]&&(this.exifBuffer=k.subarray(5,k.length)),65518===w&&65===k[0]&&100===k[1]&&111===k[2]&&98===k[3]&&101===k[4]&&0===k[5]&&(d={version:k[6],flags0:k[7]<<8|k[8],flags1:k[9]<<8|k[10],transformCode:k[11]});break;case 65499:for(var x=i()+n-2;n<x;){var M=e[n++];g(256);var E=new Int32Array(64);if(M>>4===0)for(W=0;W<64;W++){E[t[W]]=e[n++]}else{if(M>>4!==1)throw new Error("DQT: invalid table spec");for(W=0;W<64;W++){E[t[W]]=i()}}p[15&M]=E}break;case 65472:case 65473:case 65474:i(),(s={}).extended=65473===w,s.progressive=65474===w,s.precision=e[n++],s.scanLines=i(),s.samplesPerLine=i(),s.components={},s.componentsOrder=[];var S=s.scanLines*s.samplesPerLine;if(S>r){var A=Math.ceil((S-r)/1e6);throw new Error("maxResolutionInMP limit exceeded by ".concat(A,"MP"))}var P,C=e[n++];for(H=0;H<C;H++){P=e[n];var O=e[n+1]>>4,D=15&e[n+1],I=e[n+2];s.componentsOrder.push(P),s.components[P]={h:O,v:D,quantizationIdx:I},n+=3}o(s),m.push(s);break;case 65476:var T=i();for(H=2;H<T;){var R=e[n++],U=new Uint8Array(16),j=0;for(W=0;W<16;W++,n++)j+=U[W]=e[n];g(16+j);var L=new Uint8Array(j);for(W=0;W<j;W++,n++)L[W]=e[n];H+=17+j,(R>>4===0?y:v)[15&R]=h(U,L)}break;case 65501:i(),u=i();break;case 65500:i(),i();break;case 65498:i();var B=e[n++],N=[];for(H=0;H<B;H++){K=s.components[e[n++]];var F=e[n++];K.huffmanTableDC=y[F>>4],K.huffmanTableAC=v[15&F],N.push(K)}var z=e[n++],V=e[n++],Y=e[n++],X=c(e,n,s,N,u,z,V,Y>>4,15&Y,this.opts);n+=X;break;case 65535:255!==e[n]&&n--;break;default:if(255==e[n-3]&&e[n-2]>=192&&e[n-2]<=254){n-=3;break}if(224===w||225==w){if(-1!==b)throw new Error("first unknown JPEG marker at offset ".concat(b.toString(16),", second unknown JPEG marker ").concat(w.toString(16)," at offset ").concat((n-1).toString(16)));b=n-1;var q=i();if(255===e[n+q-2]){n+=q-2;break}}throw new Error("unknown JPEG marker "+w.toString(16))}w=i()}if(1!=m.length)throw new Error("only single frame JPEGs supported");for(var H=0;H<m.length;H++){var G=m[H].components;for(var W in G)G[W].quantizationTable=p[G[W].quantizationIdx],delete G[W].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=l,this.adobe=d,this.components=[];for(H=0;H<s.componentsOrder.length;H++){var K=s.components[s.componentsOrder[H]];this.components.push({lines:f(0,K),scaleX:K.h/s.maxH,scaleY:K.v/s.maxV})}},getData:function(t,e){var r,n,i,a,o,s,u,l,h,c,f,p,m,v,y,w,b,k,_,x,M,E=this.width/t,S=this.height/e,A=0,P=t*e*this.components.length;g(P);var C=new Uint8Array(P);switch(this.components.length){case 1:for(r=this.components[0],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*S],h=0;h<t;h++)f=o[0|h*r.scaleX*E],C[A++]=f;break;case 2:for(r=this.components[0],n=this.components[1],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*S],s=n.lines[0|c*n.scaleY*S],h=0;h<t;h++)f=o[0|h*r.scaleX*E],C[A++]=f,f=s[0|h*n.scaleX*E],C[A++]=f;break;case 3:for(M=!0,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*S],s=n.lines[0|c*n.scaleY*S],u=i.lines[0|c*i.scaleY*S],h=0;h<t;h++)M?(f=o[0|h*r.scaleX*E],p=s[0|h*n.scaleX*E],k=d(f+1.402*((m=u[0|h*i.scaleX*E])-128)),_=d(f-.3441363*(p-128)-.71413636*(m-128)),x=d(f+1.772*(p-128))):(k=o[0|h*r.scaleX*E],_=s[0|h*n.scaleX*E],x=u[0|h*i.scaleX*E]),C[A++]=k,C[A++]=_,C[A++]=x;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(M=!1,this.adobe&&this.adobe.transformCode?M=!0:"undefined"!==typeof this.opts.colorTransform&&(M=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],a=this.components[3],c=0;c<e;c++)for(o=r.lines[0|c*r.scaleY*S],s=n.lines[0|c*n.scaleY*S],u=i.lines[0|c*i.scaleY*S],l=a.lines[0|c*a.scaleY*S],h=0;h<t;h++)M?(f=o[0|h*r.scaleX*E],p=s[0|h*n.scaleX*E],m=u[0|h*i.scaleX*E],v=l[0|h*a.scaleX*E],y=255-d(f+1.402*(m-128)),w=255-d(f-.3441363*(p-128)-.71413636*(m-128)),b=255-d(f+1.772*(p-128))):(y=o[0|h*r.scaleX*E],w=s[0|h*n.scaleX*E],b=u[0|h*i.scaleX*E],v=l[0|h*a.scaleX*E]),C[A++]=255-y,C[A++]=255-w,C[A++]=255-b,C[A++]=255-v;break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function(t,e){var r,n,i,a,o,s,u,l,h,c=t.width,f=t.height,p=t.data,m=this.getData(c,f),g=0,v=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<c;r++)i=m[g++],p[v++]=i,p[v++]=i,p[v++]=i,e&&(p[v++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<c;r++)u=m[g++],l=m[g++],h=m[g++],p[v++]=u,p[v++]=l,p[v++]=h,e&&(p[v++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<c;r++)o=m[g++],s=m[g++],i=m[g++],u=255-d(o*(1-(a=m[g++])/255)+a),l=255-d(s*(1-a/255)+a),h=255-d(i*(1-a/255)+a),p[v++]=u,p[v++]=l,p[v++]=h,e&&(p[v++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,m=0;function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=p+t;if(e>m){var r=Math.ceil((e-m)/1024/1024);throw new Error("maxMemoryUsageInMB limit exceeded by at least ".concat(r,"MB"))}p=e}return l.resetMaxMemoryUsage=function(t){p=0,m=t},l.getBytesAllocated=function(){return p},l.requestMemoryAllocation=g,l}();t.exports=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},o=n(n({},a),r),s=new Uint8Array(t),u=new i;u.opts=o,i.resetMaxMemoryUsage(1024*o.maxMemoryUsageInMB*1024),u.parse(s);var l=o.formatAsRGBA?4:3,h=u.width*u.height*l;try{i.requestMemoryAllocation(h);var c={width:u.width,height:u.height,exifBuffer:u.exifBuffer,data:o.useTArray?new Uint8Array(h):e.alloc(h)};u.comments.length>0&&(c.comments=u.comments)}catch(f){throw f instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+h):f}return u.copyToImageData(c,o.formatAsRGBA),c}}).call(this,r(27).Buffer)},function(t,e,r){var n=r(92);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){n(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t){t.exports={name:"has-own",version:"1.0.1",description:"A safer .hasOwnProperty() - hasOwn(name, obj)",main:"index.js",scripts:{test:"make test"},author:"Aaron Heckmann <aaron.heckmann+github@gmail.com>",license:"MIT",repository:{type:"git",url:"git://github.com/aheckmann/has-own.git"},homepage:"https://github.com/aheckmann/has-own/",devDependencies:{mocha:"^6.2.2"}}},function(t,e,r){"use strict";var n=r(45),i=r(95);t.exports=function(t){var e=new n(t),r={};if(e.setBigEndian(),65496!==e.readUint16())throw new Error("SOI marker not found. Not a valid JPEG file");if(65505===e.readUint16()){e.readUint16();var a=e.readBytes(6);if(69===a[0]&&120===a[1]&&105===a[2]&&102===a[3]&&0===a[4]&&0===a[5]){var o=i.decode(e,{onlyFirst:!0,ignoreImageData:!0,offset:e.offset});r.exif=o}}return r}},function(t,e,r){"use strict";e.decode=r(96)},function(t,e,r){"use strict";var n=r(97);t.exports=function(t,e){return new n(t,e).decode(e)}},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(46),o=r(47),s=r(45),u=r(48),l=r(107),h=r(108),c={ignoreImageData:!1,onlyFirst:!1},f=function(t){a(r,s);var e=o(r);function r(t,i){var a;return n(this,r),(a=e.call(this,t,i))._nextIFD=0,a}return i(r,[{key:"decode",value:function(t){t=Object.assign({},c,t);var e=[];for(this.decodeHeader();this._nextIFD;)if(e.push(this.decodeIFD(t)),t.onlyFirst)return e[0];return e}},{key:"decodeHeader",value:function(){var t=this.readUint16();if(18761===t)this.setLittleEndian();else{if(19789!==t)throw new Error("invalid byte order: 0x"+t.toString(16));this.setBigEndian()}if(42!==(t=this.readUint16()))throw new Error("not a TIFF file");this._nextIFD=this.readUint32()}},{key:"decodeIFD",value:function(t){var e;this.seek(this._nextIFD),e=t.kind?new u(t.kind):new l;for(var r=this.readUint16(),n=0;n<r;n++)this.decodeIFDEntry(e);return t.ignoreImageData||this.decodeImageData(e),this._nextIFD=this.readUint32(),e}},{key:"decodeIFDEntry",value:function(t){var e=this.offset,r=this.readUint16(),n=this.readUint16(),i=this.readUint32();if(n<1||n>12)this.skip(4);else{h.getByteLength(n,i)>4&&this.seek(this.readUint32());var a=h.readData(this,n,i);if(t.fields.set(r,a),34665===r||34853===r){var o,s=this.offset;34665===r?o="exif":34853===r&&(o="gps"),this._nextIFD=a,t[o]=this.decodeIFD({kind:o,ignoreImageData:!0}),this.offset=s}this.seek(e),this.skip(12)}}},{key:"decodeImageData",value:function(t){var e=t.orientation;switch(e&&1!==e&&g("orientation",e),t.type){case 1:case 2:this.readStripData(t);break;default:g("image type",t.type)}}},{key:"readStripData",value:function(t){for(var e=t.width,r=t.height,n=function(t){if(t.length){var e=t;t=e[0];for(var r=0;r<e.length;r++)e[r]!==t&&g("bit depth",e)}return t}(t.bitsPerSample),i=t.sampleFormat,a=e*r,o=function(t,e,r,n){return 8===r?new Uint8Array(t*e):16===r?new Uint16Array(t*e):32===r&&3===n?new Float32Array(t*e):g("bit depth / sample format",r+" / "+n)}(a,1,n,i),s=t.compression,u=t.rowsPerStrip*e,l=t.stripOffsets,h=t.stripByteCounts,c=0,f=0;f<l.length;f++){var v=this.getStripData(s,l[f],h[f]),y=a>u?u:a;a-=y,8===n?c=d(o,v,c,y):16===n?c=p(o,v,c,y,this.isLittleEndian()):32===n&&3===i?c=m(o,v,c,y,this.isLittleEndian()):g("bitDepth",n)}t.data=o}},{key:"getStripData",value:function(t,e,r){switch(t){case 1:return new DataView(this.buffer,e,r);case 2:case 32773:return g("Compression",t);default:throw new Error("invalid compression: "+t)}}}]),r}();function d(t,e,r,n){for(var i=0;i<n;i++)t[r++]=e.getUint8(i);return r}function p(t,e,r,n,i){for(var a=0;a<2*n;a+=2)t[r++]=e.getUint16(a,i);return r}function m(t,e,r,n,i){for(var a=0;a<4*n;a+=4)t[r++]=e.getFloat32(a,i);return r}function g(t,e){throw new Error("Unsupported "+t+": "+e)}t.exports=f},function(t,e){function r(e,n){return t.exports=r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(e,n)}t.exports=r},function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(e)}t.exports=r},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}},function(t,e,r){var n=r(102),i=r(103);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?i(t):e}},function(t,e){function r(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,r){"use strict";var n={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Threshholding",264:"CellWidth",265:"CellLength",266:"FillOrder",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",296:"ResolutionUnit",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",320:"ColorMap",338:"ExtraSamples",33432:"Copyright",269:"DocumentName",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",293:"T6Options",297:"PageNumber",301:"TransferFunction",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFDs",332:"InkSet",333:"InkNames",334:"NumberOfInks",336:"DotRange",337:"TargetPrinter",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"XMP",32781:"ImageID",34732:"ImageLayer",32932:"WangAnnotatio",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"ModelPixelScaleTag",33723:"IPTC",33918:"INGRPacketDataTag",33919:"INGRFlagRegisters",33920:"IrasBTransformationMatrix",33922:"ModelTiepointTag",34264:"ModelTransformationTag",34377:"Photoshop",34665:"ExifIFD",34675:"ICCProfile",34735:"GeoKeyDirectoryTag",34736:"GeoDoubleParamsTag",34737:"GeoAsciiParamsTag",34853:"GPSIFD",34908:"HylaFAXFaxRecvParams",34909:"HylaFAXFaxSubAddress",34910:"HylaFAXFaxRecvTime",37724:"ImageSourceData",40965:"InteroperabilityIFD",42112:"GDAL_METADATA",42113:"GDAL_NODATA",50215:"OceScanjobDescription",50216:"OceApplicationSelector",50217:"OceIdentificationNumber",50218:"OceImageLogicCharacteristics",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50784:"AliasLayerMetadata"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},function(t,e,r){"use strict";var n={33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37396:"SubjectArea",37500:"MakerNote",37510:"UserComment",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42240:"Gamma"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},function(t,e,r){"use strict";var n={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},i={};for(var a in n)i[n[a]]=a;t.exports={tagsById:n,tagsByName:i}},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(46),o=r(47),s=r(48),u=/^(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})$/,l=function(t){a(r,s);var e=o(r);function r(){return n(this,r),e.call(this,"standard")}return i(r,[{key:"size",get:function(){return this.width*this.height}},{key:"width",get:function(){return this.imageWidth}},{key:"height",get:function(){return this.imageLength}},{key:"components",get:function(){return this.samplesPerPixel}},{key:"date",get:function(){var t=new Date,e=u.exec(this.dateTime);return t.setFullYear(e[1],e[2]-1,e[3]),t.setHours(e[4],e[5],e[6]),t}},{key:"newSubfileType",get:function(){return this.get(254)}},{key:"imageWidth",get:function(){return this.get(256)}},{key:"imageLength",get:function(){return this.get(257)}},{key:"bitsPerSample",get:function(){return this.get(258)}},{key:"compression",get:function(){return this.get(259)||1}},{key:"type",get:function(){return this.get(262)}},{key:"fillOrder",get:function(){return this.get(266)||1}},{key:"documentName",get:function(){return this.get(269)}},{key:"imageDescription",get:function(){return this.get(270)}},{key:"stripOffsets",get:function(){return h(this.get(273))}},{key:"orientation",get:function(){return this.get(274)}},{key:"samplesPerPixel",get:function(){return this.get(277)}},{key:"rowsPerStrip",get:function(){return this.get(278)}},{key:"stripByteCounts",get:function(){return h(this.get(279))}},{key:"minSampleValue",get:function(){return this.get(280)||0}},{key:"maxSampleValue",get:function(){return this.get(281)||Math.pow(2,this.bitsPerSample)-1}},{key:"xResolution",get:function(){return this.get(282)}},{key:"yResolution",get:function(){return this.get(283)}},{key:"planarConfiguration",get:function(){return this.get(284)||1}},{key:"resolutionUnit",get:function(){return this.get(296)||2}},{key:"dateTime",get:function(){return this.get(306)}},{key:"predictor",get:function(){return this.get(317)||1}},{key:"sampleFormat",get:function(){return this.get(339)||1}},{key:"sMinSampleValue",get:function(){return this.get(340)||this.minSampleValue}},{key:"sMaxSampleValue",get:function(){return this.get(341)||this.maxSampleValue}}]),r}();function h(t){return"number"===typeof t?[t]:t}t.exports=l},function(t,e,r){"use strict";var n=new Map([[1,[1,i]],[2,[1,function(t,e){for(var r=[],n="",i=0;i<e;i++){var a=String.fromCharCode(t.readUint8());"\0"===a?(r.push(n),n=""):n+=a}return 1===r.length?r[0]:r}]],[3,[2,function(t,e){if(1===e)return t.readUint16();for(var r=new Uint16Array(e),n=0;n<e;n++)r[n]=t.readUint16();return r}]],[4,[4,function(t,e){if(1===e)return t.readUint32();for(var r=new Uint32Array(e),n=0;n<e;n++)r[n]=t.readUint32();return r}]],[5,[8,function(t,e){if(1===e)return t.readUint32()/t.readUint32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readUint32()/t.readUint32();return r}]],[6,[1,function(t,e){if(1===e)return t.readInt8();for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r}]],[7,[1,i]],[8,[2,function(t,e){if(1===e)return t.readInt16();for(var r=new Int16Array(e),n=0;n<e;n++)r[n]=t.readInt16();return r}]],[9,[4,function(t,e){if(1===e)return t.readInt32();for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=t.readInt32();return r}]],[10,[8,function(t,e){if(1===e)return t.readInt32()/t.readInt32();for(var r=new Array(e),n=0;n<e;n++)r[n]=t.readInt32()/t.readInt32();return r}]],[11,[4,function(t,e){if(1===e)return t.readFloat32();for(var r=new Float32Array(e),n=0;n<e;n++)r[n]=t.readFloat32();return r}]],[12,[8,function(t,e){if(1===e)return t.readFloat64();for(var r=new Float64Array(e),n=0;n<e;n++)r[n]=t.readFloat64();return r}]]]);function i(t,e){if(1===e)return t.readUint8();for(var r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.readUint8();return r}e.getByteLength=function(t,e){return n.get(t)[0]*e},e.readData=function(t,e,r){return n.get(e)[1](t,r)}},function(module,exports,__webpack_require__){"use strict";(function(Buffer){var _toConsumableArray=__webpack_require__(110),toBytes=function(t){return _toConsumableArray(t).map(function(t){return t.charCodeAt(0)})},xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[e],n=1,i=0;++i<8;)n*=256,r+=t[e+i]*n;return r}var fileType=function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Buffer.isBuffer(t)))throw new TypeError("Expected the `input` argument to be of type `Uint8Array` or `Buffer` or `ArrayBuffer`, got `".concat(typeof t,"`"));var e=t instanceof Uint8Array?t:new Uint8Array(t);if(!(e&&e.length>1))return null;var r=function(t,r){r=Object.assign({offset:0},r);for(var n=0;n<t.length;n++)if(r.mask){if(t[n]!==(r.mask[n]&e[n+r.offset]))return!1}else if(t[n]!==e[n+r.offset])return!1;return!0},n=function(t,e){return r(toBytes(t),e)};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.findIndex(function(t,r,n){return r>=e&&80===n[r]&&75===n[r+1]&&3===n[r+2]&&4===n[r+3]})},a=0,o=!1,s=null;do{var u=a+30;if(o||(o=r(oxmlContentTypes,{offset:u})||r(oxmlRels,{offset:u})),s||(n("word/",{offset:u})?s={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:u})?s={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:u})&&(s={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&s)return s;a=i(e,u)}while(a>=0);if(s)return s}if(r([80,75])&&(3===e[2]||5===e[2]||7===e[2])&&(4===e[3]||6===e[3]||8===e[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===e[6]||1===e[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){var l=e.subarray(4,4100),h=l.findIndex(function(t,e,r){return 66===r[e]&&130===r[e+1]});if(-1!==h){var c=h+3,f=function(t){return _toConsumableArray(t).every(function(t,e){return l[c+e]===t.charCodeAt(0)})};if(f("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(f("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){var d=30;do{var p=readUInt64LE(e,d+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:d})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:d+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:d+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}d+=p}while(d+24<=e.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var m=0;m<2&&m<e.length-16;m++){if(r([73,68,51],{offset:m})||r([255,226],{offset:m,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:m,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:m,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:m,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===e[0]||70===e[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=function(readableStream){return new Promise(function(resolve,reject){var stream=eval("require")("stream");readableStream.once("readable",function(){var t=new stream.PassThrough,e=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{t.fileType=fileType(e)}catch(r){reject(r)}readableStream.unshift(e),stream.pipeline?resolve(stream.pipeline(readableStream,t,function(){})):resolve(readableStream.pipe(t))})})}}).call(this,__webpack_require__(27).Buffer)},function(t,e,r){var n=r(111),i=r(112),a=r(50),o=r(113);t.exports=function(t){return n(t)||i(t)||a(t)||o()}},function(t,e,r){var n=r(51);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){"use strict";!function(t){if(t.TextEncoder&&t.TextDecoder)return!1;function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8";if("utf-8"!==t)throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('".concat(t,"') is invalid."))}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf-8",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fatal:!1};if("utf-8"!==t)throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('".concat(t,"') is invalid."));if(e.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");for(var e=0,r=t.length,n=0,i=Math.max(32,r+(r>>1)+7),a=new Uint8Array(i>>3<<3);e<r;){var o=t.charCodeAt(e++);if(o>=55296&&o<=56319){if(e<r){var s=t.charCodeAt(e);56320===(64512&s)&&(++e,o=((1023&o)<<10)+(1023&s)+65536)}if(o>=55296&&o<=56319)continue}if(n+4>a.length){i+=8,i=(i*=1+e/t.length*2)>>3<<3;var u=new Uint8Array(i);u.set(a),a=u}if(0!==(4294967168&o)){if(0===(4294965248&o))a[n++]=o>>6&31|192;else if(0===(4294901760&o))a[n++]=o>>12&15|224,a[n++]=o>>6&63|128;else{if(0!==(4292870144&o))continue;a[n++]=o>>18&7|240,a[n++]=o>>12&63|128,a[n++]=o>>6&63|128}a[n++]=63&o|128}else a[n++]=o}return a.slice(0,n)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1}),r.prototype.decode=function(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stream:!1}).stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");for(var e=new Uint8Array(t),r=0,n=e.length,i=[];r<n;){var a=e[r++];if(0===a)break;if(0===(128&a))i.push(a);else if(192===(224&a)){var o=63&e[r++];i.push((31&a)<<6|o)}else if(224===(240&a)){var s=63&e[r++],u=63&e[r++];i.push((31&a)<<12|s<<6|u)}else if(240===(248&a)){var l=(7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l)}}return String.fromCharCode.apply(null,i)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!==typeof window?window:"undefined"!==typeof self?self:this)},function(t,e,r){"use strict";e.FFTUtils=r(116),e.FFT=r(52)},function(t,e,r){"use strict";var n=r(52),i={DEBUG:!1,ifft2DArray:function(t,e,r){var i=new Array(e*r),a=e/2,o=2*(r-1);n.init(a);for(var s={re:new Array(a),im:new Array(a)},u=0;u<r;u++){for(var l=a-1;l>=0;l--)s.re[l]=t[2*l*r+u],s.im[l]=t[(2*l+1)*r+u];n.bt(s.re,s.im);for(l=a-1;l>=0;l--)i[2*l*r+u]=s.re[l],i[(2*l+1)*r+u]=s.im[l]}var h=new Array(a*o);n.init(o);var c={re:new Array(o),im:new Array(o)},f=o*a;for(l=0;l<e;l+=2){c.re[0]=i[l*r],c.im[0]=i[(l+1)*r];for(u=1;u<r;u++)c.re[u]=i[l*r+u],c.im[u]=i[(l+1)*r+u],c.re[o-u]=i[l*r+u],c.im[o-u]=-i[(l+1)*r+u];n.bt(c.re,c.im);var d=l/2*o;for(u=o-1;u>=0;u--)h[d+u]=c.re[u]/f}return h},fft2DArray:function(t,e,r,i){Object.assign({},{inplace:!0});var a=r/2+1,o=2*e,s=new Array(o*a);n.init(r);for(var u,l,h,c,f,d={re:new Array(r),im:new Array(r)},p={re:new Array(r),im:new Array(r)},m={re:new Array(r),im:new Array(r)},g=0;g<e/2;g++){u=2*g*r,d.re=t.slice(u,u+r),u=(2*g+1)*r,d.im=t.slice(u,u+r),n.fft1d(d.re,d.im),this.reconstructTwoRealFFT(d,p,m),l=4*g*a,h=(4*g+1)*a,c=(4*g+2)*a,f=(4*g+3)*a;for(var v=a-1;v>=0;v--)s[l+v]=p.re[v],s[h+v]=p.im[v],s[c+v]=m.re[v],s[f+v]=m.im[v]}p=null,m=null;var y=new Array(o*a);n.init(e);for(var w={re:new Array(e),im:new Array(e)},b=a-1;b>=0;b--){for(g=e-1;g>=0;g--)w.re[g]=s[2*g*a+b],w.im[g]=s[(2*g+1)*a+b],isNaN(w.re[g])&&(w.re[g]=0),isNaN(w.im[g])&&(w.im[g]=0);n.fft1d(w.re,w.im);for(g=e-1;g>=0;g--)y[2*g*a+b]=w.re[g],y[(2*g+1)*a+b]=w.im[g]}return y},reconstructTwoRealFFT:function(t,e,r){var n,i,a,o,s,u=t.re.length;e.re[0]=t.re[0],e.im[0]=0,r.re[0]=t.im[0],r.im[0]=0;for(var l=u/2;l>0;l--)s=u-l,n=.5*(t.re[l]-t.re[s]),i=.5*(t.re[l]+t.re[s]),a=.5*(t.im[l]-t.im[s]),o=.5*(t.im[l]+t.im[s]),e.re[l]=i,e.im[l]=a,e.re[s]=i,e.im[s]=-a,r.re[l]=o,r.im[l]=-n,r.re[s]=o,r.im[s]=n},convolute2DI:function(t,e,r,n){for(var i,a,o=0;o<r/2;o++)for(var s=0;s<n;s++)i=t[2*o*n+s]*e[2*o*n+s]-t[(2*o+1)*n+s]*e[(2*o+1)*n+s],a=t[2*o*n+s]*e[(2*o+1)*n+s]+t[(2*o+1)*n+s]*e[2*o*n+s],t[2*o*n+s]=i,t[(2*o+1)*n+s]=a},convolute:function(t,e,r,n,i){for(var a=new Array(n*r),o=0;o<r*n;o++)a[o]=t[o];a=this.fft2DArray(a,r,n);var s,u=e.length,l=e[0].length,h=new Array(n*r);for(o=0;o<n*r;o++)h[o]=0;for(var c=Math.floor((u-1)/2),f=Math.floor((l-1)/2),d=0;d<u;d++){s=(d-c+r)%r;for(var p=0;p<l;p++)h[s*n+(p-f+n)%n]=e[d][p]}h=this.fft2DArray(h,r,n);var m=2*r,g=n/2+1;return this.convolute2DI(a,h,m,g),this.ifft2DArray(a,m,g)},toRadix2:function(t,e,r){var n,i,a,o,s=r,u=e;if(0===r||0!==(r&r-1)){for(s=0;r>>++s!=0;);(s=1<<s)-r}if(0===e||0!==(e&e-1)){for(u=0;e>>++u!=0;);((u=1<<u)-e)*s}if(u==e&&s==r)return{data:t,rows:e,cols:r};var l=new Array(u*s),h=Math.floor((u-e)/2)-e,c=Math.floor((s-r)/2)-r;for(n=0;n<u;n++)for(a=n*s,o=(n-h)%e*r,i=0;i<s;i++)l[a+i]=t[o+(i-c)%r];return{data:l,rows:u,cols:s}},crop:function(t,e,r,n,i,a){if(e==n&&r==i)return t;Object.assign({},a);var o,s,u,l,h=new Array(i*n),c=Math.floor((e-n)/2),f=Math.floor((r-i)/2);for(u=0;u<n;u++)for(o=u*i,s=(u+c)*r,l=0;l<i;l++)h[o+l]=t[s+(l+f)];return h}};t.exports=i},function(t,e,r){"use strict";t.exports=Number.isFinite||function(t){return!("number"!==typeof t||t!==t||t===1/0||t===-1/0)}},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).squaredEuclidean,o={sigma:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}return i(t,[{key:"compute",value:function(t,e){var r=a(t,e);return Math.exp(-r/this.divisor)}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(9),i=r(10),a={degree:1,constant:1,scale:1},o=function(){function t(e){n(this,t),e=Object.assign({},a,e),this.degree=e.degree,this.constant=e.constant,this.scale=e.scale}return i(t,[{key:"compute",value:function(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.pow(this.scale*r+this.constant,this.degree)}}]),t}();t.exports=o},function(t,e,r){"use strict";var n=r(9),i=r(10),a={alpha:.01,constant:-Math.E},o=function(){function t(e){n(this,t),e=Object.assign({},a,e),this.alpha=e.alpha,this.constant=e.constant}return i(t,[{key:"compute",value:function(t,e){for(var r=0,n=0;n<t.length;n++)r+=t[n]*e[n];return Math.tanh(this.alpha*r+this.constant)}}]),t}();t.exports=o},function(t,e,r){"use strict";var n=r(9),i=r(10),a={sigma:1,degree:1},o=function(){function t(e){n(this,t),e=Object.assign({},a,e),this.sigma=e.sigma,this.degree=e.degree}return i(t,[{key:"compute",value:function(t,e){for(var r=0,n=Math.min(t.length,e.length),i=1;i<=n;++i)r+=Math.pow(Math.exp(-this.sigma*Math.pow(Math.pow(t[i-1],i)-Math.pow(e[i-1],i),2)),this.degree);return r}}]),t}();t.exports=o},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).squaredEuclidean,o={sigma:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.sigma=e.sigma}return i(t,[{key:"compute",value:function(t,e){return 1/(1+a(t,e)/(this.sigma*this.sigma))}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).euclidean,o={sigma:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.sigma=e.sigma,this.divisor=2*e.sigma*e.sigma}return i(t,[{key:"compute",value:function(t,e){var r=a(t,e);return Math.exp(-r/this.divisor)}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(9),i=r(10),a=function(){function t(){n(this,t)}return i(t,[{key:"compute",value:function(t,e){for(var r=Math.min(t.length,e.length),n=0,i=0;i<r;++i)n+=Math.min(t[i],e[i]);return n}}]),t}();t.exports=a},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).euclidean,o={sigma:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.sigma=e.sigma}return i(t,[{key:"compute",value:function(t,e){var r=a(t,e);return Math.exp(-r/this.sigma)}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).squaredEuclidean,o={constant:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.constant=e.constant}return i(t,[{key:"compute",value:function(t,e){return Math.sqrt(a(t,e)+this.constant*this.constant)}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(9),i=r(10),a=r(21).squaredEuclidean,o={constant:1},s=function(){function t(e){n(this,t),e=Object.assign({},o,e),this.constant=e.constant}return i(t,[{key:"compute",value:function(t,e){var r=a(t,e);return 1-r/(r+this.constant)}}]),t}();t.exports=s},function(t,e,r){"use strict";var n=r(54),i=r(129),a=r(130),o=r(132),s=5;function u(t,e,r,n){return function(r,i,a){var o=t(t(e(i[1],a[0]),e(-a[1],i[0])),t(e(r[1],i[0]),e(-i[1],r[0]))),s=t(e(r[1],a[0]),e(-a[1],r[0])),u=n(o,s);return u[u.length-1]}}function l(t,e,r,n){return function(i,a,o,s){var u=t(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(r(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),r(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2])))),l=t(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),t(r(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),o[2])))),h=n(u,l);return h[h.length-1]}}function h(t,e,r,n){return function(i,a,o,s,u){var l=t(t(t(r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),o[2]),t(r(t(e(o[1],u[0]),e(-u[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),u[2]))),a[3]),t(r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),a[2]),t(r(t(e(a[1],u[0]),e(-u[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),u[2]))),-o[3]),r(t(r(t(e(o[1],u[0]),e(-u[1],o[0])),a[2]),t(r(t(e(a[1],u[0]),e(-u[1],a[0])),-o[2]),r(t(e(a[1],o[0]),e(-o[1],a[0])),u[2]))),s[3]))),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(r(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),r(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),-u[3]),t(r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),a[2]),t(r(t(e(a[1],u[0]),e(-u[1],a[0])),-s[2]),r(t(e(a[1],s[0]),e(-s[1],a[0])),u[2]))),i[3]),r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),u[2]))),-a[3])))),t(t(r(t(r(t(e(a[1],u[0]),e(-u[1],a[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),u[2]))),s[3]),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),-u[3]),r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),a[2]),t(r(t(e(a[1],s[0]),e(-s[1],a[0])),-o[2]),r(t(e(a[1],o[0]),e(-o[1],a[0])),s[2]))),i[3]))),t(r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-a[3]),t(r(t(r(t(e(a[1],s[0]),e(-s[1],a[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),s[2]))),o[3]),r(t(r(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),o[2]))),-s[3]))))),h=t(t(t(r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),o[2]),t(r(t(e(o[1],u[0]),e(-u[1],o[0])),-s[2]),r(t(e(o[1],s[0]),e(-s[1],o[0])),u[2]))),i[3]),r(t(r(t(e(s[1],u[0]),e(-u[1],s[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-s[2]),r(t(e(i[1],s[0]),e(-s[1],i[0])),u[2]))),-o[3])),t(r(t(r(t(e(o[1],u[0]),e(-u[1],o[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),u[2]))),s[3]),r(t(r(t(e(o[1],s[0]),e(-s[1],o[0])),i[2]),t(r(t(e(i[1],s[0]),e(-s[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),s[2]))),-u[3]))),t(t(r(t(r(t(e(o[1],u[0]),e(-u[1],o[0])),a[2]),t(r(t(e(a[1],u[0]),e(-u[1],a[0])),-o[2]),r(t(e(a[1],o[0]),e(-o[1],a[0])),u[2]))),i[3]),r(t(r(t(e(o[1],u[0]),e(-u[1],o[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-o[2]),r(t(e(i[1],o[0]),e(-o[1],i[0])),u[2]))),-a[3])),t(r(t(r(t(e(a[1],u[0]),e(-u[1],a[0])),i[2]),t(r(t(e(i[1],u[0]),e(-u[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),u[2]))),o[3]),r(t(r(t(e(a[1],o[0]),e(-o[1],a[0])),i[2]),t(r(t(e(i[1],o[0]),e(-o[1],i[0])),-a[2]),r(t(e(i[1],a[0]),e(-a[1],i[0])),o[2]))),-u[3])))),c=n(l,h);return c[c.length-1]}}function c(t){return(3===t?u:4===t?l:h)(i,n,a,o)}var f=c(3),d=c(4),p=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),a=(t[0]-r[0])*(e[1]-r[1]),o=i-a;if(i>0){if(a<=0)return o;n=i+a}else{if(!(i<0))return o;if(a>=0)return o;n=-(i+a)}var s=3.3306690738754716e-16*n;return o>=s||o<=-s?o:f(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],a=e[0]-n[0],o=r[0]-n[0],s=t[1]-n[1],u=e[1]-n[1],l=r[1]-n[1],h=t[2]-n[2],c=e[2]-n[2],f=r[2]-n[2],p=a*l,m=o*u,g=o*s,v=i*l,y=i*u,w=a*s,b=h*(p-m)+c*(g-v)+f*(y-w),k=7.771561172376103e-16*((Math.abs(p)+Math.abs(m))*Math.abs(h)+(Math.abs(g)+Math.abs(v))*Math.abs(c)+(Math.abs(y)+Math.abs(w))*Math.abs(f));return b>k||-b>k?b:d(t,e,r,n)}];function m(t){var e=p[t.length];return e||(e=p[t.length]=c(t.length)),e.apply(void 0,t)}!function(){for(;p.length<=s;)p.push(c(p.length));t.exports=function(t,e,r,n,i,a,o){return function(e,r,s,u,l){switch(arguments.length){case 0:case 1:return 0;case 2:return n(e,r);case 3:return i(e,r,s);case 4:return a(e,r,s,u);case 5:return o(e,r,s,u,l)}for(var h=new Array(arguments.length),c=0;c<arguments.length;++c)h[c]=arguments[c];return t(h)}}.apply(void 0,[m].concat(p));for(var e=0;e<=s;++e)t.exports[e]=p[e]}()},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);if(i)return[i,r];return[r]}(t[0],e[0]);var i,a,o=new Array(r+n),s=0,u=0,l=0,h=Math.abs,c=t[u],f=h(c),d=e[l],p=h(d);f<p?(a=c,(u+=1)<r&&(c=t[u],f=h(c))):(a=d,(l+=1)<n&&(d=e[l],p=h(d)));u<r&&f<p||l>=n?(i=c,(u+=1)<r&&(c=t[u],f=h(c))):(i=d,(l+=1)<n&&(d=e[l],p=h(d)));var m,g,v=i+a,y=v-i,w=a-y,b=w,k=v;for(;u<r&&l<n;)f<p?(i=c,(u+=1)<r&&(c=t[u],f=h(c))):(i=d,(l+=1)<n&&(d=e[l],p=h(d))),(w=(a=b)-(y=(v=i+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m;for(;u<r;)(w=(a=b)-(y=(v=(i=c)+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m,(u+=1)<r&&(c=t[u]);for(;l<n;)(w=(a=b)-(y=(v=(i=d)+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m,(l+=1)<n&&(d=e[l]);b&&(o[s++]=b);k&&(o[s++]=k);s||(o[s++]=0);return o.length=s,o}},function(t,e,r){"use strict";var n=r(54),i=r(131);t.exports=function(t,e){var r=t.length;if(1===r){var a=n(t[0],e);return a[0]?a:[a[1]]}var o=new Array(2*r),s=[.1,.1],u=[.1,.1],l=0;n(t[0],e,s),s[0]&&(o[l++]=s[0]);for(var h=1;h<r;++h){n(t[h],e,u);var c=s[1];i(c,u[0],s),s[0]&&(o[l++]=s[0]);var f=u[1],d=s[1],p=f+d,m=p-f,g=d-m;s[1]=p,g&&(o[l++]=g)}s[1]&&(o[l++]=s[1]);0===l&&(o[l++]=0);return o.length=l,o}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=t+e,i=n-t,a=e-i,o=t-(n-i);if(r)return r[0]=o+a,r[1]=n,r;return[o+a,n]}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);if(i)return[i,r];return[r]}(t[0],-e[0]);var i,a,o=new Array(r+n),s=0,u=0,l=0,h=Math.abs,c=t[u],f=h(c),d=-e[l],p=h(d);f<p?(a=c,(u+=1)<r&&(c=t[u],f=h(c))):(a=d,(l+=1)<n&&(d=-e[l],p=h(d)));u<r&&f<p||l>=n?(i=c,(u+=1)<r&&(c=t[u],f=h(c))):(i=d,(l+=1)<n&&(d=-e[l],p=h(d)));var m,g,v=i+a,y=v-i,w=a-y,b=w,k=v;for(;u<r&&l<n;)f<p?(i=c,(u+=1)<r&&(c=t[u],f=h(c))):(i=d,(l+=1)<n&&(d=-e[l],p=h(d))),(w=(a=b)-(y=(v=i+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m;for(;u<r;)(w=(a=b)-(y=(v=(i=c)+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m,(u+=1)<r&&(c=t[u]);for(;l<n;)(w=(a=b)-(y=(v=(i=d)+a)-i))&&(o[s++]=w),b=k-((m=k+v)-(g=m-k))+(v-g),k=m,(l+=1)<n&&(d=-e[l]);b&&(o[s++]=b);k&&(o[s++]=k);s||(o[s++]=0);return o.length=s,o}},function(t,e,r){"use strict";var n=function(){self.window=self;function t(){this._listeners={}}t.prototype.on=function(t,e){if(this._listeners[t])throw new RangeError("there is already a listener for "+t);if("function"!==typeof e)throw new TypeError("callback argument must be a function");this._listeners[t]=e},t.prototype._send=function(t,e,r){void 0===r?r=[]:Array.isArray(r)||(r=[r]),self.postMessage({id:t,data:e},r)},t.prototype._trigger=function(t,e){if(!this._listeners[t])throw new Error("event "+t+" is not defined");this._listeners[t].apply(null,e)};var e=new t;self.onmessage=function(t){switch(t.data.action){case"exec":t.data.args.unshift(function(r,n){e._send(t.data.id,r,n)}),e._trigger(t.data.event,t.data.args);break;case"ping":e._send(t.data.id,"pong");break;default:throw new Error("unexpected action: "+t.data.action)}}}.toString().split('"CODE";');e.newWorkerURL=function(t,e){var r=new Blob(["(",n[0],"importScripts.apply(self, "+JSON.stringify(e)+");\n","(",t,")();",n[1],")();"],{type:"application/javascript"});return URL.createObjectURL(r)}},function(t,e,r){var n;t.exports=function t(e,r,i){function a(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof n&&n;if(!u&&l)return n(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return a(r||t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var o="function"==typeof n&&n,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,r){var n,i,a=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"===typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,h=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):f=-1,h.length&&p())}function p(){if(!c){var t=u(d);c=!0;for(var e=h.length;e;){for(l=h,h=[];++f<e;)l&&l[f].run();f=-1,e=h.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new m(t,e)),1!==h.length||c||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],2:[function(t,e,r){e.exports={name:"tesseract.js",version:"1.0.19",description:"Pure Javascript Multilingual OCR",main:"src/index.js",scripts:{start:'concurrently --kill-others "watchify src/index.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.dev.js --standalone Tesseract" "watchify src/browser/worker.js  -t [ envify --TESS_ENV development ] -t [ babelify --presets [ es2015 ] ] -o dist/worker.dev.js" "http-server -p 7355"',build:"browserify src/index.js -t [ babelify --presets [ es2015 ] ] -o dist/tesseract.js --standalone Tesseract && browserify src/browser/worker.js -t [ babelify --presets [ es2015 ] ] -o dist/worker.js && uglifyjs dist/tesseract.js --source-map -o dist/tesseract.min.js && uglifyjs dist/worker.js --source-map -o dist/worker.min.js",release:"npm run build && git commit -am 'new release' && git push && git tag `jq -r '.version' package.json` && git push origin --tags && npm publish"},browser:{"./src/node/index.js":"./src/browser/index.js"},author:"",license:"Apache-2.0",devDependencies:{"babel-preset-es2015":"^6.16.0",babelify:"^7.3.0",browserify:"^13.1.0",concurrently:"^3.1.0",envify:"^3.4.1","http-server":"^0.9.0",pako:"^1.0.3","uglify-js":"^3.4.9",watchify:"^3.7.0"},dependencies:{"file-type":"^3.8.0","isomorphic-fetch":"^2.2.1","is-url":"1.2.2","jpeg-js":"^0.2.0","level-js":"^2.2.4","node-fetch":"^1.6.3","object-assign":"^4.1.0","png.js":"^0.2.1","tesseract.js-core":"^1.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js"}},{}],3:[function(t,e,r){(function(e){"use strict";var n={corePath:"https://cdn.jsdelivr.net/gh/naptha/tesseract.js-core@0.1.0/index.js",langPath:"https://tessdata.projectnaptha.com/3.02/"};if("development"===e.env.TESS_ENV)console.debug("Using Development Configuration"),n.workerPath=location.protocol+"//"+location.host+"/dist/worker.dev.js?nocache="+Math.random().toString(36).slice(3);else{var i=t("../../package.json").version;n.workerPath="https://cdn.jsdelivr.net/gh/naptha/tesseract.js@"+i+"/dist/worker.js"}r.defaultOptions=n,r.spawnWorker=function(t,e){if(Blob&&URL)var r=new Blob(['importScripts("'+e.workerPath+'");'],{type:"application/javascript"}),n=new Worker(URL.createObjectURL(r));else var n=new Worker(e.workerPath);return n.onmessage=function(e){var r=e.data;t._recv(r)},n},r.terminateWorker=function(t){t.worker.terminate()},r.sendPacket=function(t,e){!function t(e,r){if("string"===typeof e){if(/^\#/.test(e))return t(document.querySelector(e),r);if(/(blob|data)\:/.test(e)){var n=new Image;return n.src=e,n.onload=function(e){return t(n,r)},void(n.onerror=function(t){throw t})}var i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="blob",i.onload=function(e){if(i.status>=400)throw new Error("Fail to get image as Blob");t(i.response,r)},i.onerror=function(t){throw t},void i.send(null)}if(e instanceof File){var a=new FileReader;return a.onload=function(e){return t(a.result,r)},a.onerror=function(t){throw t},void a.readAsDataURL(e)}if(e instanceof Blob)return t(URL.createObjectURL(e),r);if(e.getContext)return t(e.getContext("2d"),r);if("IMG"==e.tagName||"VIDEO"==e.tagName){var o=document.createElement("canvas");o.width=e.naturalWidth||e.videoWidth,o.height=e.naturalHeight||e.videoHeight;var s=o.getContext("2d");return s.drawImage(e,0,0),t(s,r)}if(e.getImageData){var u=e.getImageData(0,0,e.canvas.width,e.canvas.height);return t(u,r)}return r(e)}(e.payload.image,function(r){e.payload.image=r,t.worker.postMessage(e)})}}).call(this,t("_process"))},{"../../package.json":2,_process:1}],4:[function(t,e,r){"use strict";e.exports=function(t){return t.paragraphs=[],t.lines=[],t.words=[],t.symbols=[],t.blocks.forEach(function(e){e.page=t,e.lines=[],e.words=[],e.symbols=[],e.paragraphs.forEach(function(r){r.block=e,r.page=t,r.words=[],r.symbols=[],r.lines.forEach(function(n){n.paragraph=r,n.block=e,n.page=t,n.symbols=[],n.words.forEach(function(i){i.line=n,i.paragraph=r,i.block=e,i.page=t,i.symbols.forEach(function(a){a.word=i,a.line=n,a.paragraph=r,a.block=e,a.page=t,a.line.symbols.push(a),a.paragraph.symbols.push(a),a.block.symbols.push(a),a.page.symbols.push(a)}),i.paragraph.words.push(i),i.block.words.push(i),i.page.words.push(i)}),n.block.lines.push(n),n.page.lines.push(n)}),r.page.paragraphs.push(r)})}),t}},{}],5:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("../node/index.js"),a=0;e.exports=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Job-"+ ++a+"-"+Math.random().toString(16).slice(3,8),this._instance=e,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}return n(t,[{key:"then",value:function(t,e){return this._resolve.push?this._resolve.push(t):t(this._resolve),e&&this.catch(e),this}},{key:"catch",value:function(t){return this._reject.push?this._reject.push(t):t(this._reject),this}},{key:"progress",value:function(t){return this._progress.push(t),this}},{key:"finally",value:function(t){return this._finally.push(t),this}},{key:"_send",value:function(t,e){i.sendPacket(this._instance,{jobId:this.id,action:t,payload:e})}},{key:"_handle",value:function(t){var e=t.data,r=!1;"resolve"===t.status?(0===this._resolve.length&&console.log(e),this._resolve.forEach(function(t){var r=t(e);r&&"function"==typeof r.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=e,this._instance._dequeue(),r=!0):"reject"===t.status?(0===this._reject.length&&console.error(e),this._reject.forEach(function(t){return t(e)}),this._reject=e,this._instance._dequeue(),r=!0):"progress"===t.status?this._progress.forEach(function(t){return t(e)}):console.warn("Message type unknown",t.status),r&&this._finally.forEach(function(t){return t(e)})}}]),t}()},{"../node/index.js":3}],6:[function(t,e,r){"use strict";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=t("./node/index.js"),a=t("./common/circularize.js"),o=t("./common/job"),s=t("../package.json").version,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.worker=null,this.workerOptions=e,this._currentJob=null,this._queue=[]}return n(t,[{key:"recognize",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(n){"string"===typeof r&&(r={lang:r}),r.lang=r.lang||"eng",n._send("recognize",{image:t,options:r,workerOptions:e.workerOptions})})}},{key:"detect",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(n){n._send("detect",{image:t,options:r,workerOptions:e.workerOptions})})}},{key:"terminate",value:function(){this.worker&&i.terminateWorker(this),this.worker=null,this._currentJob=null,this._queue=[]}},{key:"_delay",value:function(t){var e=this;this.worker||(this.worker=i.spawnWorker(this,this.workerOptions));var r=new o(this);return this._queue.push(function(n){e._queue.shift(),e._currentJob=r,t(r)}),this._currentJob||this._dequeue(),r}},{key:"_dequeue",value:function(){this._currentJob=null,this._queue.length&&this._queue[0]()}},{key:"_recv",value:function(t){"resolve"===t.status&&"recognize"===t.action&&(t.data=a(t.data)),this._currentJob.id===t.jobId?this._currentJob._handle(t):console.warn("Job ID "+t.jobId+" not known.")}}]),t}();e.exports=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new u(Object.assign({},i.defaultOptions,e));return r.create=t,r.version=s,r}()},{"../package.json":2,"./common/circularize.js":4,"./common/job":5,"./node/index.js":3}]},{},[6])(6)},function(t,e,r){var n=r(9),i=r(10),a=r(55),o=r(136),s=r(137),u=r(56).version,l=function(){"use strict";function t(e){n(this,t),this.worker=null,this.workerOptions=e,this._currentJob=null,this._queue=[]}return i(t,[{key:"recognize",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(n){"string"===typeof r&&(r={lang:r}),r.lang=r.lang||"eng",n._send("recognize",{image:t,options:r,workerOptions:e.workerOptions})})}},{key:"detect",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._delay(function(n){n._send("detect",{image:t,options:r,workerOptions:e.workerOptions})})}},{key:"terminate",value:function(){this.worker&&a.terminateWorker(this),this.worker=null,this._currentJob=null,this._queue=[]}},{key:"_delay",value:function(t){var e=this;this.worker||(this.worker=a.spawnWorker(this,this.workerOptions));var r=new s(this);return this._queue.push(function(n){e._queue.shift(),e._currentJob=r,t(r)}),this._currentJob||this._dequeue(),r}},{key:"_dequeue",value:function(){this._currentJob=null,this._queue.length&&this._queue[0]()}},{key:"_recv",value:function(t){"resolve"===t.status&&"recognize"===t.action&&(t.data=o(t.data)),this._currentJob.id===t.jobId?this._currentJob._handle(t):console.warn("Job ID "+t.jobId+" not known.")}}]),t}();t.exports=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=new l(Object.assign({},a.defaultOptions,e));return r.create=t,r.version=u,r}()},function(t,e){t.exports=function(t){return t.paragraphs=[],t.lines=[],t.words=[],t.symbols=[],t.blocks.forEach(function(e){e.page=t,e.lines=[],e.words=[],e.symbols=[],e.paragraphs.forEach(function(r){r.block=e,r.page=t,r.words=[],r.symbols=[],r.lines.forEach(function(n){n.paragraph=r,n.block=e,n.page=t,n.symbols=[],n.words.forEach(function(i){i.line=n,i.paragraph=r,i.block=e,i.page=t,i.symbols.forEach(function(a){a.word=i,a.line=n,a.paragraph=r,a.block=e,a.page=t,a.line.symbols.push(a),a.paragraph.symbols.push(a),a.block.symbols.push(a),a.page.symbols.push(a)}),i.paragraph.words.push(i),i.block.words.push(i),i.page.words.push(i)}),n.block.lines.push(n),n.page.lines.push(n)}),r.page.paragraphs.push(r)})}),t}},function(t,e,r){var n=r(9),i=r(10),a=r(55),o=0;t.exports=function(){"use strict";function t(e){n(this,t),this.id="Job-"+ ++o+"-"+Math.random().toString(16).slice(3,8),this._instance=e,this._resolve=[],this._reject=[],this._progress=[],this._finally=[]}return i(t,[{key:"then",value:function(t,e){return this._resolve.push?this._resolve.push(t):t(this._resolve),e&&this.catch(e),this}},{key:"catch",value:function(t){return this._reject.push?this._reject.push(t):t(this._reject),this}},{key:"progress",value:function(t){return this._progress.push(t),this}},{key:"finally",value:function(t){return this._finally.push(t),this}},{key:"_send",value:function(t,e){a.sendPacket(this._instance,{jobId:this.id,action:t,payload:e})}},{key:"_handle",value:function(t){var e=t.data,r=!1;"resolve"===t.status?(0===this._resolve.length&&console.log(e),this._resolve.forEach(function(t){var r=t(e);r&&"function"==typeof r.then&&console.warn("TesseractJob instances do not chain like ES6 Promises. To convert it into a real promise, use Promise.resolve.")}),this._resolve=e,this._instance._dequeue(),r=!0):"reject"===t.status?(0===this._reject.length&&console.error(e),this._reject.forEach(function(t){return t(e)}),this._reject=e,this._instance._dequeue(),r=!0):"progress"===t.status?this._progress.forEach(function(t){return t(e)}):console.warn("Message type unknown",t.status),r&&this._finally.forEach(function(t){return t(e)})}}]),t}()}]]);
//# sourceMappingURL=2.5b881c66.chunk.js.map